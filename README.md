Backend Interview Questions 2025 

<img width="800" height="800" alt="Image" src="https://github.com/user-attachments/assets/fdbccee0-2e11-4f42-b1f9-f3eea5f0496f" />

## üìö –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–õ–∞–π—Ñ—Ö–∞–∫–∏ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Å–æ–±–µ—Å–∞–º](#-–ª–∞–π—Ñ—Ö–∞–∫–∏-–¥–ª—è-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏-–∫-—Å–æ–±–µ—Å–∞–º)
- [–ß–∞—Å—Ç—å 1: –û—Å–Ω–æ–≤—ã Backend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#-—á–∞—Å—Ç—å-1-–æ—Å–Ω–æ–≤—ã-backend-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
    - [–û–±—â–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –±—ç–∫–µ–Ω–¥–∞](#-1-–æ–±—â–∏–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-–±—ç–∫–µ–Ω–¥–∞)
    - ["Holy Moly" Questions - –ú–∞—Å—à—Ç–∞–±–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](#-holy-moly-questions---–º–∞—Å—à—Ç–∞–±–Ω—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-2025)
    - [–°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã](#-2-—Å–µ—Ç–µ–≤—ã–µ-–ø—Ä–æ—Ç–æ–∫–æ–ª—ã)
        - [HTTP/3 –∏ QUIC (–ù–æ–≤–∏–Ω–∫–∞ 2025!)](#-http3-–∏-quic-–Ω–æ–≤–∏–Ω–∫–∞-2025)
    - [–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã](#%EF%B8%8F-3-%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B)
    - [–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è](#%EF%B8%8F-4-%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF%D1%8B-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)
- [–ß–∞—Å—Ç—å 2: –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ DevOps](#%EF%B8%8F-%D1%87%D0%B0%D1%81%D1%82%D1%8C-2-%D0%B1%D0%B0%D0%B7%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%B8-devops)
    - [DevOps –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è](#-2-devops-–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è)
        - [Kubernetes 1.31 (2025 Update)](#%EF%B8%8F-kubernetes-131-2025-update)
        - [GitHub Actions CI/CD —Å AI Testing](#-github-actions-cicd-—Å-ai-testing-2025)
- [ü§ñ AI –≤ –±—ç–∫–µ–Ω–¥–µ (2025 Trends)](#-ai-–≤-–±—ç–∫–µ–Ω–¥–µ-2025-trends)
    - [–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ LLM](#-1-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏-llm)
    - [Observability –¥–ª—è AI —Å–∏—Å—Ç–µ–º](#-2-observability-–¥–ª—è-ai-—Å–∏—Å—Ç–µ–º)
    - [Rate Limiting –∏ Circuit Breaker –¥–ª—è AI](#-3-rate-limiting-–∏-circuit-breaker-–¥–ª—è-ai)
- [–ß–∞—Å—Ç—å 3: –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö](#-—á–∞—Å—Ç—å-3-–∞–ª–≥–æ—Ä–∏—Ç–º—ã-–∏-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–¥–∞–Ω–Ω—ã—Ö)
    - [LeetCode-Style –ó–∞–¥–∞—á–∏ –¥–ª—è Backend Interview](#-leetcode-style-–∑–∞–¥–∞—á–∏-–¥–ª—è-backend-interview-2025)
- [–ß–∞—Å—Ç—å 4: Python —É–≥–ª—É–±–ª—ë–Ω–Ω–æ](#-—á–∞—Å—Ç—å-4-python-—É–≥–ª—É–±–ª—ë–Ω–Ω–æ)
    - [üöÄ –ù–æ–≤–æ–µ –≤ Python 3.13 (2025 Update)](#-–Ω–æ–≤–æ–µ-–≤-python-313-2025-update)
        - [–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π GIL-free —Ä–µ–∂–∏–º](#%EF%B8%8F-—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π-gil-free-—Ä–µ–∂–∏–º-pep-703)
        - [–£–ª—É—á—à–µ–Ω–∏—è asyncio](#-—É–ª—É—á—à–µ–Ω–∏—è-asyncio)
        - [Subinterpreters API](#-subinterpreters-api-—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)

---

> **üìä –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:**
> - HTTP/3 —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: Cloudflare State of the Internet Report 2025
> - AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: Gartner Technology Trends 2025
> - Python 3.13 —Ñ–∏—á–∏: Python Enhancement Proposals (PEP 703, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Python.org)
> - Kubernetes 1.31: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Kubernetes (–ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å!)
> 
> **‚ö†Ô∏è Disclaimer:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∏—á–∏ (GIL-free, K8s 1.31) –º–æ–≥—É—Ç –±—ã—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º–∏. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ production.

---

## üéØ –õ–∞–π—Ñ—Ö–∞–∫–∏ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Å–æ–±–µ—Å–∞–º

### üì± –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- **–§–æ—Ä–∫ + AI –∞–≥–µ–Ω—Ç**: –°–∫–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ, –æ—Ç–∫—Ä–æ–π –≤ IDE —Å GitHub Copilot/Cursor –∏ –ø–æ–ø—Ä–æ—Å–∏ –≤—ã–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ –æ–¥–Ω–æ–º—É
- **–ö–∞—Ä—Ç–æ—á–∫–∏ Anki**: –ü—Ä–µ–æ–±—Ä–∞–∑—É–π –≤–æ–ø—Ä–æ—Å—ã-–æ—Ç–≤–µ—Ç—ã –≤ —Å–ø–µ–π—Å—Ä–µ–ø–µ—Ç–∏—à–Ω –∫–∞—Ä—Ç–æ—á–∫–∏
- **Telegram –±–æ—Ç**: –°–æ–∑–¥–∞–π –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–Ω–¥–æ–º–Ω–æ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Ç–µ–±–µ –≤–æ–ø—Ä–æ—Å—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è
- **Voice —Ä–µ–∂–∏–º**: –ü–æ–ø—Ä–æ—Å–∏ Claude —á–∏—Ç–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –≤—Å–ª—É—Ö, –∞ —Ç—ã –æ—Ç–≤–µ—á–∞–π —É—Å—Ç–Ω–æ (—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Ä–µ—á–∏)

### üé≠ –ò–º–∏—Ç–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ–±–µ—Å–∞
- **–†–æ–ª—å-–ø–ª–µ–π —Å AI**: "–¢—ã senior —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑ FAANG, –ø—Ä–æ–≤–æ–¥–∏—à—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é. –ó–∞–¥–∞–≤–∞–π —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ü–µ–Ω–∏–≤–∞–π –æ—Ç–≤–µ—Ç—ã"
- **–¢–∞–π–º–µ—Ä —á–µ–ª–ª–µ–Ω–¥–∂**: 2 –º–∏–Ω—É—Ç—ã –Ω–∞ –æ—Ç–≤–µ—Ç –ø–æ —Ç–µ–æ—Ä–∏–∏, 5-10 –º–∏–Ω—É—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é –∑–∞–¥–∞—á—É
- **–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç**: –ü–æ–ø—Ä–æ—Å–∏ AI –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –∏ –∑–∞–¥–∞–≤–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –≤–æ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- **Whiteboarding**: –†–µ—à–∞–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –±—É–º–∞–≥–µ/–¥–æ—Å–∫–µ, –æ–±—ä—è—Å–Ω—è—è –≤—Å–ª—É—Ö

### üîÑ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—é**: –ù–∞—á–∏–Ω–∞–π —Å Easy, –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ Holy Moly
- **–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø—Ä–∏–Ω—Ç—ã**: –û–¥–∏–Ω –¥–µ–Ω—å —Ç–æ–ª—å–∫–æ Go, –¥—Ä—É–≥–æ–π —Ç–æ–ª—å–∫–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–°–ª–∞–±—ã–µ –º–µ—Å—Ç–∞**: –í–µ–¥–∏ —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–≤–µ—Ç–∏–ª –ø–ª–æ—Ö–æ, –ø–æ–≤—Ç–æ—Ä—è–π –∏—Ö —á–∞—â–µ
- **Mockup interview**: –ü—Ä–æ—Å–∏ –¥—Ä—É–≥–∞/–∫–æ–ª–ª–µ–≥—É –ø—Ä–æ–≤–µ—Å—Ç–∏ –º–æ–∫-–∏–Ω—Ç–µ—Ä–≤—å—é –ø–æ —Ç–≤–æ–µ–º—É README

### üß† –£–≥–ª—É–±–ª–µ–Ω–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ
- **–°–≤—è–∑–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã**: –ù–∞ –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –∑–∞–¥–∞–≤–∞–π —Å–µ–±–µ "–ê —á—Ç–æ –µ—Å–ª–∏...?" –∏ "–ê –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫?"
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã**: –ö –∫–∞–∂–¥–æ–º—É —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–º—É –≤–æ–ø—Ä–æ—Å—É –ø—Ä–∏–¥—É–º–∞–π —Ä–µ–∞–ª—å–Ω—ã–π –∫–µ–π—Å –∏–∑ —Ä–∞–±–æ—Ç—ã
- **Code review**: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏, –∏—â–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ "–¥–ª—è –¥–∂—É–Ω–∞"**: –ü–æ–ø—Ä–æ–±—É–π –æ–±—ä—è—Å–Ω–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

### üìä –¢—Ä–µ–∫–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –í–µ–¥–∏ —Ç–∞–±–ª–∏—Ü—É —Å –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ —Ç–µ–º–∞–º
- **–î–Ω–µ–≤–Ω–∏–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏**: –ó–∞–ø–∏—Å—ã–≤–∞–π –∏–Ω—Å–∞–π—Ç—ã, —Å–ª–æ–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã, –ø–ª–∞–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å
- **Milestone —Å–∏—Å—Ç–µ–º–∞**: "100 –≤–æ–ø—Ä–æ—Å–æ–≤ –±–µ–∑ –æ—à–∏–±–æ–∫", "–í—Å–µ Go –∑–∞–¥–∞—á–∏ —Ä–µ—à–µ–Ω—ã" –∏ —Ç.–¥.

### üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏
- **Peer learning**: –û—Ä–≥–∞–Ω–∏–∑—É–π –≥—Ä—É–ø–ø—É –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏, –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –¥—Ä—É–≥ –¥—Ä—É–≥—É
- **Teaching method**: –ó–∞–ø–∏—à–∏ –≤–∏–¥–µ–æ, –≥–¥–µ –æ–±—ä—è—Å–Ω—è–µ—à—å —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
- **Real project mapping**: –°–æ–æ—Ç–Ω–æ—Å–∏ –≤–æ–ø—Ä–æ—Å—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏–∑ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- **Industry focus**: –§–∏–ª—å—Ç—Ä—É–π –≤–æ–ø—Ä–æ—Å—ã –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∫–æ–º–ø–∞–Ω–∏—é/–ø–æ–∑–∏—Ü–∏—é

### üé≤ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Random challenge**: –ì–µ–Ω–µ—Ä–∏—Ä—É–π —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (—è–∑—ã–∫ + —Å–ª–æ–∂–Ω–æ—Å—Ç—å + —Ç–µ–º–∞)
- **Streak system**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Å–µ—Ä–∏—é —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á
- **Boss battles**: –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ —Ä–µ—à–∞–π —Å–∞–º—ã–µ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏–∑ –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
- **Achievement unlocked**: –ù–∞–≥—Ä–∞–∂–¥–∞–π —Å–µ–±—è –∑–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–≤—Å–µ Python –∑–∞–¥–∞—á–∏, –≤—Å–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Ç.–¥.)


–ï–±–∞—Ç—å, Python developer! üêç **–ß–∞—Å—Ç—å 1: –û—Å–Ω–æ–≤—ã –±—ç–∫–µ–Ω–¥–∞** 

# üèóÔ∏è –ß–∞—Å—Ç—å 1: –û—Å–Ω–æ–≤—ã Backend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üåê 1. –û–±—â–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –±—ç–∫–µ–Ω–¥–∞

### üî• –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã vs –ú–æ–Ω–æ–ª–∏—Ç

**–ß—Ç–æ —Ç–∞–∫–æ–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã?** ü§î
- –†–∞–∑–±–∏–µ–Ω–∏–µ –±–æ–ª—å—à–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å = –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- –û–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API –∏–ª–∏ —Å–æ–±—ã—Ç–∏—è

**–ü–ª—é—Å—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:** ‚úÖ
- –ì–∏–±–∫–æ—Å—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π (–æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å –Ω–∞ Python, –¥—Ä—É–≥–æ–π –Ω–∞ Go)
- –õ–µ–≥—á–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏
- –ö–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–ú–∏–Ω—É—Å—ã:** ‚ùå
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö
- –°–ª–æ–∂–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å end-to-end

### üîß –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏?

**–†–µ—à–µ–Ω–∏—è:**
1. **Eventual Consistency** - –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞–Ω—É—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º–∏ "—Å–æ –≤—Ä–µ–º–µ–Ω–µ–º"
2. **Message Queues** (Kafka, RabbitMQ, Redis)
3. **Event Sourcing** - —Ö—Ä–∞–Ω–∏–º —Å–æ–±—ã—Ç–∏—è, –∞ –Ω–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```python
<details>
<summary>üê∞ –ü—Ä–∏–º–µ—Ä —Å RabbitMQ –≤ Python</summary>

```python
import pika

def publish_user_created_event(user_data):
    connection = pika.BlockingConnection(pika.ConnectionParameters('localhost'))
    channel = connection.channel()
    
    channel.queue_declare(queue='user_events')
    channel.basic_publish(
        exchange='',
        routing_key='user_events',
        body=json.dumps({
            'event': 'user_created',
            'data': user_data
        })
    )
    connection.close()
```

</details>
```

## üåç 2. –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

### üîå TCP vs UDP

**TCP (Transmission Control Protocol):**
- –ù–∞–¥—ë–∂–Ω—ã–π, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –∏ –ø–æ—Ä—è–¥–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–∑-–∑–∞ overhead'–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è HTTP, HTTPS, FTP

**UDP (User Datagram Protocol):**
- –ë—ã—Å—Ç—Ä—ã–π, –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è DNS, –≤–∏–¥–µ–æ-—Å—Ç—Ä–∏–º–∏–Ω–≥, –æ–Ω–ª–∞–π–Ω –∏–≥—Ä—ã

### üåê HTTP vs HTTPS

**HTTP (HyperText Transfer Protocol):**
- –ü–æ—Ä—Ç 80
- –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º —Ç–µ–∫—Å—Ç–æ–º
- –ë—ã—Å—Ç—Ä–µ–µ

**HTTPS (HTTP Secure):**
- –ü–æ—Ä—Ç 443
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ SSL/TLS
- –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–æ–ª–µ–π, –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
- SEO boost –æ—Ç Google

```python
<details>
<summary>üîê –ü—Ä–∏–º–µ—Ä HTTPS –∑–∞–ø—Ä–æ—Å–∞ –≤ Python</summary>

```python
import requests

# HTTP - –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ
response = requests.get('http://example.com/api/users')

# HTTPS - –±–µ–∑–æ–ø–∞—Å–Ω–æ
response = requests.get('https://example.com/api/users', 
                       headers={'Authorization': 'Bearer token'})
```

</details>
```

### üöÄ HTTP/3 –∏ QUIC (–ù–æ–≤–∏–Ω–∫–∞ 2025!)

> **üìä –§–∞–∫—Ç:** –ü–æ –¥–∞–Ω–Ω—ã–º Cloudflare, –≤ 2025 –≥–æ–¥—É —É–∂–µ 70% web-—Ç—Ä–∞—Ñ–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP/3

**HTTP/3 –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–ë—ã—Å—Ç—Ä–µ–µ:** 0-RTT —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **–ù–∞–¥—ë–∂–Ω–µ–µ:** –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ packet loss
- **–ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ë–µ–∑ head-of-line blocking
- **–û—Å–Ω–æ–≤–∞–Ω –Ω–∞ QUIC** (UDP) –≤–º–µ—Å—Ç–æ TCP

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

| –ü—Ä–æ—Ç–æ–∫–æ–ª | Connection Time | First Byte | Packet Loss Recovery |
|----------|----------------|------------|---------------------|
| HTTP/1.1 | 3 RTT | 100ms | 200ms+ |
| HTTP/2 | 2-3 RTT | 80ms | 100ms+ |
| **HTTP/3** | **0-1 RTT** | **30ms** | **10ms** |

```python
<details>
<summary>üöÄ HTTP/3 –∫–ª–∏–µ–Ω—Ç –∏ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–º–µ—Ä—ã</summary>

```python
# HTTP/3 –∫–ª–∏–µ–Ω—Ç –Ω–∞ Python —Å httpx
import httpx
import asyncio

async def http3_client_example():
    """–ü—Ä–∏–º–µ—Ä HTTP/3 –∫–ª–∏–µ–Ω—Ç–∞"""
    
    # HTTP/3 –∫–ª–∏–µ–Ω—Ç (—Ç—Ä–µ–±—É–µ—Ç httpx[http3])
    async with httpx.AsyncClient(http2=True, http3=True) as client:
        
        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ HTTP/3 –µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
        response = await client.get(
            'https://cloudflare.com/api/v1/test',
            headers={'User-Agent': 'HTTP3-Python-Client/2025'}
        )
        
        print(f"–ü—Ä–æ—Ç–æ–∫–æ–ª: {response.http_version}")  # HTTP/3
        print(f"–°—Ç–∞—Ç—É—Å: {response.status_code}")
        print(f"–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {response.elapsed}")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º QUIC connection
        if hasattr(response, 'connection_info'):
            print(f"QUIC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: {response.connection_info}")

# –ó–∞–ø—É—Å–∫ HTTP/3 –∫–ª–∏–µ–Ω—Ç–∞
# asyncio.run(http3_client_example())

# HTTP/3 —Å–µ—Ä–≤–µ—Ä —Å Hypercorn + Quart
from quart import Quart, jsonify
import uvloop

app = Quart(__name__)

@app.route('/api/users')
async def get_users():
    """API endpoint —Å HTTP/3 –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π"""
    return jsonify({
        'users': [
            {'id': 1, 'name': 'Alice'},
            {'id': 2, 'name': 'Bob'}
        ],
        'protocol': 'HTTP/3',
        'server': 'Hypercorn/QUIC'
    })

@app.route('/api/performance')
async def performance_test():
    """–¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ HTTP/3"""
    import time
    start = time.time()
    
    # –°–∏–º—É–ª—è—Ü–∏—è –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
    await asyncio.sleep(0.001)
    
    return jsonify({
        'processing_time': time.time() - start,
        'protocol_benefits': {
            'connection_reuse': True,
            'multiplexing': True,
            'zero_rtt': True
        }
    })

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Hypercorn –¥–ª—è HTTP/3
# hypercorn_config.py
from hypercorn.config import Config

def create_http3_config():
    config = Config()
    
    # HTTP/3 –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    config.bind = ["0.0.0.0:8443"]
    config.quic_bind = ["0.0.0.0:8443"]
    
    # TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è HTTP/3)
    config.certfile = "cert.pem"
    config.keyfile = "key.pem"
    
    # QUIC –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    config.alpn_protocols = ["h3-29", "h3", "h2", "http/1.1"]
    config.quic_max_concurrent_connections = 10000
    
    # –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
    config.workers = 4
    config.worker_class = "uvloop"
    
    return config

# –ó–∞–ø—É—Å–∫ HTTP/3 —Å–µ—Ä–≤–µ—Ä–∞:
# hypercorn app:app --config hypercorn_config:create_http3_config
```

</details>
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ HTTP/3:**

<details>
<summary>üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ HTTP/3</summary>

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP/3 –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–∞–π—Ç–∞
curl --http3 -I https://cloudflare.com

# –ò–ª–∏ —Å httpx
python -c "
import httpx
with httpx.Client(http3=True) as client:
    r = client.get('https://cloudflare.com')
    print(f'HTTP Version: {r.http_version}')
"
```

</details>

**HTTP/3 –≤ production (2025):**
- **Cloudflare:** 70% —Ç—Ä–∞—Ñ–∏–∫–∞
- **Google:** 50% Chrome users
- **Facebook:** 40% mobile traffic
- **AWS CloudFront:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å 2024

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP/3:**
- ‚úÖ Mobile –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–µ—Ç—å)
- ‚úÖ Real-time –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (gaming, video)
- ‚úÖ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚ùå Legacy —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ TLS
- ‚ùå –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API (–ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å)

### üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤–≤–æ–¥–µ URL –≤ –±—Ä–∞—É–∑–µ—Ä?

1. **DNS lookup** - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –≤ IP
2. **TCP handshake** - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
3. **HTTP –∑–∞–ø—Ä–æ—Å** - –æ—Ç–ø—Ä–∞–≤–∫–∞ GET/POST
4. **–°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** –∑–∞–ø—Ä–æ—Å
5. **HTTP –æ—Ç–≤–µ—Ç** - –≤–æ–∑–≤—Ä–∞—Ç –¥–∞–Ω–Ω—ã—Ö
6. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥** —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ

```python
<details>
<summary>üåê –ü—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä –Ω–∞ Python</summary>

```python
from http.server import HTTPServer, BaseHTTPRequestHandler

class MyHandler(BaseHTTPRequestHandler):
    def do_GET(self):
        self.send_response(200)
        self.send_header('Content-type', 'application/json')
        self.end_headers()
        self.wfile.write(b'{"message": "Hello from Python server!"}')

server = HTTPServer(('localhost', 8080), MyHandler)
server.serve_forever()
```

</details>
```

## üñ•Ô∏è 3. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

### ‚ö° CPU-bound vs IO-bound –∑–∞–¥–∞—á–∏

**CPU-bound:** üßÆ
- –ó–∞–¥–∞—á–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **–†–µ—à–µ–Ω–∏–µ –≤ Python:** multiprocessing

**IO-bound:** üíæ
- –ó–∞–¥–∞—á–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–≤–æ–¥–æ–º/–≤—ã–≤–æ–¥–æ–º
- –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏, —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –ë–î
- **–†–µ—à–µ–Ω–∏–µ –≤ Python:** asyncio, threading

```python
import asyncio
import aiohttp
import multiprocessing

<details>
<summary>‚ö° –ü—Ä–∏–º–µ—Ä—ã CPU-bound vs IO-bound –∑–∞–¥–∞—á</summary>

```python
import asyncio
import aiohttp
import multiprocessing

# IO-bound - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
async def fetch_data(url):
    async with aiohttp.ClientSession() as session:
        async with session.get(url) as response:
            return await response.text()

# CPU-bound - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
def cpu_intensive_task(n):
    return sum(i * i for i in range(n))

if __name__ == '__main__':
    # –î–ª—è CPU-bound
    with multiprocessing.Pool() as pool:
        results = pool.map(cpu_intensive_task, [1000000, 2000000, 3000000])
```

</details>
```

## üèõÔ∏è 4. –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

### üíé SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã

**S** - Single Responsibility (–æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å)
**O** - Open/Closed (–æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è)
**L** - Liskov Substitution (–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞)
**I** - Interface Segregation (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)
**D** - Dependency Inversion (–∏–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

```python
<details>
<summary>üíé –ü—Ä–∏–º–µ—Ä—ã SOLID –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</summary>

```python
# –ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è SRP
class BadUser:
    def __init__(self, name, email):
        self.name = name
        self.email = email
    
    def save_to_db(self):  # –ü–ª–æ—Ö–æ - –Ω–µ –µ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
        pass
    
    def send_email(self):  # –ü–ª–æ—Ö–æ - –Ω–µ –µ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
        pass

# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
class User:
    def __init__(self, name, email):
        self.name = name
        self.email = email

class UserRepository:
    def save(self, user: User):
        pass

class EmailService:
    def send_email(self, user: User):
        pass
```

</details>
```

### üéØ DRY, KISS, YAGNI

**DRY** - Don't Repeat Yourself
**KISS** - Keep It Simple, Stupid
**YAGNI** - You Aren't Gonna Need It

```python
<details>
<summary>üéØ –ü—Ä–∏–º–µ—Ä—ã DRY, KISS, YAGNI</summary>

```python
# DRY - –∏–∑–±–µ–≥–∞–µ–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
def calculate_discount(price, discount_type):
    discounts = {
        'student': 0.1,
        'senior': 0.15,
        'employee': 0.2
    }
    return price * (1 - discounts.get(discount_type, 0))

# KISS - –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ
def is_even(n):
    return n % 2 == 0  # –ü—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ
```

</details>
```

## üî• "Holy Moly" Questions - –ú–∞—Å—à—Ç–∞–±–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ 2025

> **üí° –°–æ–≤–µ—Ç:** –≠—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ –∏ –æ–ø—ã—Ç —Å high-load –ø—Ä–æ–µ–∫—Ç–∞–º–∏

### 1. üè™ **E-commerce: –ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å 1B –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å –≤ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ?**

**–°—Ü–µ–Ω–∞—Ä–∏–π:** Black Friday, 1 –º–ª—Ä–¥ –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å, –ø–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ 50,000 RPS

**Trade-offs —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏:**

| –ü–æ–¥—Ö–æ–¥ | Latency | Consistency | Cost | Complexity |
|--------|---------|-------------|------|------------|
| **Synchronous replication** | +150% latency | 100% consistency | High | Medium |
| **Async replication** | Base latency | 99.9% consistency | Medium | Medium |
| **Sharding + Cache** | -40% latency | 99.5% consistency | High | High |
| **CQRS + Event Sourcing** | -60% read latency | Eventual consistency | Very High | Very High |

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è 1B requests/day
class HighLoadEcommerce:
    """
    –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
    - 50,000 RPS peak
    - 99.9% availability  
    - <100ms p95 latency
    - <0.01% order loss
    """
    
    def __init__(self):
        # Layer 1: Global CDN (Cloudflare/AWS CloudFront)
        self.cdn = CDN(cache_ttl=3600, edge_locations=200)
        
        # Layer 2: Load Balancers (4x regions)
        self.load_balancers = GeographicLoadBalancer(
            regions=['us-east', 'eu-west', 'asia-pacific', 'us-west'],
            algorithm='weighted_round_robin'
        )
        
        # Layer 3: API Gateway —Å rate limiting
        self.api_gateway = APIGateway(
            rate_limit='1000/min/user',
            circuit_breaker_threshold=0.1,
            retry_policy='exponential_backoff'
        )
        
        # Layer 4: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –≤ Kubernetes
        self.services = {
            'catalog': CatalogService(replicas=20, cache='Redis'),
            'inventory': InventoryService(replicas=15, db='ShardedPostgreSQL'),
            'orders': OrderService(replicas=25, queue='Kafka'),
            'payments': PaymentService(replicas=10, db='MongoDB'),
            'users': UserService(replicas=8, cache='Redis')
        }
        
        # Layer 5: –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        self.databases = {
            'catalog_read': PostgresReadReplicas(count=5),
            'catalog_write': PostgresMaster(),
            'inventory': ShardedPostgres(shards=10),
            'orders': EventStore(partitions=50),
            'cache': RedisCluster(nodes=12)
        }
        
        # Layer 6: –û—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
        self.queues = {
            'order_processing': Kafka(partitions=20, replicas=3),
            'inventory_updates': RabbitMQ(cluster_size=3),
            'analytics': AWS_SQS(batch_size=100)
        }

    async def handle_order_creation(self, order_data):
        """
        –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å: —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
        SLA: <50ms –¥–ª—è 99% –∑–∞–ø—Ä–æ—Å–æ–≤
        """
        
        # 1. –í–∞–ª–∏–¥–∞—Ü–∏—è (5ms)
        validation_result = await self.validate_order_fast(order_data)
        if not validation_result.is_valid:
            return ErrorResponse(validation_result.errors)
        
        # 2. –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ inventory (async, 10ms)
        reservation_id = await self.inventory_service.reserve_async(
            order_data.items,
            timeout=10,
            fallback='queue_for_later'
        )
        
        # 3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –≤ –ë–î (15ms)
        order_id = await self.orders_service.create_optimistic(
            order_data,
            reservation_id,
            write_through_cache=True
        )
        
        # 4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–ª–∞—Ç—ã
        await self.payment_queue.enqueue({
            'order_id': order_id,
            'amount': order_data.total,
            'priority': 'high'
        })
        
        # 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (fire-and-forget)
        self.analytics_queue.enqueue_async({
            'event': 'order_created',
            'order_id': order_id,
            'timestamp': time.time()
        })
        
        return SuccessResponse({
            'order_id': order_id,
            'estimated_processing': '2-5 minutes',
            'tracking_url': f'/orders/{order_id}/status'
        })

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
INFRASTRUCTURE_CONFIG = {
    'kubernetes': {
        'clusters': 4,  # multi-region
        'nodes_per_cluster': 50,
        'total_cpu': '2000 cores',
        'total_memory': '8TB',
        'auto_scaling': True
    },
    'databases': {
        'postgres_shards': 10,
        'read_replicas': 5,
        'redis_memory': '500GB',
        'elasticsearch_nodes': 12
    },
    'estimated_monthly_cost': '$150,000',
    'team_size_required': '25-30 engineers'
}
```

### 2. üí∞ **Fintech: –ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏—Ç—å ACID –¥–ª—è 10M —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π/–¥–µ–Ω—å?**

**–°—Ü–µ–Ω–∞—Ä–∏–π:** Banking system, 10M —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π/–¥–µ–Ω—å, zero tolerance –¥–ª—è data loss

**Critical Trade-offs:**

| –ú–µ—Ç—Ä–∏–∫–∞ | Synchronous 2PC | Async + Saga | Event Sourcing |
|---------|-----------------|--------------|----------------|
| **Consistency** | Strong (100%) | Eventual (99.99%) | Strong (100%) |
| **Latency** | 200-500ms | 50-100ms | 100-200ms |
| **Throughput** | 1,000 TPS | 10,000 TPS | 5,000 TPS |
| **Complexity** | Medium | High | Very High |
| **Recovery Time** | Instant | 1-60 seconds | Instant |

**–†–µ—à–µ–Ω–∏–µ:**

<details>
<summary>üí∞ Banking Transaction System —Å ACID –≥–∞—Ä–∞–Ω—Ç–∏—è–º–∏</summary>

```python
class BankingTransactionSystem:
    """
    –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
    - Zero data loss (ACID)
    - 10M transactions/day
    - Audit trail –¥–ª—è —Ä–µ–≥—É–ª—è—Ç–æ—Ä–æ–≤
    - 99.99% uptime
    """
    
    async def process_money_transfer(self, from_account, to_account, amount):
        """
        Distributed transaction —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π ACID
        """
        
        transaction_id = generate_uuid()
        
        # Phase 1: Distributed locking
        async with DistributedLock(
            keys=[f"account:{from_account}", f"account:{to_account}"],
            timeout=5000,  # 5 seconds max
            retry_attempts=3
        ) as lock:
            
            if not lock.acquired:
                raise TransactionException("Could not acquire locks")
            
            # Phase 2: Two-Phase Commit (2PC)
            coordinator = TwoPhaseCommitCoordinator(transaction_id)
            
            # Prepare phase
            prepare_results = await coordinator.prepare([
                {
                    'service': 'account_service',
                    'operation': 'debit',
                    'account': from_account,
                    'amount': amount,
                    'transaction_id': transaction_id
                },
                {
                    'service': 'account_service', 
                    'operation': 'credit',
                    'account': to_account,
                    'amount': amount,
                    'transaction_id': transaction_id
                },
                {
                    'service': 'audit_service',
                    'operation': 'log_transaction',
                    'data': {
                        'from': from_account,
                        'to': to_account,
                        'amount': amount,
                        'timestamp': time.time()
                    }
                }
            ])
            
            # –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≥–æ—Ç–æ–≤—ã?
            if all(result.vote == 'COMMIT' for result in prepare_results):
                # Commit phase
                commit_results = await coordinator.commit()
                
                # –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
                if all(result.success for result in commit_results):
                    return TransactionResult(
                        transaction_id=transaction_id,
                        status='COMMITTED',
                        processing_time=time.time() - start_time
                    )
                else:
                    # Partial failure - initiate recovery
                    await self.recovery_service.handle_partial_failure(
                        transaction_id, commit_results
                    )
                    raise TransactionException("Partial commit failure")
            else:
                # Abort transaction
                await coordinator.abort()
                raise TransactionException("Transaction aborted during prepare")

    async def handle_high_throughput_batch(self, transactions_batch):
        """
        Batch processing –¥–ª—è high throughput
        """
        
        # Group by account –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ locks
        grouped_transactions = self.group_by_accounts(transactions_batch)
        
        results = []
        for account_group in grouped_transactions:
            # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≥—Ä—É–ø–ø—É –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π distributed transaction
            group_result = await self.process_account_group_batch(account_group)
            results.extend(group_result)
        
        return results

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
BANKING_METRICS = {
    'target_tps': 115,  # 10M/day = ~115 TPS average
    'peak_tps': 500,    # –ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
    'max_latency_p99': 500,  # –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã
    'consistency_level': 'strong',
    'data_replication': 'synchronous_3_regions',
    'backup_frequency': 'every_5_minutes',
    'disaster_recovery_rto': '15_minutes',
    'compliance': ['PCI_DSS', 'SOX', 'Basel_III']
}
```

</details>
```

### 3. üì± **Social Media: –ö–∞–∫ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å timeline –¥–ª—è 500M –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?**

**–°—Ü–µ–Ω–∞—Ä–∏–π:** Instagram-like app, 500M users, 10B posts/day

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã:**

| –ü–æ–¥—Ö–æ–¥ | Memory Usage | Read Latency | Write Latency | Consistency |
|--------|-------------|--------------|---------------|-------------|
| **Pull Model** | Low (1GB) | High (500ms) | Low (10ms) | Strong |
| **Push Model** | Very High (500GB) | Low (5ms) | High (200ms) | Eventual |
| **Hybrid Model** | Medium (50GB) | Medium (50ms) | Medium (50ms) | Tunable |

**–†–µ—à–µ–Ω–∏–µ:**

<details>
<summary>üì± Social Media Timeline –¥–ª—è 500M –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</summary>

```python
class SocialMediaTimeline:
    """
    Hybrid –ø–æ–¥—Ö–æ–¥ –¥–ª—è timeline generation
    
    Push –¥–ª—è VIP users (<1M followers)
    Pull –¥–ª—è celebrities (>1M followers)  
    Pre-computed –¥–ª—è most active users
    """
    
    def __init__(self):
        self.user_categories = {
            'regular': UserCategory(max_followers=1000, strategy='push'),
            'influencer': UserCategory(max_followers=100000, strategy='hybrid'),
            'celebrity': UserCategory(max_followers=float('inf'), strategy='pull')
        }
        
        self.timeline_cache = RedisCluster(
            memory='100GB',
            ttl=3600,  # 1 hour
            eviction_policy='lru'
        )
        
        self.fan_out_service = FanOutService(
            max_fan_out=1000000,  # 1M max
            batch_size=10000,
            workers=50
        )

    async def post_content(self, user_id, content):
        """
        –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å fan-out
        """
        
        post_id = await self.create_post(user_id, content)
        user_stats = await self.get_user_stats(user_id)
        
        if user_stats.followers_count <= 1000:
            # PUSH: –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –≤ timeline –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
            await self.fan_out_service.push_to_followers(
                user_id=user_id,
                post_id=post_id,
                max_followers=1000
            )
            
        elif user_stats.followers_count <= 100000:
            # HYBRID: Push –¥–ª—è active users, lazy loading –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
            active_followers = await self.get_active_followers(
                user_id, 
                last_seen_hours=24
            )
            
            await self.fan_out_service.push_to_specific_users(
                post_id=post_id,
                user_ids=active_followers[:10000]  # –õ–∏–º–∏—Ç 10K
            )
            
            # –ü–æ–º–µ—á–∞–µ–º post –¥–ª—è lazy loading
            await self.mark_for_lazy_loading(post_id, user_id)
            
        else:
            # PULL: Celebrity - —Ç–æ–ª—å–∫–æ lazy loading
            await self.celebrity_post_index.add(user_id, post_id)
            
            # –£–≤–µ–¥–æ–º–ª—è–µ–º —Ç–æ–ª—å–∫–æ closest friends
            closest_friends = await self.get_closest_friends(user_id, limit=100)
            await self.push_notifications(post_id, closest_friends)

    async def get_timeline(self, user_id, page_size=20, cursor=None):
        """
        –ì–µ–Ω–µ—Ä–∞—Ü–∏—è timeline –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        """
        
        # 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
        cache_key = f"timeline:{user_id}:{cursor}"
        cached_timeline = await self.timeline_cache.get(cache_key)
        
        if cached_timeline:
            return cached_timeline
        
        # 2. –°–æ–±–∏—Ä–∞–µ–º timeline –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
        following_users = await self.get_following(user_id)
        
        timeline_posts = []
        
        # Regular users (push model) - —É–∂–µ –≤ timeline
        regular_posts = await self.get_pushed_timeline(user_id)
        timeline_posts.extend(regular_posts)
        
        # Influencers (hybrid) - –º–∏–∫—Å push + pull
        influencer_ids = [uid for uid in following_users 
                         if self.is_influencer(uid)]
        
        for influencer_id in influencer_ids:
            recent_posts = await self.get_recent_posts(
                influencer_id, 
                limit=5,
                since=time.time() - 86400  # last 24h
            )
            timeline_posts.extend(recent_posts)
        
        # Celebrities (pull model) - –∑–∞–≥—Ä—É–∂–∞–µ–º on-demand
        celebrity_ids = [uid for uid in following_users 
                        if self.is_celebrity(uid)]
        
        celebrity_posts = await self.get_celebrity_posts_batch(
            celebrity_ids,
            limit=10
        )
        timeline_posts.extend(celebrity_posts)
        
        # 3. –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ relevance + recency
        ranked_timeline = await self.rank_posts(
            timeline_posts,
            user_preferences=await self.get_user_preferences(user_id)
        )
        
        # 4. –ö—ç—à–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        await self.timeline_cache.setex(
            cache_key, 
            ttl=1800,  # 30 minutes
            value=ranked_timeline
        )
        
        return ranked_timeline[:page_size]

# Performance targets
SOCIAL_MEDIA_METRICS = {
    'timeline_generation_p95': '100ms',
    'post_fan_out_time': '5_seconds',
    'cache_hit_ratio': '85%',
    'storage_per_user': '50MB',
    'total_storage': '25PB',
    'cdn_bandwidth': '100Gbps',
    'estimated_infrastructure_cost': '$2M/month'
}
```

</details>
```

### 4. üîç **Search Engine: –ö–∞–∫ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å 100B –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü?**

**Trade-off analysis:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Batch Processing | Stream Processing | Hybrid |
|----------|------------------|-------------------|--------|
| **Freshness** | Hours/Days | Seconds | Minutes |
| **Throughput** | Very High | Medium | High |
| **Resource Usage** | Burst | Steady | Variable |
| **Complexity** | Low | High | Medium |
| **Cost** | Low | High | Medium |

---

–ï–±–∞—Ç—å, —Å–ø–∞—Å–∏–±–æ –±—Ä–æ! üî• –†–∞–¥ —á—Ç–æ –∑–∞—à–ª–æ! –î–∞–≤–∞–π —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–±–µ—Ä—ë–º —Ç–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –∞ –ø–æ—Ç–æ–º —Ä–≤–∞–Ω—ë–º –≤–æ –≤—Ç–æ—Ä—É—é —á–∞—Å—Ç—å! üí™

# üéØ –û—Ç–≤–µ—Ç—ã –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã

## 1. üöÄ –ö–∞–∫ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è 1 –º–ª–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?

### –≠—Ç–∞–ø—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:

**1-1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** üè†
```python
# –ü—Ä–æ—Å—Ç–æ–π –º–æ–Ω–æ–ª–∏—Ç
# Django/Flask + SQLite/PostgreSQL + –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä
from flask import Flask
app = Flask(__name__)

@app.route('/api/users')
def get_users():
    # –ü—Ä—è–º–æ –∏–∑ –ë–î –±–µ–∑ –∫–µ—à–∞
    return db.query('SELECT * FROM users')
```

**1k-100k –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** üìà
```python
# –î–æ–±–∞–≤–ª—è–µ–º –∫–µ—à
import redis
cache = redis.Redis()

@app.route('/api/users')
def get_users():
    cached = cache.get('users')
    if cached:
        return cached
    
    users = db.query('SELECT * FROM users')
    cache.setex('users', 3600, users)  # –ö–µ—à –Ω–∞ —á–∞—Å
    return users
```

**100k-1M+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** üèóÔ∏è
- **Load Balancer** (nginx)
- **–ù–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**
- **Master-Slave –ë–î** (—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã)
- **CDN** –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤

```python
# –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
from fastapi import FastAPI
import asyncio
import aioredis

app = FastAPI()

async def get_user_service():
    redis = await aioredis.create_redis_pool('redis://localhost')
    
    @app.get("/users/{user_id}")
    async def get_user(user_id: int):
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–µ—à
        cached = await redis.get(f'user:{user_id}')
        if cached:
            return json.loads(cached)
        
        # –ï—Å–ª–∏ –Ω–µ—Ç - –∏–¥—ë–º –≤ –ë–î
        user = await db.fetch_user(user_id)
        await redis.setex(f'user:{user_id}', 3600, json.dumps(user))
        return user
```

## 2. ‚ö° –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å —É–ø–∞–ª?

### Circuit Breaker Pattern:
```python
import time
from enum import Enum

class CircuitState(Enum):
    CLOSED = 1    # –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
    OPEN = 2      # –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
    HALF_OPEN = 3 # –ü—Ä–æ–±—É–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è

class CircuitBreaker:
    def __init__(self, failure_threshold=5, recovery_timeout=60):
        self.failure_threshold = failure_threshold
        self.recovery_timeout = recovery_timeout
        self.failure_count = 0
        self.last_failure_time = None
        self.state = CircuitState.CLOSED
    
    def call(self, func, *args, **kwargs):
        if self.state == CircuitState.OPEN:
            if time.time() - self.last_failure_time < self.recovery_timeout:
                raise Exception("Circuit breaker is OPEN")
            else:
                self.state = CircuitState.HALF_OPEN
        
        try:
            result = func(*args, **kwargs)
            self.on_success()
            return result
        except Exception as e:
            self.on_failure()
            raise e
    
    def on_success(self):
        self.failure_count = 0
        self.state = CircuitState.CLOSED
    
    def on_failure(self):
        self.failure_count += 1
        self.last_failure_time = time.time()
        
        if self.failure_count >= self.failure_threshold:
            self.state = CircuitState.OPEN

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
payment_service_cb = CircuitBreaker()

def process_payment(amount):
    try:
        return payment_service_cb.call(external_payment_service, amount)
    except:
        # Fallback - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
        queue.put({"action": "payment", "amount": amount})
        return {"status": "queued"}
```

## 3. üõ°Ô∏è –ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å API?

```python
from functools import wraps
import jwt
import hashlib
import time

# 1. JWT Authentication
def require_auth(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        token = request.headers.get('Authorization', '').replace('Bearer ', '')
        try:
            payload = jwt.decode(token, SECRET_KEY, algorithms=['HS256'])
            g.user_id = payload['user_id']
        except jwt.InvalidTokenError:
            return {'error': 'Invalid token'}, 401
        return f(*args, **kwargs)
    return decorated_function

# 2. Rate Limiting
class RateLimiter:
    def __init__(self):
        self.requests = {}
    
    def is_allowed(self, client_ip, limit=100, window=3600):
        now = time.time()
        if client_ip not in self.requests:
            self.requests[client_ip] = []
        
        # –£–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã
        self.requests[client_ip] = [
            req_time for req_time in self.requests[client_ip] 
            if now - req_time < window
        ]
        
        if len(self.requests[client_ip]) >= limit:
            return False
        
        self.requests[client_ip].append(now)
        return True

# 3. Input Validation
from marshmallow import Schema, fields, ValidationError

class UserSchema(Schema):
    email = fields.Email(required=True)
    age = fields.Integer(validate=lambda x: 0 < x < 150)

@app.route('/users', methods=['POST'])
@require_auth
def create_user():
    schema = UserSchema()
    try:
        data = schema.load(request.json)
    except ValidationError as err:
        return {'errors': err.messages}, 400
    
    # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    return create_user_safely(data)
```

## 4. üîÑ REST vs GraphQL

| –ê—Å–ø–µ–∫—Ç | REST | GraphQL |
|--------|------|---------|
| **–ó–∞–ø—Ä–æ—Å—ã** | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ endpoints | –û–¥–∏–Ω endpoint |
| **Over/Under fetching** | –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∞ |
| **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** | –ü—Ä–æ—Å—Ç–æ–µ (HTTP cache) | –°–ª–æ–∂–Ω–æ–µ |
| **–ò–∑—É—á–µ–Ω–∏–µ** | –õ–µ–≥—á–µ | –°–ª–æ–∂–Ω–µ–µ |

```python
# REST API
@app.route('/api/users/<int:user_id>')
def get_user(user_id):
    return db.get_user(user_id)  # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –í–°–ï –ø–æ–ª—è

@app.route('/api/users/<int:user_id>/posts')
def get_user_posts(user_id):
    return db.get_user_posts(user_id)

# GraphQL
import graphene

class User(graphene.ObjectType):
    id = graphene.ID()
    name = graphene.String()
    email = graphene.String()
    posts = graphene.List(lambda: Post)

class Query(graphene.ObjectType):
    user = graphene.Field(User, id=graphene.ID(required=True))
    
    def resolve_user(self, info, id):
        # –ü–æ–ª—É—á–∞–µ–º —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –ø–æ–ª—è
        fields = get_requested_fields(info)
        return db.get_user(id, fields=fields)

schema = graphene.Schema(query=Query)

# –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è:
"""
query {
  user(id: "1") {
    name
    posts {
      title
    }
  }
}
"""
```

---

# üóÑÔ∏è –ß–∞—Å—Ç—å 2: –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ DevOps

## üíæ 1. –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### üî• SQL vs NoSQL

**SQL (PostgreSQL, MySQL):** üèõÔ∏è
- **ACID** —Å–≤–æ–π—Å—Ç–≤–∞
- **–°—Ö–µ–º–∞** –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞
- **Joins** –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
- **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**

**NoSQL (MongoDB, Redis, Cassandra):** üöÄ
- **–ì–∏–±–∫–∞—è —Å—Ö–µ–º–∞** –¥–∞–Ω–Ω—ã—Ö
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **Eventual consistency**
- **–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã:** –¥–æ–∫—É–º–µ–Ω—Ç–Ω—ã–µ, key-value, –≥—Ä–∞—Ñ–æ–≤—ã–µ

```python
# SQL –ø—Ä–∏–º–µ—Ä —Å SQLAlchemy
from sqlalchemy import create_engine, Column, Integer, String, ForeignKey
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker, relationship

Base = declarative_base()

class User(Base):
    __tablename__ = 'users'
    id = Column(Integer, primary_key=True)
    email = Column(String, unique=True)
    posts = relationship("Post", back_populates="author")

class Post(Base):
    __tablename__ = 'posts'
    id = Column(Integer, primary_key=True)
    title = Column(String)
    user_id = Column(Integer, ForeignKey('users.id'))
    author = relationship("User", back_populates="posts")

# NoSQL –ø—Ä–∏–º–µ—Ä —Å MongoDB
from motor.motor_asyncio import AsyncIOMotorClient

class UserRepository:
    def __init__(self):
        self.client = AsyncIOMotorClient('mongodb://localhost:27017')
        self.db = self.client.blog
        self.collection = self.db.users
    
    async def create_user(self, user_data):
        # –ì–∏–±–∫–∞—è —Å—Ö–µ–º–∞ - –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –ª—é–±—ã–µ –ø–æ–ª—è
        user_doc = {
            "email": user_data["email"],
            "profile": {
                "name": user_data.get("name"),
                "preferences": user_data.get("preferences", {})
            },
            "posts": []  # –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
        }
        result = await self.collection.insert_one(user_doc)
        return str(result.inserted_id)
```

### üéØ –ò–Ω–¥–µ–∫—Å—ã –≤ –ë–î

**–ó–∞—á–µ–º –Ω—É–∂–Ω—ã?** ‚ö°
- –£—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ (O(log n) –≤–º–µ—Å—Ç–æ O(n))
- –£—Å–∫–æ—Ä—è—é—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ JOIN'—ã

**–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –Ω–∞ –≤—Å—ë?** üí∏
- –ó–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
- –ó–∞–º–µ–¥–ª—è—é—Ç INSERT/UPDATE/DELETE

```python
# –ü—Ä–∏–º–µ—Ä —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –≤ PostgreSQL —á–µ—Ä–µ–∑ SQLAlchemy
from sqlalchemy import Index

class Product(Base):
    __tablename__ = 'products'
    id = Column(Integer, primary_key=True)
    name = Column(String)
    category_id = Column(Integer)
    price = Column(Numeric)
    created_at = Column(DateTime)

# –°–æ–∑–¥–∞—ë–º –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
Index('idx_product_category', Product.category_id)
Index('idx_product_price', Product.price)
Index('idx_product_created', Product.created_at)
Index('idx_product_category_price', Product.category_id, Product.price)  # –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π

# –ü–ª–æ—Ö–æ–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–ª—è "–ø–æ–ª" (–º–∞–ª–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π)
# Index('idx_user_gender', User.gender)  # –ù–ï –¥–µ–ª–∞—Ç—å —Ç–∞–∫!
```

### üîê ACID —Å–≤–æ–π—Å—Ç–≤–∞

**A**tomicity - –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å (–≤—Å—ë –∏–ª–∏ –Ω–∏—á–µ–≥–æ)
**C**onsistency - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å 
**I**solation - –ò–∑–æ–ª—è—Ü–∏—è
**D**urability - –î–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å

```python
# –ü—Ä–∏–º–µ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å SQLAlchemy
from sqlalchemy.exc import IntegrityError

def transfer_money(from_user_id, to_user_id, amount):
    session = Session()
    try:
        # –ù–∞—á–∏–Ω–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
        from_user = session.query(User).filter_by(id=from_user_id).with_for_update().first()
        to_user = session.query(User).filter_by(id=to_user_id).with_for_update().first()
        
        if from_user.balance < amount:
            raise ValueError("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤")
        
        # –û–±–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ –∏–ª–∏ –æ–±–µ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è
        from_user.balance -= amount
        to_user.balance += amount
        
        session.commit()  # –í—Å—ë –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ
        return True
        
    except Exception as e:
        session.rollback()  # –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
        raise e
    finally:
        session.close()
```

## üê≥ 2. DevOps –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

### üì¶ Docker

```dockerfile
# Dockerfile –¥–ª—è Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
FROM python:3.11-slim

WORKDIR /app

# –ö–æ–ø–∏—Ä—É–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–¥
COPY . .

# –°–æ–∑–¥–∞—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
RUN useradd -m -s /bin/bash appuser
USER appuser

EXPOSE 8000

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

```yaml
# docker-compose.yml
version: '3.8'
services:
  web:
    build: .
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://user:pass@db:5432/mydb
    depends_on:
      - db
      - redis
    volumes:
      - ./logs:/app/logs

  db:
    image: postgres:15
    environment:
      POSTGRES_DB: mydb
      POSTGRES_USER: user
      POSTGRES_PASSWORD: pass
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

volumes:
  postgres_data:
```

### üöÄ CI/CD Pipeline

```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      
      - name: Install dependencies
        run: |
          pip install -r requirements.txt
          pip install pytest
      
      - name: Run tests
        run: pytest tests/
      
      - name: Run linting
        run: |
          pip install flake8
          flake8 . --max-line-length=88
  
  deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Build Docker image
        run: |
          docker build -t myapp:${{ github.sha }} .
          docker tag myapp:${{ github.sha }} myapp:latest
      
      - name: Deploy to production
        run: |
          # Blue-Green deployment
          docker-compose -f docker-compose.prod.yml up -d --scale web=2
          # Health check
          curl -f http://localhost:8000/health || exit 1
          # Switch traffic
          docker-compose -f docker-compose.prod.yml up -d --scale web=1
```

### ‚ò∏Ô∏è Kubernetes 1.31 (2025 Update)

> **‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∏—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤ beta. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é!

**–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Kubernetes 1.31:**

```yaml
# kubernetes-1.31-features.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: modern-app
  labels:
    app: modern-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: modern-app
  template:
    metadata:
      labels:
        app: modern-app
    spec:
      # üÜï In-place Pod Vertical Scaling (K8s 1.31 beta)
      containers:
      - name: app
        image: myapp:latest
        resources:
          requests:
            cpu: "100m"
            memory: "128Mi"
          limits:
            cpu: "500m"
            memory: "512Mi"
        # üÜï Resize Policy (–Ω–æ–≤–æ–µ –≤ 1.31)
        resizePolicy:
        - resourceName: cpu
          restartPolicy: NotRequired
        - resourceName: memory
          restartPolicy: RestartContainer
      
      # üÜï Node Resource Fit (—É–ª—É—á—à–µ–Ω–Ω–æ–µ –≤ 1.31)
      nodeSelector:
        node-type: "compute-optimized"
      
      # üÜï Improved Topology Spread Constraints
      topologySpreadConstraints:
      - maxSkew: 1
        topologyKey: zone
        whenUnsatisfiable: DoNotSchedule
        labelSelector:
          matchLabels:
            app: modern-app

---
# üÜï PodDisruptionBudget v2 (K8s 1.31)
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: modern-app-pdb
spec:
  minAvailable: 2
  selector:
    matchLabels:
      app: modern-app
  # –ù–æ–≤–æ–µ: unhealthyPodEvictionPolicy
  unhealthyPodEvictionPolicy: AlwaysAllow

---
# üÜï Job Success/Completion Policy (K8s 1.31)
apiVersion: batch/v1
kind: Job
metadata:
  name: data-processing
spec:
  parallelism: 5
  completions: 10
  # –ù–æ–≤–∞—è —Ñ–∏—á–∞: successPolicy
  successPolicy:
    rules:
    - succeededIndexes: "0-4"
      succeededCount: 3
  template:
    spec:
      containers:
      - name: worker
        image: data-processor:latest
        command: ["python", "process.py"]
      restartPolicy: Never
```

### üîÑ GitHub Actions CI/CD —Å AI Testing (2025)

```yaml
# .github/workflows/advanced-ci-cd-2025.yml
name: Advanced CI/CD with AI Testing

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
  security-scan:
    runs-on: ubuntu-latest
    permissions:
      security-events: write
    steps:
      - uses: actions/checkout@v4
      
      - name: üõ°Ô∏è Run CodeQL Analysis
        uses: github/codeql-action/init@v3
        with:
          languages: python
          
      - name: üîç SAST with Semgrep
        uses: semgrep/semgrep-action@v1
        with:
          config: >-
            p/security-audit
            p/secrets
            p/python
          
      - name: üìä Dependency Vulnerability Scan
        uses: snyk/actions/python@master
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
        with:
          args: --severity-threshold=high

  ai-code-review:
    runs-on: ubuntu-latest
    if: github.event_name == 'pull_request'
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
          
      - name: ü§ñ AI Code Review with GPT-4
        uses: coderabbitai/ai-pr-reviewer@latest
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
        with:
          debug: false
          review_simple_changes: true
          review_comment_lgtm: true
          
      - name: üß† AI Performance Analysis
        run: |
          pip install openai
          python scripts/ai_performance_check.py \
            --files-changed "${{ steps.changed-files.outputs.all_changed_files }}" \
            --pr-number "${{ github.event.number }}"

  test-with-ai:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: ["3.11", "3.12", "3.13"]
    steps:
      - uses: actions/checkout@v4
      
      - name: Set up Python ${{ matrix.python-version }}
        uses: actions/setup-python@v5
        with:
          python-version: ${{ matrix.python-version }}
          
      - name: Install dependencies
        run: |
          pip install -r requirements.txt
          pip install -r requirements-test.txt
          
      - name: üß™ Run Tests with Coverage
        run: |
          pytest --cov=app --cov-report=xml --cov-report=html
          
      - name: ü§ñ AI Test Case Generation
        env:
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
        run: |
          python scripts/ai_test_generator.py \
            --source-dir app/ \
            --test-dir tests/ \
            --coverage-report coverage.xml
            
      - name: üéØ AI Load Test Scenarios
        run: |
          python scripts/ai_load_test_generator.py \
            --api-spec openapi.yaml \
            --output load-tests/
          
  build-and-push:
    needs: [security-scan, test-with-ai]
    runs-on: ubuntu-latest
    permissions:
      contents: read
      packages: write
    outputs:
      image-digest: ${{ steps.build.outputs.digest }}
    steps:
      - uses: actions/checkout@v4
      
      - name: üê≥ Set up Docker Buildx
        uses: docker/setup-buildx-action@v3
        
      - name: üîê Log in to Container Registry
        uses: docker/login-action@v3
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}
          
      - name: üìù Extract metadata
        id: meta
        uses: docker/metadata-action@v5
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}
          tags: |
            type=ref,event=branch
            type=ref,event=pr
            type=sha,prefix={{branch}}-
            type=raw,value=latest,enable={{is_default_branch}}
            
      - name: üèóÔ∏è Build and push Docker image
        id: build
        uses: docker/build-push-action@v5
        with:
          context: .
          platforms: linux/amd64,linux/arm64
          push: true
          tags: ${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          cache-from: type=gha
          cache-to: type=gha,mode=max
          
      - name: üõ°Ô∏è Container Security Scan
        uses: aquasecurity/trivy-action@master
        with:
          image-ref: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.sha }}
          format: 'sarif'
          output: 'trivy-results.sarif'
          
      - name: Upload Trivy scan results
        uses: github/codeql-action/upload-sarif@v3
        with:
          sarif_file: 'trivy-results.sarif'

  deploy-staging:
    needs: build-and-push
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/develop'
    environment: staging
    steps:
      - uses: actions/checkout@v4
      
      - name: ‚ò∏Ô∏è Deploy to Kubernetes Staging
        run: |
          echo "${{ secrets.KUBECONFIG_STAGING }}" | base64 -d > kubeconfig
          export KUBECONFIG=kubeconfig
          
          # Update deployment with new image
          kubectl set image deployment/app \
            app=${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}@${{ needs.build-and-push.outputs.image-digest }} \
            -n staging
            
          # Wait for rollout
          kubectl rollout status deployment/app -n staging --timeout=300s
          
      - name: üß™ AI-Powered E2E Tests
        env:
          STAGING_URL: https://staging.example.com
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
        run: |
          python scripts/ai_e2e_tests.py \
            --base-url "$STAGING_URL" \
            --test-scenarios "user-journey,api-performance,edge-cases"

  deploy-production:
    needs: [build-and-push, deploy-staging]
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    environment: production
    steps:
      - uses: actions/checkout@v4
      
      - name: üöÄ Blue-Green Deploy to Production
        run: |
          echo "${{ secrets.KUBECONFIG_PROD }}" | base64 -d > kubeconfig
          export KUBECONFIG=kubeconfig
          
          # Blue-Green deployment script
          ./scripts/blue-green-deploy.sh \
            ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}@${{ needs.build-and-push.outputs.image-digest }}
            
      - name: üìä Post-Deploy Monitoring
        run: |
          # Wait 5 minutes and check key metrics
          sleep 300
          python scripts/post_deploy_check.py \
            --prometheus-url "${{ secrets.PROMETHEUS_URL }}" \
            --alert-webhook "${{ secrets.SLACK_WEBHOOK }}"

  ai-performance-optimization:
    needs: deploy-production
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - name: ü§ñ AI Performance Analysis
        env:
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
          DATADOG_API_KEY: ${{ secrets.DATADOG_API_KEY }}
        run: |
          # AI –∞–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
          python scripts/ai_performance_optimizer.py \
            --deployment-id "${{ github.sha }}" \
            --analysis-window "24h" \
            --output-recommendations recommendations.json
            
      - name: üìà Create Performance Report
        run: |
          # –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
          python scripts/generate_performance_report.py \
            --input recommendations.json \
            --output performance-report.md
            
      - name: üí¨ Post Results to PR/Issue
        if: github.event_name == 'pull_request'
        uses: actions/github-script@v7
        with:
          script: |
            const fs = require('fs');
            const report = fs.readFileSync('performance-report.md', 'utf8');
            
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `## ü§ñ AI Performance Analysis\n\n${report}`
            });
```

### üîß AI-powered DevOps Scripts

```python
# scripts/ai_test_generator.py - AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
import openai
import ast
import os
from pathlib import Path

class AITestGenerator:
    def __init__(self, api_key: str):
        openai.api_key = api_key
    
    def generate_tests_for_function(self, function_code: str, function_name: str) -> str:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é AI"""
        
        prompt = f"""
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π comprehensive pytest —Ç–µ—Å—Ç—ã –¥–ª—è —ç—Ç–æ–π Python —Ñ—É–Ω–∫—Ü–∏–∏:

```python
{function_code}
```

–í–∫–ª—é—á–∏:
1. Positive test cases
2. Edge cases  
3. Error conditions
4. Performance tests (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
5. Mocking –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ Python –∫–æ–¥ —Ç–µ—Å—Ç–æ–≤.
"""
        
        response = openai.ChatCompletion.create(
            model="gpt-4",
            messages=[{"role": "user", "content": prompt}],
            temperature=0.3
        )
        
        return response.choices[0].message.content

# scripts/ai_performance_optimizer.py - AI –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
class AIPerformanceOptimizer:
    def analyze_metrics(self, metrics_data: dict) -> dict:
        """AI –∞–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"""
        
        prompt = f"""
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

{json.dumps(metrics_data, indent=2)}

–î–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
1. Bottlenecks –≤ —Å–∏—Å—Ç–µ–º–µ
2. Recommended scaling strategy  
3. Database optimization
4. Cache strategy improvements
5. Code optimization suggestions

–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: JSON —Å –ø–æ–ª—è–º–∏ analysis, recommendations, priority_actions.
"""
        
        response = openai.ChatCompletion.create(
            model="gpt-4",
            messages=[{"role": "user", "content": prompt}],
            temperature=0.2
        )
        
        return json.loads(response.choices[0].message.content)
```

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```python
# –ü—Ä–∏–º–µ—Ä –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å Prometheus
from prometheus_client import Counter, Histogram, generate_latest
import time

# –ú–µ—Ç—Ä–∏–∫–∏
REQUEST_COUNT = Counter('http_requests_total', 'Total HTTP requests', ['method', 'endpoint'])
REQUEST_LATENCY = Histogram('http_request_duration_seconds', 'HTTP request latency')

def monitor_requests(func):
    def wrapper(*args, **kwargs):
        start_time = time.time()
        try:
            result = func(*args, **kwargs)
            REQUEST_COUNT.labels(method='GET', endpoint='/api/users').inc()
            return result
        finally:
            REQUEST_LATENCY.observe(time.time() - start_time)
    return wrapper

@app.route('/metrics')
def metrics():
    return generate_latest()

@app.route('/api/users')
@monitor_requests
def get_users():
    return {"users": []}
```

### üèóÔ∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –∫–æ–¥

```python
# pulumi_stack.py - Infrastructure as Code
import pulumi_aws as aws

# –°–æ–∑–¥–∞—ë–º VPC
vpc = aws.ec2.Vpc("main-vpc",
    cidr_block="10.0.0.0/16",
    tags={"Name": "main"})

# –ü–æ–¥—Å–µ—Ç—å
subnet = aws.ec2.Subnet("main-subnet",
    vpc_id=vpc.id,
    cidr_block="10.0.1.0/24",
    availability_zone="us-west-2a")

# Load Balancer
alb = aws.lb.LoadBalancer("main-alb",
    load_balancer_type="application",
    subnets=[subnet.id])

# ECS –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
cluster = aws.ecs.Cluster("main-cluster")

# RDS –¥–ª—è –ë–î
db = aws.rds.Instance("main-db",
    engine="postgres",
    engine_version="15.3",
    instance_class="db.t3.micro",
    allocated_storage=20,
    db_name="myapp",
    username="admin",
    password="supersecret",
    skip_final_snapshot=True)
```

---

# ü§ñ AI –≤ –±—ç–∫–µ–Ω–¥–µ (2025 Trends)

> **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** –ü–æ –¥–∞–Ω–Ω—ã–º Gartner 2025, —É–∂–µ 40% backend –∑–∞–¥–∞—á –≤–∫–ª—é—á–∞—é—Ç AI/ML –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## üß† 1. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ LLM

### üöÄ FastAPI + LangChain Pipeline

<details>
<summary>üöÄ FastAPI + LangChain Pipeline</summary>

```python
from fastapi import FastAPI, HTTPException, Depends
from langchain.llms import OpenAI
from langchain.chains import LLMChain
from langchain.prompts import PromptTemplate
from langchain.memory import ConversationBufferMemory
import redis
import json
from typing import Dict, Any
import hashlib
import time

app = FastAPI(title="AI Backend Service", version="2025.1")

# Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è AI –æ—Ç–≤–µ—Ç–æ–≤
redis_client = redis.Redis(host='localhost', port=6379, decode_responses=True)

class AIService:
    """–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI/LLM"""
    
    def __init__(self):
        self.llm = OpenAI(temperature=0.7, max_tokens=1000)
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
        self.prompts = {
            "code_review": PromptTemplate(
                input_variables=["code", "language"],
                template="""
–ü—Ä–æ–≤–µ–¥–∏ code review —Å–ª–µ–¥—É—é—â–µ–≥–æ {language} –∫–æ–¥–∞:

{code}

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π:
1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
3. –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å
4. Best practices

–û—Ç–≤–µ—Ç –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å –ø–æ–ª—è–º–∏: score (1-10), issues, suggestions.
"""
            ),
            "sql_optimization": PromptTemplate(
                input_variables=["query", "schema"],
                template="""
–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π SQL –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

–°—Ö–µ–º–∞: {schema}
–ó–∞–ø—Ä–æ—Å: {query}

–ü—Ä–µ–¥–ª–æ–∂–∏:
1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
2. –ù—É–∂–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
3. –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: JSON —Å –ø–æ–ª—è–º–∏ optimized_query, indexes, explanation.
"""
            )
        }
        
        # –¶–µ–ø–æ—á–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
        self.chains = {
            name: LLMChain(llm=self.llm, prompt=prompt)
            for name, prompt in self.prompts.items()
        }
    
    def generate_cache_key(self, task: str, data: Dict[str, Any]) -> str:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è"""
        content = f"{task}:{json.dumps(data, sort_keys=True)}"
        return f"ai_cache:{hashlib.md5(content.encode()).hexdigest()}"
    
    async def process_with_cache(self, task: str, data: Dict[str, Any]) -> Dict[str, Any]:
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º"""
        cache_key = self.generate_cache_key(task, data)
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
        cached_result = redis_client.get(cache_key)
        if cached_result:
            print(f"üéØ Cache hit for task: {task}")
            return json.loads(cached_result)
        
        # –ï—Å–ª–∏ –Ω–µ—Ç –≤ –∫—ç—à–µ - –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ AI
        start_time = time.time()
        
        if task not in self.chains:
            raise ValueError(f"Unknown task: {task}")
        
        try:
            result = await self.chains[task].arun(**data)
            
            # –ü–∞—Ä—Å–∏–º JSON –æ—Ç–≤–µ—Ç –æ—Ç LLM
            parsed_result = json.loads(result)
            
            # –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
            response = {
                "result": parsed_result,
                "metadata": {
                    "task": task,
                    "processing_time": time.time() - start_time,
                    "cached": False,
                    "timestamp": int(time.time())
                }
            }
            
            # –ö—ç—à–∏—Ä—É–µ–º –Ω–∞ 1 —á–∞—Å
            redis_client.setex(cache_key, 3600, json.dumps(response))
            
            print(f"üß† AI processed task: {task} in {response['metadata']['processing_time']:.2f}s")
            return response
            
        except json.JSONDecodeError:
            raise HTTPException(status_code=500, detail="AI returned invalid JSON")
        except Exception as e:
            raise HTTPException(status_code=500, detail=f"AI processing error: {str(e)}")

# –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä AI —Å–µ—Ä–≤–∏—Å–∞
ai_service = AIService()

# Middleware –¥–ª—è –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç–∏ AI –∑–∞–ø—Ä–æ—Å–æ–≤
@app.middleware("http")
async def ai_observability_middleware(request, call_next):
    if request.url.path.startswith("/ai/"):
        start_time = time.time()
        response = await call_next(request)
        processing_time = time.time() - start_time
        
        # –õ–æ–≥–∏—Ä—É–µ–º AI –º–µ—Ç—Ä–∏–∫–∏
        print(f"üîç AI Request: {request.method} {request.url.path} - {processing_time:.3f}s")
        response.headers["X-AI-Processing-Time"] = str(processing_time)
        
        return response
    
    return await call_next(request)

@app.post("/ai/code-review")
async def review_code(request: Dict[str, Any]):
    """AI-powered code review"""
    required_fields = ["code", "language"]
    for field in required_fields:
        if field not in request:
            raise HTTPException(status_code=400, detail=f"Missing field: {field}")
    
    result = await ai_service.process_with_cache("code_review", {
        "code": request["code"],
        "language": request["language"]
    })
    
    return result

@app.post("/ai/sql-optimize")  
async def optimize_sql(request: Dict[str, Any]):
    """AI-powered SQL optimization"""
    required_fields = ["query", "schema"]
    for field in required_fields:
        if field not in request:
            raise HTTPException(status_code=400, detail=f"Missing field: {field}")
    
    result = await ai_service.process_with_cache("sql_optimization", {
        "query": request["query"],
        "schema": request["schema"]
    })
    
    return result

@app.get("/ai/stats")
async def get_ai_stats():
    """–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI"""
    # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑ Redis
    cache_keys = redis_client.keys("ai_cache:*")
    
    stats = {
        "total_cached_responses": len(cache_keys),
        "cache_hit_ratio": "N/A",  # –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—á—ë—Ç—á–∏–∫–∏
        "available_tasks": list(ai_service.chains.keys()),
        "uptime": "Active"
    }
    
    return stats

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
@app.get("/")
async def root():
    return {
        "service": "AI Backend 2025",
        "features": [
            "LLM Code Review",
            "SQL Optimization", 
            "Response Caching",
            "Observability"
        ],
        "endpoints": {
            "code_review": "/ai/code-review",
            "sql_optimize": "/ai/sql-optimize", 
            "stats": "/ai/stats"
        }
    }

# –ó–∞–ø—É—Å–∫: uvicorn main:app --reload
```

</details>
```

### üß¨ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ AI –ø–∞—Ç—Ç–µ—Ä–Ω—ã

```python
import asyncio
from dataclasses import dataclass
from typing import List, Optional, Callable
from enum import Enum
import logging

class AITaskStatus(Enum):
    PENDING = "pending"
    PROCESSING = "processing"
    COMPLETED = "completed"
    FAILED = "failed"

@dataclass
class AITask:
    id: str
    task_type: str
    input_data: Dict[str, Any]
    status: AITaskStatus = AITaskStatus.PENDING
    result: Optional[Dict[str, Any]] = None
    error: Optional[str] = None
    created_at: float = 0.0
    completed_at: Optional[float] = None

class AITaskQueue:
    """–û—á–µ—Ä–µ–¥—å –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ AI –∑–∞–¥–∞—á"""
    
    def __init__(self, max_concurrent: int = 3):
        self.tasks: Dict[str, AITask] = {}
        self.queue = asyncio.Queue()
        self.max_concurrent = max_concurrent
        self.workers_running = False
        
    async def start_workers(self):
        """–ó–∞–ø—É—Å–∫–∞–µ–º –≤–æ—Ä–∫–µ—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á"""
        self.workers_running = True
        workers = [
            asyncio.create_task(self._worker(f"worker-{i}"))
            for i in range(self.max_concurrent)
        ]
        await asyncio.gather(*workers)
    
    async def _worker(self, worker_name: str):
        """–í–æ—Ä–∫–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á"""
        print(f"üîß –ó–∞–ø—É—â–µ–Ω AI –≤–æ—Ä–∫–µ—Ä: {worker_name}")
        
        while self.workers_running:
            try:
                # –ñ–¥—ë–º –∑–∞–¥–∞—á—É –∏–∑ –æ—á–µ—Ä–µ–¥–∏
                task_id = await asyncio.wait_for(self.queue.get(), timeout=1.0)
                task = self.tasks.get(task_id)
                
                if not task:
                    continue
                
                print(f"üß† {worker_name} –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É {task_id}")
                task.status = AITaskStatus.PROCESSING
                
                # –ò–º–∏—Ç–∏—Ä—É–µ–º AI –æ–±—Ä–∞–±–æ—Ç–∫—É
                await asyncio.sleep(2.0)  # –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –≤—ã–∑–æ–≤ LLM API
                
                # –°–∏–º—É–ª–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                task.result = {
                    "processed_by": worker_name,
                    "task_type": task.task_type,
                    "mock_result": f"AI processed: {task.input_data}"
                }
                task.status = AITaskStatus.COMPLETED
                task.completed_at = time.time()
                
                print(f"‚úÖ {worker_name} –∑–∞–≤–µ—Ä—à–∏–ª –∑–∞–¥–∞—á—É {task_id}")
                
            except asyncio.TimeoutError:
                continue  # –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –∂–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
            except Exception as e:
                if task:
                    task.status = AITaskStatus.FAILED
                    task.error = str(e)
                print(f"‚ùå –û—à–∏–±–∫–∞ –≤ {worker_name}: {e}")
    
    async def submit_task(self, task: AITask) -> str:
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–¥–∞—á—É –≤ –æ—á–µ—Ä–µ–¥—å"""
        task.created_at = time.time()
        self.tasks[task.id] = task
        await self.queue.put(task.id)
        print(f"üìù –ó–∞–¥–∞—á–∞ {task.id} –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –æ—á–µ—Ä–µ–¥—å")
        return task.id
    
    def get_task_status(self, task_id: str) -> Optional[AITask]:
        """–ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏"""
        return self.tasks.get(task_id)

# –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á
ai_queue = AITaskQueue(max_concurrent=2)

@app.on_event("startup")
async def startup():
    """–ó–∞–ø—É—Å–∫–∞–µ–º AI –≤–æ—Ä–∫–µ—Ä—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"""
    asyncio.create_task(ai_queue.start_workers())

@app.post("/ai/async-task")
async def submit_async_ai_task(request: Dict[str, Any]):
    """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ AI –∑–∞–¥–∞—á–∏"""
    task = AITask(
        id=f"task_{int(time.time())}_{len(ai_queue.tasks)}",
        task_type=request.get("task_type", "general"),
        input_data=request.get("data", {})
    )
    
    task_id = await ai_queue.submit_task(task)
    
    return {
        "task_id": task_id,
        "status": "submitted",
        "check_status_url": f"/ai/task/{task_id}"
    }

@app.get("/ai/task/{task_id}")
async def get_task_status(task_id: str):
    """–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å AI –∑–∞–¥–∞—á–∏"""
    task = ai_queue.get_task_status(task_id)
    
    if not task:
        raise HTTPException(status_code=404, detail="Task not found")
    
    response = {
        "task_id": task_id,
        "status": task.status.value,
        "created_at": task.created_at
    }
    
    if task.completed_at:
        response["completed_at"] = task.completed_at
        response["processing_time"] = task.completed_at - task.created_at
    
    if task.result:
        response["result"] = task.result
    
    if task.error:
        response["error"] = task.error
    
    return response
```

## üîç 2. Observability –¥–ª—è AI —Å–∏—Å—Ç–µ–º

```python
from prometheus_client import Counter, Histogram, Gauge, generate_latest
import structlog
from opentelemetry import trace
from opentelemetry.exporter.jaeger.thrift import JaegerExporter
from opentelemetry.sdk.trace import TracerProvider
from opentelemetry.sdk.trace.export import BatchSpanProcessor

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
structlog.configure(
    processors=[
        structlog.stdlib.filter_by_level,
        structlog.stdlib.add_logger_name,
        structlog.stdlib.add_log_level,
        structlog.stdlib.PositionalArgumentsFormatter(),
        structlog.processors.TimeStamper(fmt="iso"),
        structlog.processors.StackInfoRenderer(),
        structlog.processors.format_exc_info,
        structlog.processors.UnicodeDecoder(),
        structlog.processors.JSONRenderer()
    ],
    context_class=dict,
    logger_factory=structlog.stdlib.LoggerFactory(),
    wrapper_class=structlog.stdlib.BoundLogger,
    cache_logger_on_first_use=True,
)

logger = structlog.get_logger()

# –ú–µ—Ç—Ä–∏–∫–∏ Prometheus –¥–ª—è AI
AI_REQUESTS_TOTAL = Counter(
    'ai_requests_total', 
    'Total AI requests', 
    ['task_type', 'status']
)

AI_REQUEST_DURATION = Histogram(
    'ai_request_duration_seconds',
    'AI request duration',
    ['task_type']
)

AI_CACHE_HITS = Counter(
    'ai_cache_hits_total',
    'AI cache hits',
    ['task_type']
)

AI_ACTIVE_TASKS = Gauge(
    'ai_active_tasks',
    'Currently active AI tasks'
)

# –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –¥–ª—è AI –æ–ø–µ—Ä–∞—Ü–∏–π
trace.set_tracer_provider(TracerProvider())
tracer = trace.get_tracer(__name__)

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ AI —Ñ—É–Ω–∫—Ü–∏–π
def monitor_ai_operation(task_type: str):
    def decorator(func):
        @functools.wraps(func)
        async def wrapper(*args, **kwargs):
            # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
            AI_ACTIVE_TASKS.inc()
            
            # –ù–∞—á–∏–Ω–∞–µ–º —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É
            with tracer.start_as_current_span(f"ai_operation_{task_type}") as span:
                span.set_attribute("ai.task_type", task_type)
                
                # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
                with AI_REQUEST_DURATION.labels(task_type=task_type).time():
                    try:
                        # –õ–æ–≥–∏—Ä—É–µ–º –Ω–∞—á–∞–ª–æ –æ–ø–µ—Ä–∞—Ü–∏–∏
                        logger.info(
                            "ai_operation_started",
                            task_type=task_type,
                            function=func.__name__
                        )
                        
                        # –í—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
                        result = await func(*args, **kwargs)
                        
                        # –õ–æ–≥–∏—Ä—É–µ–º —É—Å–ø–µ—Ö
                        logger.info(
                            "ai_operation_completed",
                            task_type=task_type,
                            function=func.__name__,
                            result_size=len(str(result))
                        )
                        
                        # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
                        AI_REQUESTS_TOTAL.labels(
                            task_type=task_type, 
                            status="success"
                        ).inc()
                        
                        span.set_attribute("ai.status", "success")
                        return result
                        
                    except Exception as e:
                        # –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
                        logger.error(
                            "ai_operation_failed",
                            task_type=task_type,
                            function=func.__name__,
                            error=str(e),
                            exc_info=True
                        )
                        
                        # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
                        AI_REQUESTS_TOTAL.labels(
                            task_type=task_type,
                            status="error"
                        ).inc()
                        
                        span.set_attribute("ai.status", "error")
                        span.set_attribute("ai.error", str(e))
                        
                        raise
                    finally:
                        # –£–º–µ–Ω—å—à–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
                        AI_ACTIVE_TASKS.dec()
        
        return wrapper
    return decorator

@app.get("/metrics")
async def metrics():
    """–≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è Prometheus –º–µ—Ç—Ä–∏–∫"""
    return generate_latest()

@app.get("/health")
async def health_check():
    """Health check –¥–ª—è AI —Å–µ—Ä–≤–∏—Å–∞"""
    return {
        "status": "healthy",
        "ai_workers": "active",
        "cache_connection": "ok",
        "timestamp": time.time()
    }
```

## üí° 3. Rate Limiting –∏ Circuit Breaker –¥–ª—è AI

```python
import asyncio
from enum import Enum
import time
from typing import Dict, Callable, Any

class CircuitState(Enum):
    CLOSED = "closed"      # –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
    OPEN = "open"          # –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
    HALF_OPEN = "half_open" # –ü—Ä–æ–±–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

class AICircuitBreaker:
    """Circuit Breaker —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è AI —Å–µ—Ä–≤–∏—Å–æ–≤"""
    
    def __init__(
        self,
        failure_threshold: int = 5,
        recovery_timeout: int = 60,
        expected_exception: type = Exception
    ):
        self.failure_threshold = failure_threshold
        self.recovery_timeout = recovery_timeout
        self.expected_exception = expected_exception
        
        self.failure_count = 0
        self.last_failure_time = None
        self.state = CircuitState.CLOSED
        
    async def call(self, func: Callable, *args, **kwargs) -> Any:
        """–í—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é —á–µ—Ä–µ–∑ Circuit Breaker"""
        
        if self.state == CircuitState.OPEN:
            if time.time() - self.last_failure_time < self.recovery_timeout:
                raise Exception(f"AI Service unavailable - Circuit Breaker OPEN")
            else:
                self.state = CircuitState.HALF_OPEN
                logger.info("circuit_breaker_half_open", service="ai")
        
        try:
            result = await func(*args, **kwargs)
            self._on_success()
            return result
            
        except self.expected_exception as e:
            self._on_failure()
            raise e
    
    def _on_success(self):
        """–°–±—Ä–æ—Å –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏"""
        self.failure_count = 0
        self.state = CircuitState.CLOSED
        logger.info("circuit_breaker_closed", service="ai")
    
    def _on_failure(self):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏"""
        self.failure_count += 1
        self.last_failure_time = time.time()
        
        if self.failure_count >= self.failure_threshold:
            self.state = CircuitState.OPEN
            logger.error(
                "circuit_breaker_opened",
                service="ai",
                failure_count=self.failure_count
            )

class AIRateLimiter:
    """Rate Limiter –¥–ª—è AI API –≤—ã–∑–æ–≤–æ–≤"""
    
    def __init__(self, max_requests: int, time_window: int = 60):
        self.max_requests = max_requests
        self.time_window = time_window
        self.requests: Dict[str, List[float]] = {}
    
    async def is_allowed(self, client_id: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä—è–µ–º, —Ä–∞–∑—Ä–µ—à—ë–Ω –ª–∏ –∑–∞–ø—Ä–æ—Å"""
        now = time.time()
        
        if client_id not in self.requests:
            self.requests[client_id] = []
        
        # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã
        self.requests[client_id] = [
            req_time for req_time in self.requests[client_id]
            if now - req_time < self.time_window
        ]
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç
        if len(self.requests[client_id]) >= self.max_requests:
            logger.warning(
                "ai_rate_limit_exceeded",
                client_id=client_id,
                requests_count=len(self.requests[client_id])
            )
            return False
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –∑–∞–ø—Ä–æ—Å
        self.requests[client_id].append(now)
        return True

# –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã
ai_circuit_breaker = AICircuitBreaker(failure_threshold=3, recovery_timeout=30)
ai_rate_limiter = AIRateLimiter(max_requests=10, time_window=60)

@monitor_ai_operation("protected_ai_call")
async def protected_ai_call(prompt: str, client_id: str) -> Dict[str, Any]:
    """AI –≤—ã–∑–æ–≤ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏"""
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º rate limit
    if not await ai_rate_limiter.is_allowed(client_id):
        raise HTTPException(
            status_code=429, 
            detail="Rate limit exceeded for AI requests"
        )
    
    # –í—ã–ø–æ–ª–Ω—è–µ–º —á–µ—Ä–µ–∑ Circuit Breaker
    async def ai_operation():
        # –ó–¥–µ—Å—å —Ä–µ–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ LLM API
        await asyncio.sleep(1)  # –ò–º–∏—Ç–∞—Ü–∏—è AI –æ–±—Ä–∞–±–æ—Ç–∫–∏
        return {"response": f"AI processed: {prompt}", "tokens_used": 150}
    
    return await ai_circuit_breaker.call(ai_operation)

@app.post("/ai/protected-request")
async def protected_ai_request(request: Dict[str, Any]):
    """–ó–∞—â–∏—â—ë–Ω–Ω—ã–π AI endpoint"""
    client_id = request.get("client_id", "anonymous")
    prompt = request.get("prompt", "")
    
    if not prompt:
        raise HTTPException(status_code=400, detail="Prompt is required")
    
    try:
        result = await protected_ai_call(prompt, client_id)
        return {
            "success": True,
            "data": result,
            "client_id": client_id
        }
    except Exception as e:
        return {
            "success": False,
            "error": str(e),
            "client_id": client_id
        }
```

---

–ü–æ–≥–Ω–∞–ª–∏ –≤ **–ß–∞—Å—Ç—å 3: –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö**! üí™

# üß† –ß–∞—Å—Ç—å 3: –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

## üîÑ 1. –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

### ‚ö° Quick Sort - O(n log n) –≤ —Å—Ä–µ–¥–Ω–µ–º

```python
def quick_sort(arr):
    if len(arr) <= 1:  # –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π - –º–∞—Å—Å–∏–≤ –∏–∑ 0-1 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
        return arr
    
    pivot = arr[len(arr) // 2]  # –≤—ã–±–∏—Ä–∞–µ–º —Å—Ä–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –∫–∞–∫ –æ–ø–æ—Ä–Ω—ã–π
    left = []  # —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—å—à–µ –æ–ø–æ—Ä–Ω–æ–≥–æ
    middle = []  # —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–≤–Ω—ã–µ –æ–ø–æ—Ä–Ω–æ–º—É  
    right = []  # —ç–ª–µ–º–µ–Ω—Ç—ã –±–æ–ª—å—à–µ –æ–ø–æ—Ä–Ω–æ–≥–æ
    
    for x in arr:  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º
        if x < pivot:  # –µ—Å–ª–∏ –º–µ–Ω—å—à–µ –æ–ø–æ—Ä–Ω–æ–≥–æ
            left.append(x)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ –ª–µ–≤—É—é —á–∞—Å—Ç—å
        elif x == pivot:  # –µ—Å–ª–∏ —Ä–∞–≤–Ω–æ –æ–ø–æ—Ä–Ω–æ–º—É
            middle.append(x)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å—Ä–µ–¥–Ω—é—é —á–∞—Å—Ç—å
        else:  # –µ—Å–ª–∏ –±–æ–ª—å—à–µ –æ–ø–æ—Ä–Ω–æ–≥–æ
            right.append(x)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å
    
    # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ª–µ–≤—É—é –∏ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç–∏
    return quick_sort(left) + middle + quick_sort(right)

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
numbers = [64, 34, 25, 12, 22, 11, 90]  # –Ω–µ–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤
sorted_numbers = quick_sort(numbers)  # —Å–æ—Ä—Ç–∏—Ä—É–µ–º
print(f"–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤: {sorted_numbers}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

### üîÄ Merge Sort - –≤—Å–µ–≥–¥–∞ O(n log n)

```python
def merge_sort(arr):
    if len(arr) <= 1:  # –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π
        return arr
    
    mid = len(arr) // 2  # –Ω–∞—Ö–æ–¥–∏–º —Å–µ—Ä–µ–¥–∏–Ω—É –º–∞—Å—Å–∏–≤–∞
    left_half = arr[:mid]  # –ª–µ–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞
    right_half = arr[mid:]  # –ø—Ä–∞–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞
    
    left_sorted = merge_sort(left_half)  # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ª–µ–≤—É—é —á–∞—Å—Ç—å
    right_sorted = merge_sort(right_half)  # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å
    
    return merge(left_sorted, right_sorted)  # —Å–ª–∏–≤–∞–µ–º –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏

def merge(left, right):
    result = []  # —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π –º–∞—Å—Å–∏–≤
    i = j = 0  # —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Ç–µ–∫—É—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ª–µ–≤–æ–≥–æ –∏ –ø—Ä–∞–≤–æ–≥–æ –º–∞—Å—Å–∏–≤–æ–≤
    
    while i < len(left) and j < len(right):  # –ø–æ–∫–∞ –Ω–µ –¥–æ—à–ª–∏ –¥–æ –∫–æ–Ω—Ü–∞ –æ–¥–Ω–æ–≥–æ –∏–∑ –º–∞—Å—Å–∏–≤–æ–≤
        if left[i] <= right[j]:  # –µ—Å–ª–∏ –ª–µ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–µ–Ω
            result.append(left[i])  # –¥–æ–±–∞–≤–ª—è–µ–º –ª–µ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
            i += 1  # –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ª–µ–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
        else:  # –µ—Å–ª–∏ –ø—Ä–∞–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—å—à–µ
            result.append(right[j])  # –¥–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
            j += 1  # –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–∞–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
    
    result.extend(left[i:])  # –¥–æ–±–∞–≤–ª—è–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã –ª–µ–≤–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
    result.extend(right[j:])  # –¥–æ–±–∞–≤–ª—è–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∞–≤–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
    
    return result  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ª–∏—Ç—ã–π –º–∞—Å—Å–∏–≤

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
data = [38, 27, 43, 3, 9, 82, 10]  # –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
sorted_data = merge_sort(data)  # —Å–æ—Ä—Ç–∏—Ä—É–µ–º
print(f"Merge sort —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {sorted_data}")  # –≤—ã–≤–æ–¥–∏–º
```

## üîç 2. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∏—Å–∫–∞

### üéØ Binary Search - O(log n)

```python
def binary_search(arr, target):
    left = 0  # –ª–µ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞
    right = len(arr) - 1  # –ø—Ä–∞–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞
    
    while left <= right:  # –ø–æ–∫–∞ –≥—Ä–∞–Ω–∏—Ü—ã –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–ª–∏—Å—å
        mid = (left + right) // 2  # –Ω–∞—Ö–æ–¥–∏–º —Å—Ä–µ–¥–Ω–∏–π –∏–Ω–¥–µ–∫—Å
        
        if arr[mid] == target:  # –µ—Å–ª–∏ –Ω–∞—à–ª–∏ –∏—Å–∫–æ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç
            return mid  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –∏–Ω–¥–µ–∫—Å
        elif arr[mid] < target:  # –µ—Å–ª–∏ —Å—Ä–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—å—à–µ –∏—Å–∫–æ–º–æ–≥–æ
            left = mid + 1  # –∏—â–µ–º –≤ –ø—Ä–∞–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ
        else:  # –µ—Å–ª–∏ —Å—Ä–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –±–æ–ª—å—à–µ –∏—Å–∫–æ–º–æ–≥–æ
            right = mid - 1  # –∏—â–µ–º –≤ –ª–µ–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ
    
    return -1  # —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

# –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è
def binary_search_recursive(arr, target, left=0, right=None):
    if right is None:  # –µ—Å–ª–∏ –ø—Ä–∞–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –∑–∞–¥–∞–Ω–∞
        right = len(arr) - 1  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –µ—ë –≤ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞
    
    if left > right:  # –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π - —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
        return -1
    
    mid = (left + right) // 2  # –Ω–∞—Ö–æ–¥–∏–º —Å—Ä–µ–¥–Ω–∏–π –∏–Ω–¥–µ–∫—Å
    
    if arr[mid] == target:  # –µ—Å–ª–∏ –Ω–∞—à–ª–∏
        return mid  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–Ω–¥–µ–∫—Å
    elif arr[mid] < target:  # –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Å–ø—Ä–∞–≤–∞
        return binary_search_recursive(arr, target, mid + 1, right)  # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏—â–µ–º —Å–ø—Ä–∞–≤–∞
    else:  # –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Å–ª–µ–≤–∞
        return binary_search_recursive(arr, target, left, mid - 1)  # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏—â–µ–º —Å–ª–µ–≤–∞

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
sorted_array = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19]  # –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤
search_target = 7  # —á—Ç–æ –∏—â–µ–º
index = binary_search(sorted_array, search_target)  # –∏—â–µ–º —ç–ª–µ–º–µ–Ω—Ç
print(f"–≠–ª–µ–º–µ–Ω—Ç {search_target} –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –∏–Ω–¥–µ–∫—Å–µ: {index}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

## üåä 3. –ü–æ–∏—Å–∫ –≤ –≥–ª—É–±–∏–Ω—É –∏ —à–∏—Ä–∏–Ω—É

### üèä DFS (Depth-First Search)

```python
class Graph:
    def __init__(self):
        self.graph = {}  # —Å–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞
    
    def add_edge(self, u, v):
        if u not in self.graph:  # –µ—Å–ª–∏ –≤–µ—Ä—à–∏–Ω–∞ u –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
            self.graph[u] = []  # —Å–æ–∑–¥–∞—ë–º –¥–ª—è –Ω–µ—ë –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ —Å–º–µ–∂–Ω–æ—Å—Ç–∏
        if v not in self.graph:  # –µ—Å–ª–∏ –≤–µ—Ä—à–∏–Ω–∞ v –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
            self.graph[v] = []  # —Å–æ–∑–¥–∞—ë–º –¥–ª—è –Ω–µ—ë –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ —Å–º–µ–∂–Ω–æ—Å—Ç–∏
        
        self.graph[u].append(v)  # –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ u -> v
        self.graph[v].append(u)  # –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ v -> u (–¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞)
    
    def dfs(self, start, visited=None):
        if visited is None:  # –µ—Å–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω –Ω–µ –∑–∞–¥–∞–Ω–æ
            visited = set()  # —Å–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
        
        visited.add(start)  # –ø–æ–º–µ—á–∞–µ–º —Ç–µ–∫—É—â—É—é –≤–µ—Ä—à–∏–Ω—É –∫–∞–∫ –ø–æ—Å–µ—â—ë–Ω–Ω—É—é
        print(f"–ü–æ—Å–µ—â–∞–µ–º –≤–µ—Ä—à–∏–Ω—É: {start}")  # –≤—ã–≤–æ–¥–∏–º —Ç–µ–∫—É—â—É—é –≤–µ—Ä—à–∏–Ω—É
        
        for neighbor in self.graph.get(start, []):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Å–æ—Å–µ–¥—è–º
            if neighbor not in visited:  # –µ—Å–ª–∏ —Å–æ—Å–µ–¥ –µ—â—ë –Ω–µ –ø–æ—Å–µ—â—ë–Ω
                self.dfs(neighbor, visited)  # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ–º DFS –¥–ª—è —Å–æ—Å–µ–¥–∞
        
        return visited  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω
    
    def dfs_iterative(self, start):
        visited = set()  # –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω
        stack = [start]  # —Å—Ç–µ–∫ –¥–ª—è –æ–±—Ö–æ–¥–∞ (–Ω–∞—á–∏–Ω–∞–µ–º —Å–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –≤–µ—Ä—à–∏–Ω—ã)
        
        while stack:  # –ø–æ–∫–∞ —Å—Ç–µ–∫ –Ω–µ –ø—É—Å—Ç
            vertex = stack.pop()  # –∏–∑–≤–ª–µ–∫–∞–µ–º –≤–µ—Ä—à–∏–Ω—É –∏–∑ —Å—Ç–µ–∫–∞
            
            if vertex not in visited:  # –µ—Å–ª–∏ –≤–µ—Ä—à–∏–Ω–∞ –Ω–µ –ø–æ—Å–µ—â–µ–Ω–∞
                visited.add(vertex)  # –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ –ø–æ—Å–µ—â—ë–Ω–Ω—É—é
                print(f"–ü–æ—Å–µ—â–∞–µ–º –≤–µ—Ä—à–∏–Ω—É: {vertex}")  # –≤—ã–≤–æ–¥–∏–º
                
                # –¥–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ—Ö –Ω–µ–ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö —Å–æ—Å–µ–¥–µ–π –≤ —Å—Ç–µ–∫
                for neighbor in self.graph.get(vertex, []):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Å–æ—Å–µ–¥—è–º
                    if neighbor not in visited:  # –µ—Å–ª–∏ —Å–æ—Å–µ–¥ –Ω–µ –ø–æ—Å–µ—â—ë–Ω
                        stack.append(neighbor)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å—Ç–µ–∫
        
        return visited  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ—Å–µ—â—ë–Ω–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
g = Graph()  # —Å–æ–∑–¥–∞—ë–º –≥—Ä–∞—Ñ
g.add_edge(0, 1)  # –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ 0-1
g.add_edge(0, 2)  # –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ 0-2
g.add_edge(1, 2)  # –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ 1-2
g.add_edge(2, 3)  # –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ 2-3

print("DFS –æ–±—Ö–æ–¥:")  # –∑–∞–≥–æ–ª–æ–≤–æ–∫
g.dfs(0)  # –∑–∞–ø—É—Å–∫–∞–µ–º DFS –æ—Ç –≤–µ—Ä—à–∏–Ω—ã 0
```

### üåä BFS (Breadth-First Search)

```python
from collections import deque  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –æ—á–µ—Ä–µ–¥—å

class Graph:
    def __init__(self):
        self.graph = {}  # —Å–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞
    
    def add_edge(self, u, v):
        if u not in self.graph:  # –µ—Å–ª–∏ –≤–µ—Ä—à–∏–Ω–∞ u –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
            self.graph[u] = []  # —Å–æ–∑–¥–∞—ë–º –¥–ª—è –Ω–µ—ë —Å–ø–∏—Å–æ–∫
        if v not in self.graph:  # –µ—Å–ª–∏ –≤–µ—Ä—à–∏–Ω–∞ v –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
            self.graph[v] = []  # —Å–æ–∑–¥–∞—ë–º –¥–ª—è –Ω–µ—ë —Å–ø–∏—Å–æ–∫
        
        self.graph[u].append(v)  # –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ u -> v
        self.graph[v].append(u)  # –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ v -> u
    
    def bfs(self, start):
        visited = set()  # –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω
        queue = deque([start])  # –æ—á–µ—Ä–µ–¥—å –¥–ª—è BFS (–Ω–∞—á–∏–Ω–∞–µ–º —Å–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –≤–µ—Ä—à–∏–Ω—ã)
        visited.add(start)  # –ø–æ–º–µ—á–∞–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—É—é –≤–µ—Ä—à–∏–Ω—É –∫–∞–∫ –ø–æ—Å–µ—â—ë–Ω–Ω—É—é
        
        while queue:  # –ø–æ–∫–∞ –æ—á–µ—Ä–µ–¥—å –Ω–µ –ø—É—Å—Ç–∞
            vertex = queue.popleft()  # –∏–∑–≤–ª–µ–∫–∞–µ–º –≤–µ—Ä—à–∏–Ω—É –∏–∑ –Ω–∞—á–∞–ª–∞ –æ—á–µ—Ä–µ–¥–∏
            print(f"–ü–æ—Å–µ—â–∞–µ–º –≤–µ—Ä—à–∏–Ω—É: {vertex}")  # –≤—ã–≤–æ–¥–∏–º —Ç–µ–∫—É—â—É—é –≤–µ—Ä—à–∏–Ω—É
            
            for neighbor in self.graph.get(vertex, []):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Å–æ—Å–µ–¥—è–º
                if neighbor not in visited:  # –µ—Å–ª–∏ —Å–æ—Å–µ–¥ –Ω–µ –ø–æ—Å–µ—â—ë–Ω
                    visited.add(neighbor)  # –ø–æ–º–µ—á–∞–µ–º —Å–æ—Å–µ–¥–∞ –∫–∞–∫ –ø–æ—Å–µ—â—ë–Ω–Ω–æ–≥–æ
                    queue.append(neighbor)  # –¥–æ–±–∞–≤–ª—è–µ–º —Å–æ—Å–µ–¥–∞ –≤ –∫–æ–Ω–µ—Ü –æ—á–µ—Ä–µ–¥–∏
        
        return visited  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ—Å–µ—â—ë–Ω–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã
    
    def shortest_path(self, start, end):
        visited = set()  # –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω
        queue = deque([(start, [start])])  # –æ—á–µ—Ä–µ–¥—å —Å –ø–∞—Ä–∞–º–∏ (–≤–µ—Ä—à–∏–Ω–∞, –ø—É—Ç—å –¥–æ –Ω–µ—ë)
        visited.add(start)  # –ø–æ–º–µ—á–∞–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—É—é –≤–µ—Ä—à–∏–Ω—É –∫–∞–∫ –ø–æ—Å–µ—â—ë–Ω–Ω—É—é
        
        while queue:  # –ø–æ–∫–∞ –æ—á–µ—Ä–µ–¥—å –Ω–µ –ø—É—Å—Ç–∞
            vertex, path = queue.popleft()  # –∏–∑–≤–ª–µ–∫–∞–µ–º –≤–µ—Ä—à–∏–Ω—É –∏ –ø—É—Ç—å –¥–æ –Ω–µ—ë
            
            if vertex == end:  # –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ –∫–æ–Ω–µ—á–Ω–æ–π –≤–µ—Ä—à–∏–Ω—ã
                return path  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–π –ø—É—Ç—å
            
            for neighbor in self.graph.get(vertex, []):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Å–æ—Å–µ–¥—è–º
                if neighbor not in visited:  # –µ—Å–ª–∏ —Å–æ—Å–µ–¥ –Ω–µ –ø–æ—Å–µ—â—ë–Ω
                    visited.add(neighbor)  # –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ –ø–æ—Å–µ—â—ë–Ω–Ω–æ–≥–æ
                    new_path = path + [neighbor]  # —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –ø—É—Ç—å
                    queue.append((neighbor, new_path))  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å
        
        return None  # –ø—É—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
g = Graph()  # —Å–æ–∑–¥–∞—ë–º –≥—Ä–∞—Ñ
g.add_edge(0, 1)  # –¥–æ–±–∞–≤–ª—è–µ–º —Ä—ë–±—Ä–∞
g.add_edge(0, 2)
g.add_edge(1, 2)
g.add_edge(2, 3)
g.add_edge(1, 3)

print("BFS –æ–±—Ö–æ–¥:")  # –∑–∞–≥–æ–ª–æ–≤–æ–∫
g.bfs(0)  # –∑–∞–ø—É—Å–∫–∞–µ–º BFS

print(f"–ö—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å –æ—Ç 0 –¥–æ 3: {g.shortest_path(0, 3)}")  # –Ω–∞—Ö–æ–¥–∏–º –ø—É—Ç—å
```

## üí° 4. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ

### üê∞ –ß–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏ - —Å –º–µ–º–æ–∏–∑–∞—Ü–∏–µ–π

```python
# –ù–∞–∏–≤–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è - O(2^n) - –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ!
def fib_naive(n):
    if n <= 1:  # –±–∞–∑–æ–≤—ã–µ —Å–ª—É—á–∞–∏
        return n
    return fib_naive(n-1) + fib_naive(n-2)  # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤

# –ú–µ–º–æ–∏–∑–∞—Ü–∏—è - O(n) - –±—ã—Å—Ç—Ä–æ!
def fib_memo(n, memo=None):
    if memo is None:  # –µ—Å–ª–∏ —Å–ª–æ–≤–∞—Ä—å –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω
        memo = {}  # —Å–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å
    
    if n in memo:  # –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ –≤—ã—á–∏—Å–ª–µ–Ω
        return memo[n]  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    
    if n <= 1:  # –±–∞–∑–æ–≤—ã–µ —Å–ª—É—á–∞–∏
        result = n  # —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–≤–µ–Ω n
    else:  # –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
        result = fib_memo(n-1, memo) + fib_memo(n-2, memo)  # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã—á–∏—Å–ª—è–µ–º
    
    memo[n] = result  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –º–µ–º–æ
    return result  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –¢–∞–±—É–ª—è—Ü–∏—è (—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö) - O(n) –≤—Ä–µ–º–µ–Ω–∏, O(n) –ø–∞–º—è—Ç–∏
def fib_tabulation(n):
    if n <= 1:  # –±–∞–∑–æ–≤—ã–µ —Å–ª—É—á–∞–∏
        return n
    
    dp = [0] * (n + 1)  # —Å–æ–∑–¥–∞—ë–º –º–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    dp[0] = 0  # F(0) = 0
    dp[1] = 1  # F(1) = 1
    
    for i in range(2, n + 1):  # –∑–∞–ø–æ–ª–Ω—è–µ–º –º–∞—Å—Å–∏–≤ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö
        dp[i] = dp[i-1] + dp[i-2]  # F(i) = F(i-1) + F(i-2)
    
    return dp[n]  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ - O(n) –≤—Ä–µ–º–µ–Ω–∏, O(1) –ø–∞–º—è—Ç–∏
def fib_optimized(n):
    if n <= 1:  # –±–∞–∑–æ–≤—ã–µ —Å–ª—É—á–∞–∏
        return n
    
    prev2 = 0  # F(0)
    prev1 = 1  # F(1)
    
    for i in range(2, n + 1):  # –≤—ã—á–∏—Å–ª—è–µ–º –æ—Ç F(2) –¥–æ F(n)
        current = prev1 + prev2  # F(i) = F(i-1) + F(i-2)
        prev2 = prev1  # —Å–¥–≤–∏–≥–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
        prev1 = current  # –æ–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    
    return prev1  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
n = 10  # –Ω–æ–º–µ—Ä —á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏
print(f"Fib({n}) –Ω–∞–∏–≤–Ω–æ: {fib_naive(n)}")  # –º–µ–¥–ª–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±
print(f"Fib({n}) —Å –º–µ–º–æ: {fib_memo(n)}")  # –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±
print(f"Fib({n}) —Ç–∞–±—É–ª—è—Ü–∏—è: {fib_tabulation(n)}")  # —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö
print(f"Fib({n}) –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ: {fib_optimized(n)}")  # —ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏
```

### üéí –ó–∞–¥–∞—á–∞ –æ —Ä—é–∫–∑–∞–∫–µ (0/1 Knapsack)

```python
def knapsack(weights, values, capacity):
    n = len(weights)  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
    
    # —Å–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É dp[i][w] - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è i –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ –≤–µ—Å–∞ w
    dp = [[0 for _ in range(capacity + 1)] for _ in range(n + 1)]
    
    for i in range(1, n + 1):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –ø—Ä–µ–¥–º–µ—Ç–∞–º
        for w in range(1, capacity + 1):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–º –≤–µ—Å–∞–º
            item_weight = weights[i-1]  # –≤–µ—Å —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
            item_value = values[i-1]  # —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
            
            if item_weight <= w:  # –µ—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —Ä—é–∫–∑–∞–∫
                # –≤—ã–±–∏—Ä–∞–µ–º –º–∞–∫—Å–∏–º—É–º –º–µ–∂–¥—É: –≤–∑—è—Ç—å –ø—Ä–µ–¥–º–µ—Ç –∏–ª–∏ –Ω–µ –±—Ä–∞—Ç—å
                take_item = dp[i-1][w-item_weight] + item_value  # –≤–∑—è—Ç—å –ø—Ä–µ–¥–º–µ—Ç
                not_take_item = dp[i-1][w]  # –Ω–µ –±—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç
                dp[i][w] = max(take_item, not_take_item)  # –≤—ã–±–∏—Ä–∞–µ–º –ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
            else:  # –µ—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è
                dp[i][w] = dp[i-1][w]  # –Ω–µ –±–µ—Ä—ë–º –ø—Ä–µ–¥–º–µ—Ç
    
    return dp[n][capacity]  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å

def knapsack_with_items(weights, values, capacity):
    n = len(weights)  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
    dp = [[0 for _ in range(capacity + 1)] for _ in range(n + 1)]  # —Ç–∞–±–ª–∏—Ü–∞ DP
    
    # –∑–∞–ø–æ–ª–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—É –∫–∞–∫ –≤ –æ–±—ã—á–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ
    for i in range(1, n + 1):  # –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º
        for w in range(1, capacity + 1):  # –ø–æ –≤–µ—Å–∞–º
            if weights[i-1] <= w:  # –µ—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–º–µ—â–∞–µ—Ç—Å—è
                take = dp[i-1][w-weights[i-1]] + values[i-1]  # –≤–∑—è—Ç—å
                not_take = dp[i-1][w]  # –Ω–µ –≤–∑—è—Ç—å
                dp[i][w] = max(take, not_take)  # –≤—ã–±–∏—Ä–∞–µ–º –ª—É—á—à–µ–µ
            else:  # –µ—Å–ª–∏ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è
                dp[i][w] = dp[i-1][w]  # –Ω–µ –±–µ—Ä—ë–º
    
    # –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤
    w = capacity  # –Ω–∞—á–∏–Ω–∞–µ–º —Å –ø–æ–ª–Ω–æ–π –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
    selected_items = []  # —Å–ø–∏—Å–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
    
    for i in range(n, 0, -1):  # –∏–¥—ë–º –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
        if dp[i][w] != dp[i-1][w]:  # –µ—Å–ª–∏ –≤–∑—è–ª–∏ –ø—Ä–µ–¥–º–µ—Ç i-1
            selected_items.append(i-1)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫
            w -= weights[i-1]  # —É–º–µ–Ω—å—à–∞–µ–º –æ—Å—Ç–∞–≤—à–∏–π—Å—è –≤–µ—Å
    
    return dp[n][capacity], selected_items[::-1]  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –ø—Ä–µ–¥–º–µ—Ç—ã

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
weights = [10, 20, 30]  # –≤–µ—Å–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
values = [60, 100, 120]  # —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
capacity = 50  # –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ä—é–∫–∑–∞–∫–∞

max_value = knapsack(weights, values, capacity)  # –Ω–∞—Ö–æ–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
print(f"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {max_value}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

max_value, items = knapsack_with_items(weights, values, capacity)  # —Å –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
print(f"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {max_value}, –≤–∑—è—Ç—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã: {items}")  # –≤—ã–≤–æ–¥–∏–º
```

## üî¢ 5. –•–µ—à-—Ç–∞–±–ª–∏—Ü—ã –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### üóÇÔ∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–π —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã

```python
class HashTable:
    def __init__(self, size=10):
        self.size = size  # —Ä–∞–∑–º–µ—Ä —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã
        self.table = [[] for _ in range(self.size)]  # –º–∞—Å—Å–∏–≤ —Å–ø–∏—Å–∫–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–ª–ª–∏–∑–∏–π
    
    def _hash(self, key):
        # –ø—Ä–æ—Å—Ç–∞—è —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏—è - –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è
        return hash(key) % self.size  # –≤—ã—á–∏—Å–ª—è–µ–º –∏–Ω–¥–µ–∫—Å
    
    def put(self, key, value):
        index = self._hash(key)  # –ø–æ–ª—É—á–∞–µ–º –∏–Ω–¥–µ–∫—Å –¥–ª—è –∫–ª—é—á–∞
        bucket = self.table[index]  # –ø–æ–ª—É—á–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É (—Å–ø–∏—Å–æ–∫)
        
        # –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —Ç–∞–∫–æ–π –∫–ª—é—á
        for i, (k, v) in enumerate(bucket):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º –∫–æ—Ä–∑–∏–Ω—ã
            if k == key:  # –µ—Å–ª–∏ –∫–ª—é—á –Ω–∞–π–¥–µ–Ω
                bucket[i] = (key, value)  # –æ–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
                return  # –≤—ã—Ö–æ–¥–∏–º
        
        # –µ—Å–ª–∏ –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –ø–∞—Ä—É
        bucket.append((key, value))  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ—Ä–∑–∏–Ω—É
    
    def get(self, key):
        index = self._hash(key)  # –ø–æ–ª—É—á–∞–µ–º –∏–Ω–¥–µ–∫—Å
        bucket = self.table[index]  # –ø–æ–ª—É—á–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
        
        for k, v in bucket:  # –∏—â–µ–º –∫–ª—é—á –≤ –∫–æ—Ä–∑–∏–Ω–µ
            if k == key:  # –µ—Å–ª–∏ –Ω–∞—à–ª–∏
                return v  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
        
        raise KeyError(f"Key '{key}' not found")  # –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω
    
    def delete(self, key):
        index = self._hash(key)  # –ø–æ–ª—É—á–∞–µ–º –∏–Ω–¥–µ–∫—Å
        bucket = self.table[index]  # –ø–æ–ª—É—á–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
        
        for i, (k, v) in enumerate(bucket):  # –∏—â–µ–º –∫–ª—é—á
            if k == key:  # –µ—Å–ª–∏ –Ω–∞—à–ª–∏
                del bucket[i]  # —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç
                return v  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —É–¥–∞–ª—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        
        raise KeyError(f"Key '{key}' not found")  # –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω
    
    def display(self):
        for i, bucket in enumerate(self.table):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –∫–æ—Ä–∑–∏–Ω–∞–º
            print(f"Bucket {i}: {bucket}")  # –≤—ã–≤–æ–¥–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
ht = HashTable(5)  # —Å–æ–∑–¥–∞—ë–º —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É —Ä–∞–∑–º–µ—Ä–æ–º 5

# –¥–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
ht.put("name", "–ê–ª–µ–∫—Å–µ–π")  # –¥–æ–±–∞–≤–ª—è–µ–º –∏–º—è
ht.put("age", 25)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤–æ–∑—Ä–∞—Å—Ç
ht.put("city", "–ú–æ—Å–∫–≤–∞")  # –¥–æ–±–∞–≤–ª—è–µ–º –≥–æ—Ä–æ–¥

print(f"–ò–º—è: {ht.get('name')}")  # –ø–æ–ª—É—á–∞–µ–º –∏–º—è
print(f"–í–æ–∑—Ä–∞—Å—Ç: {ht.get('age')}")  # –ø–æ–ª—É—á–∞–µ–º –≤–æ–∑—Ä–∞—Å—Ç

ht.display()  # –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–ª–∏—Ü—ã
```

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤:

### 1. üîÑ –ö–∞–∫ –Ω–∞–π—Ç–∏ —Ü–∏–∫–ª –≤ —Å–≤—è–∑–∞–Ω–Ω–æ–º —Å–ø–∏—Å–∫–µ?

```python
class ListNode:
    def __init__(self, val=0):
        self.val = val  # –∑–Ω–∞—á–µ–Ω–∏–µ —É–∑–ª–∞
        self.next = None  # —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª

def has_cycle(head):
    # –∞–ª–≥–æ—Ä–∏—Ç–º "—á–µ—Ä–µ–ø–∞—Ö–∏ –∏ –∑–∞–π—Ü–∞" (Floyd's cycle detection)
    slow = head  # –º–µ–¥–ª–µ–Ω–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å (—á–µ—Ä–µ–ø–∞—Ö–∞)
    fast = head  # –±—ã—Å—Ç—Ä—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å (–∑–∞—è—Ü)
    
    while fast and fast.next:  # –ø–æ–∫–∞ –±—ã—Å—Ç—Ä—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–µ –¥–æ—à—ë–ª –¥–æ –∫–æ–Ω—Ü–∞
        slow = slow.next  # —á–µ—Ä–µ–ø–∞—Ö–∞ –¥–µ–ª–∞–µ—Ç –æ–¥–∏–Ω —à–∞–≥
        fast = fast.next.next  # –∑–∞—è—Ü –¥–µ–ª–∞–µ—Ç –¥–≤–∞ —à–∞–≥–∞
        
        if slow == fast:  # –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å
            return True  # –µ—Å—Ç—å —Ü–∏–∫–ª
    
    return False  # —Ü–∏–∫–ª–∞ –Ω–µ—Ç

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
node1 = ListNode(1)  # —Å–æ–∑–¥–∞—ë–º —É–∑–µ–ª 1
node2 = ListNode(2)  # —Å–æ–∑–¥–∞—ë–º —É–∑–µ–ª 2  
node3 = ListNode(3)  # —Å–æ–∑–¥–∞—ë–º —É–∑–µ–ª 3
node4 = ListNode(4)  # —Å–æ–∑–¥–∞—ë–º —É–∑–µ–ª 4

node1.next = node2  # 1 -> 2
node2.next = node3  # 2 -> 3
node3.next = node4  # 3 -> 4
node4.next = node2  # 4 -> 2 (—Å–æ–∑–¥–∞—ë–º —Ü–∏–∫–ª)

print(f"–ï—Å—Ç—å –ª–∏ —Ü–∏–∫–ª? {has_cycle(node1)}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ü–∏–∫–ª
```

### 2. üîÅ –ö–∞–∫ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ–∫—É?

```python
def reverse_string_methods(s):
    # —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ–∫—É
    methods = {
        "—Å—Ä–µ–∑": s[::-1],  # —Å–∞–º—ã–π –ø–∏—Ç–æ–Ω–æ–≤—Å–∫–∏–π —Å–ø–æ—Å–æ–±
        "reversed": ''.join(reversed(s)),  # –∏—Å–ø–æ–ª—å–∑—É–µ–º built-in —Ñ—É–Ω–∫—Ü–∏—é
        "—Ü–∏–∫–ª": ''.join(s[i] for i in range(len(s)-1, -1, -1)),  # —á–µ—Ä–µ–∑ —Ü–∏–∫–ª
    }
    return methods

def reverse_string_inplace(s_list):
    # —Ä–∞–∑–≤–æ—Ä–æ—Ç —Å–ø–∏—Å–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ –º–µ—Å—Ç–µ
    left = 0  # –ª–µ–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å
    right = len(s_list) - 1  # –ø—Ä–∞–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å
    
    while left < right:  # –ø–æ–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å
        s_list[left], s_list[right] = s_list[right], s_list[left]  # –º–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏
        left += 1  # —Å–¥–≤–∏–≥–∞–µ–º –ª–µ–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å
        right -= 1  # —Å–¥–≤–∏–≥–∞–µ–º –ø—Ä–∞–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å
    
    return s_list  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
original = "Python"  # –∏—Å—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
methods = reverse_string_methods(original)  # —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã

for method, result in methods.items():  # –≤—ã–≤–æ–¥–∏–º –≤—Å–µ —Å–ø–æ—Å–æ–±—ã
    print(f"{method}: {result}")  # –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –†–∞–∑–≤–æ—Ä–æ—Ç –Ω–∞ –º–µ—Å—Ç–µ
chars = list("Hello")  # –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤
reversed_chars = reverse_string_inplace(chars)  # —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º
print(f"–ù–∞ –º–µ—Å—Ç–µ: {''.join(reversed_chars)}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

## üéØ LeetCode-Style –ó–∞–¥–∞—á–∏ –¥–ª—è Backend Interview (2025)

> **üí° –°–æ–≤–µ—Ç:** –≠—Ç–∏ –∑–∞–¥–∞—á–∏ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö –≤ FAANG –∏ —Ç–æ–ø-–∫–æ–º–ø–∞–Ω–∏—è—Ö

### 1. üî• Top K Frequent Elements

**–ó–∞–¥–∞—á–∞:** –ù–∞–π—Ç–∏ K —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** Medium  
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

```python
import heapq
from collections import Counter
from typing import List

def top_k_frequent_heap(nums: List[int], k: int) -> List[int]:
    """
    –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Min Heap - O(n log k)
    –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö n –∏ –º–∞–ª–µ–Ω—å–∫–∏—Ö k
    """
    count = Counter(nums)  # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º —á–∞—Å—Ç–æ—Ç—ã - O(n)
    
    # Min heap —Ä–∞–∑–º–µ—Ä–æ–º k
    heap = []
    
    for num, freq in count.items():  # O(n log k)
        heapq.heappush(heap, (freq, num))  # –î–æ–±–∞–≤–ª—è–µ–º –≤ heap
        
        if len(heap) > k:  # –ï—Å–ª–∏ heap –±–æ–ª—å—à–µ k
            heapq.heappop(heap)  # –£–¥–∞–ª—è–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
    
    # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    return [num for freq, num in heap]

def top_k_frequent_quickselect(nums: List[int], k: int) -> List[int]:
    """
    –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ QuickSelect - O(n) average, O(n¬≤) worst
    –õ—É—á—à–µ –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ k –±–ª–∏–∑–∫–æ –∫ n
    """
    count = Counter(nums)
    unique_nums = list(count.keys())
    
    def quickselect(left: int, right: int, k_smallest: int) -> None:
        """QuickSelect –¥–ª—è –ø–æ–∏—Å–∫–∞ k-–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞"""
        if left == right:
            return
        
        # –í—ã–±–∏—Ä–∞–µ–º pivot (–º–µ–¥–∏–∞–Ω–∞ –∏–∑ —Ç—Ä—ë—Ö)
        mid = (left + right) // 2
        if count[unique_nums[mid]] < count[unique_nums[left]]:
            unique_nums[left], unique_nums[mid] = unique_nums[mid], unique_nums[left]
        if count[unique_nums[right]] < count[unique_nums[left]]:
            unique_nums[left], unique_nums[right] = unique_nums[right], unique_nums[left]
        if count[unique_nums[mid]] < count[unique_nums[right]]:
            unique_nums[mid], unique_nums[right] = unique_nums[right], unique_nums[mid]
        
        pivot_freq = count[unique_nums[right]]
        store_index = left
        
        # –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ
        for i in range(left, right):
            if count[unique_nums[i]] < pivot_freq:
                unique_nums[store_index], unique_nums[i] = unique_nums[i], unique_nums[store_index]
                store_index += 1
        
        unique_nums[store_index], unique_nums[right] = unique_nums[right], unique_nums[store_index]
        
        # –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤
        if k_smallest == store_index:
            return
        elif k_smallest < store_index:
            quickselect(left, store_index - 1, k_smallest)
        else:
            quickselect(store_index + 1, right, k_smallest)
    
    n = len(unique_nums)
    quickselect(0, n - 1, n - k)  # –ò—â–µ–º (n-k)-–π —ç–ª–µ–º–µ–Ω—Ç
    
    return unique_nums[n - k:]  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º k —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö

# Benchmark
def benchmark_top_k():
    import random
    import time
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    nums = [random.randint(1, 1000) for _ in range(100000)]
    k = 10
    
    # Heap solution
    start = time.time()
    result1 = top_k_frequent_heap(nums, k)
    heap_time = time.time() - start
    
    # QuickSelect solution
    start = time.time()
    result2 = top_k_frequent_quickselect(nums, k)
    quickselect_time = time.time() - start
    
    print(f"Heap solution: {heap_time:.4f}s")
    print(f"QuickSelect solution: {quickselect_time:.4f}s")
    print(f"Results match: {set(result1) == set(result2)}")

# benchmark_top_k()
```

### 2. ü™ü Sliding Window Maximum

**–ó–∞–¥–∞—á–∞:** –ú–∞–∫—Å–∏–º—É–º –≤ –∫–∞–∂–¥–æ–º –æ–∫–Ω–µ —Ä–∞–∑–º–µ—Ä–∞ k  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** Hard  
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫, streaming analytics

```python
from collections import deque
from typing import List

def max_sliding_window_deque(nums: List[int], k: int) -> List[int]:
    """
    –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Monotonic Deque - O(n)
    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —É–±—ã–≤–∞—é—â—É—é –æ—á–µ—Ä–µ–¥—å –∏–Ω–¥–µ–∫—Å–æ–≤
    """
    if not nums or k == 0:
        return []
    
    dq = deque()  # –ú–æ–Ω–æ—Ç–æ–Ω–Ω–∞—è —É–±—ã–≤–∞—é—â–∞—è –æ—á–µ—Ä–µ–¥—å –∏–Ω–¥–µ–∫—Å–æ–≤
    result = []
    
    for i in range(len(nums)):
        # –£–¥–∞–ª—è–µ–º –∏–Ω–¥–µ–∫—Å—ã –≤–Ω–µ —Ç–µ–∫—É—â–µ–≥–æ –æ–∫–Ω–∞
        while dq and dq[0] <= i - k:
            dq.popleft()
        
        # –£–¥–∞–ª—è–µ–º –∏–Ω–¥–µ–∫—Å—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–µ–Ω—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ
        # (–æ–Ω–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥—É—Ç –º–∞–∫—Å–∏–º—É–º–æ–º)
        while dq and nums[dq[-1]] <= nums[i]:
            dq.pop()
        
        dq.append(i)  # –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –∏–Ω–¥–µ–∫—Å
        
        # –ï—Å–ª–∏ –æ–∫–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ, –¥–æ–±–∞–≤–ª—è–µ–º –º–∞–∫—Å–∏–º—É–º
        if i >= k - 1:
            result.append(nums[dq[0]])
    
    return result

def max_sliding_window_heap(nums: List[int], k: int) -> List[int]:
    """
    –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Max Heap - O(n log k)
    –ú–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –Ω–æ –ø—Ä–æ—â–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è
    """
    import heapq
    
    if not nums or k == 0:
        return []
    
    # Max heap (–∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
    heap = []
    result = []
    
    for i in range(len(nums)):
        # –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
        heapq.heappush(heap, (-nums[i], i))
        
        # –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω–µ –æ–∫–Ω–∞
        while heap and heap[0][1] <= i - k:
            heapq.heappop(heap)
        
        # –ï—Å–ª–∏ –æ–∫–Ω–æ –≥–æ—Ç–æ–≤–æ, –¥–æ–±–∞–≤–ª—è–µ–º –º–∞–∫—Å–∏–º—É–º
        if i >= k - 1:
            result.append(-heap[0][0])
    
    return result

# Real-world –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CPU
class CPUMonitor:
    """–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ CPU –≤ —Å–∫–æ–ª—å–∑—è—â–µ–º –æ–∫–Ω–µ"""
    
    def __init__(self, window_size: int = 60):
        self.window_size = window_size  # —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        self.cpu_readings = []  # –ø–æ–∫–∞–∑–∞–Ω–∏—è CPU
        self.timestamps = []  # –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
        self.dq = deque()  # –º–æ–Ω–æ—Ç–æ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å
    
    def add_cpu_reading(self, cpu_percent: float, timestamp: float):
        """–î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ –ø–æ–∫–∞–∑–∞–Ω–∏–µ CPU"""
        self.cpu_readings.append(cpu_percent)
        self.timestamps.append(timestamp)
        
        current_idx = len(self.cpu_readings) - 1
        
        # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è (–≤–Ω–µ –æ–∫–Ω–∞)
        while (self.dq and 
               self.timestamps[current_idx] - self.timestamps[self.dq[0]] > self.window_size):
            self.dq.popleft()
        
        # –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å
        while self.dq and self.cpu_readings[self.dq[-1]] <= cpu_percent:
            self.dq.pop()
        
        self.dq.append(current_idx)
    
    def get_peak_cpu(self) -> float:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–∏–∫–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ window_size —Å–µ–∫—É–Ω–¥"""
        if not self.dq:
            return 0.0
        return self.cpu_readings[self.dq[0]]

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
monitor = CPUMonitor(window_size=300)  # 5-–º–∏–Ω—É—Ç–Ω–æ–µ –æ–∫–Ω–æ
# monitor.add_cpu_reading(45.2, time.time())
# peak_cpu = monitor.get_peak_cpu()
```

### 3. üíæ LRU Cache Implementation

**–ó–∞–¥–∞—á–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å LRU (Least Recently Used) –∫—ç—à  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** Medium  
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, OS page replacement

```python
class LRUCacheNode:
    """–£–∑–µ–ª –¥–≤—É—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–ª—è LRU Cache"""
    
    def __init__(self, key: int = 0, value: int = 0):
        self.key = key
        self.value = value
        self.prev = None
        self.next = None

class LRUCache:
    """
    LRU Cache —Å O(1) –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ get –∏ put
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç HashMap + Doubly Linked List
    """
    
    def __init__(self, capacity: int):
        self.capacity = capacity
        self.cache = {}  # key -> node mapping
        
        # Dummy head –∏ tail –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
        self.head = LRUCacheNode()
        self.tail = LRUCacheNode()
        self.head.next = self.tail
        self.tail.prev = self.head
    
    def _add_to_head(self, node: LRUCacheNode):
        """–î–æ–±–∞–≤–ª—è–µ–º —É–∑–µ–ª —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ head"""
        node.prev = self.head
        node.next = self.head.next
        
        self.head.next.prev = node
        self.head.next = node
    
    def _remove_node(self, node: LRUCacheNode):
        """–£–¥–∞–ª—è–µ–º —É–∑–µ–ª –∏–∑ —Å–ø–∏—Å–∫–∞"""
        prev_node = node.prev
        next_node = node.next
        
        prev_node.next = next_node
        next_node.prev = prev_node
    
    def _move_to_head(self, node: LRUCacheNode):
        """–ü–µ—Ä–µ–º–µ—â–∞–µ–º —É–∑–µ–ª –≤ –Ω–∞—á–∞–ª–æ (most recently used)"""
        self._remove_node(node)
        self._add_to_head(node)
    
    def _remove_tail(self) -> LRUCacheNode:
        """–£–¥–∞–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —É–∑–µ–ª (least recently used)"""
        last_node = self.tail.prev
        self._remove_node(last_node)
        return last_node
    
    def get(self, key: int) -> int:
        """–ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É - O(1)"""
        node = self.cache.get(key)
        
        if not node:
            return -1
        
        # –ü–µ—Ä–µ–º–µ—â–∞–µ–º –≤ –Ω–∞—á–∞–ª–æ (recently used)
        self._move_to_head(node)
        return node.value
    
    def put(self, key: int, value: int) -> None:
        """–î–æ–±–∞–≤–ª—è–µ–º/–æ–±–Ω–æ–≤–ª—è–µ–º –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ - O(1)"""
        node = self.cache.get(key)
        
        if not node:
            new_node = LRUCacheNode(key, value)
            
            if len(self.cache) >= self.capacity:
                # –£–¥–∞–ª—è–µ–º LRU —ç–ª–µ–º–µ–Ω—Ç
                tail = self._remove_tail()
                del self.cache[tail.key]
            
            # –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
            self.cache[key] = new_node
            self._add_to_head(new_node)
        else:
            # –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
            node.value = value
            self._move_to_head(node)

# Production-ready LRU Cache —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ–∏—á–∞–º–∏
class AdvancedLRUCache:
    """–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π LRU Cache —Å TTL –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π"""
    
    def __init__(self, capacity: int, default_ttl: int = 3600):
        self.capacity = capacity
        self.default_ttl = default_ttl
        self.cache = {}
        self.access_times = {}  # –¥–ª—è TTL
        self.stats = {
            'hits': 0,
            'misses': 0,
            'evictions': 0
        }
        
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º OrderedDict –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã
        from collections import OrderedDict
        self.data = OrderedDict()
    
    def get(self, key: str, default=None):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π TTL"""
        import time
        
        if key not in self.data:
            self.stats['misses'] += 1
            return default
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º TTL
        if time.time() - self.access_times[key] > self.default_ttl:
            self.delete(key)
            self.stats['misses'] += 1
            return default
        
        # –ü–µ—Ä–µ–º–µ—â–∞–µ–º –≤ –∫–æ–Ω–µ—Ü (most recently used)
        value = self.data[key]
        self.data.move_to_end(key)
        self.access_times[key] = time.time()
        self.stats['hits'] += 1
        
        return value
    
    def put(self, key: str, value, ttl: int = None):
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º TTL"""
        import time
        
        if key in self.data:
            # –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
            self.data[key] = value
            self.data.move_to_end(key)
        else:
            # –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π
            if len(self.data) >= self.capacity:
                # –£–¥–∞–ª—è–µ–º LRU
                oldest_key = next(iter(self.data))
                self.delete(oldest_key)
                self.stats['evictions'] += 1
            
            self.data[key] = value
        
        self.access_times[key] = time.time()
    
    def delete(self, key: str):
        """–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª—é—á–∞"""
        if key in self.data:
            del self.data[key]
            del self.access_times[key]
    
    def get_stats(self) -> dict:
        """–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"""
        total = self.stats['hits'] + self.stats['misses']
        hit_rate = self.stats['hits'] / total if total > 0 else 0
        
        return {
            **self.stats,
            'hit_rate': hit_rate,
            'size': len(self.data),
            'capacity': self.capacity
        }

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
from functools import wraps

# –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à
app_cache = AdvancedLRUCache(capacity=1000, default_ttl=300)

def cache_result(ttl: int = 300):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π"""
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            # –°–æ–∑–¥–∞—ë–º –∫–ª—é—á –∏–∑ –∏–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
            cache_key = f"{func.__name__}:{hash(str(args) + str(kwargs))}"
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
            result = app_cache.get(cache_key)
            if result is not None:
                return result
            
            # –í—ã—á–∏—Å–ª—è–µ–º –∏ –∫—ç—à–∏—Ä—É–µ–º
            result = func(*args, **kwargs)
            app_cache.put(cache_key, result, ttl=ttl)
            
            return result
        return wrapper
    return decorator

# @cache_result(ttl=600)
# def expensive_database_query(user_id: int):
#     # –¢—è–∂—ë–ª—ã–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î
#     return db.query(f"SELECT * FROM users WHERE id = {user_id}")
```

### 4. üìä Kth Largest Element in Stream

**–ó–∞–¥–∞—á–∞:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ k-–≥–æ –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –ø–æ—Ç–æ–∫–µ –¥–∞–Ω–Ω—ã—Ö  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** Easy-Medium  
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** Real-time –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```python
import heapq
from typing import List

class KthLargest:
    """
    –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ k-–≥–æ –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Min Heap —Ä–∞–∑–º–µ—Ä–∞ k
    """
    
    def __init__(self, k: int, nums: List[int]):
        self.k = k
        self.heap = nums
        heapq.heapify(self.heap)  # O(n)
        
        # –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ k –Ω–∞–∏–±–æ–ª—å—à–∏—Ö
        while len(self.heap) > k:
            heapq.heappop(self.heap)
    
    def add(self, val: int) -> int:
        """–î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º k-–π –Ω–∞–∏–±–æ–ª—å—à–∏–π - O(log k)"""
        heapq.heappush(self.heap, val)
        
        if len(self.heap) > self.k:
            heapq.heappop(self.heap)
        
        return self.heap[0]  # –ú–∏–Ω–∏–º—É–º –≤ heap = k-–π –Ω–∞–∏–±–æ–ª—å—à–∏–π

# Real-world –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ–ø –º–µ—Ç—Ä–∏–∫
class TopKMetricsMonitor:
    """–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ–ø-K –º–µ—Ç—Ä–∏–∫ –≤ real-time"""
    
    def __init__(self, k: int = 5):
        self.k = k
        self.response_times = KthLargest(k, [])
        self.error_rates = KthLargest(k, [])
        self.memory_usage = KthLargest(k, [])
    
    def record_request(self, response_time: float, has_error: bool, memory_mb: float):
        """–ó–∞–ø–∏—Å—ã–≤–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–∞"""
        # –¢–æ–ø-K –≤—Ä–µ–º—ë–Ω –æ—Ç–≤–µ—Ç–∞
        kth_response_time = self.response_times.add(int(response_time * 1000))  # –≤ ms
        
        # –¢–æ–ø-K –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
        kth_memory = self.memory_usage.add(int(memory_mb))
        
        # –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞, –∑–∞–ø–∏—Å—ã–≤–∞–µ–º error rate
        if has_error:
            current_error_rate = self.calculate_current_error_rate()
            kth_error_rate = self.error_rates.add(int(current_error_rate * 100))
        
        return {
            'kth_response_time_ms': kth_response_time,
            'kth_memory_mb': kth_memory,
            'alert_needed': self.check_alerts(kth_response_time, kth_memory)
        }
    
    def calculate_current_error_rate(self) -> float:
        # –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Ä–∞—Å—á—ë—Ç error rate
        # –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sliding window
        return 0.05  # 5% error rate
    
    def check_alerts(self, response_time: int, memory: int) -> bool:
        """–ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∞–ª–µ—Ä—Ç"""
        return response_time > 1000 or memory > 512  # 1s –∏–ª–∏ 512MB

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
monitor = TopKMetricsMonitor(k=10)
# result = monitor.record_request(0.850, False, 256.0)
```

### 5. üîÑ Rate Limiter Implementation

**–ó–∞–¥–∞—á–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å rate limiter –¥–ª—è API  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** Medium  
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** API –∑–∞—â–∏—Ç–∞, DDoS prevention

```python
import time
from collections import defaultdict, deque
from typing import Optional

class SlidingWindowRateLimiter:
    """
    Rate Limiter —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º Sliding Window
    –¢–æ—á–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–∫–æ–ª—å–∑—è—â–µ–º –æ–∫–Ω–µ
    """
    
    def __init__(self, max_requests: int, window_size: int):
        self.max_requests = max_requests
        self.window_size = window_size  # –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        self.requests = defaultdict(deque)  # client_id -> timestamps
    
    def is_allowed(self, client_id: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä—è–µ–º, —Ä–∞–∑—Ä–µ—à—ë–Ω –ª–∏ –∑–∞–ø—Ä–æ—Å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞"""
        now = time.time()
        client_requests = self.requests[client_id]
        
        # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤–Ω–µ –æ–∫–Ω–∞
        while client_requests and client_requests[0] <= now - self.window_size:
            client_requests.popleft()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç
        if len(client_requests) >= self.max_requests:
            return False
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –∑–∞–ø—Ä–æ—Å
        client_requests.append(now)
        return True
    
    def get_remaining_requests(self, client_id: str) -> int:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤"""
        now = time.time()
        client_requests = self.requests[client_id]
        
        # –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã
        while client_requests and client_requests[0] <= now - self.window_size:
            client_requests.popleft()
        
        return max(0, self.max_requests - len(client_requests))

class TokenBucketRateLimiter:
    """
    Rate Limiter —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º Token Bucket
    –ü–æ–∑–≤–æ–ª—è–µ—Ç burst traffic –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
    """
    
    def __init__(self, capacity: int, refill_rate: float):
        self.capacity = capacity  # –º–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤
        self.refill_rate = refill_rate  # —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
        self.buckets = defaultdict(lambda: {
            'tokens': capacity,
            'last_refill': time.time()
        })
    
    def is_allowed(self, client_id: str, tokens_needed: int = 1) -> bool:
        """–ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤"""
        now = time.time()
        bucket = self.buckets[client_id]
        
        # –ü–æ–ø–æ–ª–Ω—è–µ–º —Ç–æ–∫–µ–Ω—ã
        time_passed = now - bucket['last_refill']
        tokens_to_add = time_passed * self.refill_rate
        bucket['tokens'] = min(self.capacity, bucket['tokens'] + tokens_to_add)
        bucket['last_refill'] = now
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
        if bucket['tokens'] >= tokens_needed:
            bucket['tokens'] -= tokens_needed
            return True
        
        return False

class DistributedRateLimiter:
    """
    –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π Rate Limiter —á–µ—Ä–µ–∑ Redis
    –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
    """
    
    def __init__(self, redis_client, max_requests: int, window_size: int):
        self.redis = redis_client
        self.max_requests = max_requests
        self.window_size = window_size
    
    def is_allowed(self, client_id: str) -> dict:
        """–ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç —á–µ—Ä–µ–∑ Redis Lua script"""
        
        # Lua script –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
        lua_script = """
        local key = KEYS[1]
        local window = tonumber(ARGV[1])
        local limit = tonumber(ARGV[2])
        local now = tonumber(ARGV[3])
        
        -- –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏
        redis.call('ZREMRANGEBYSCORE', key, 0, now - window)
        
        -- –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        local current = redis.call('ZCARD', key)
        
        if current < limit then
            -- –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
            redis.call('ZADD', key, now, now)
            redis.call('EXPIRE', key, window)
            return {1, limit - current - 1}
        else
            return {0, 0}
        end
        """
        
        script = self.redis.register_script(lua_script)
        result = script(
            keys=[f"rate_limit:{client_id}"],
            args=[self.window_size, self.max_requests, time.time()]
        )
        
        return {
            'allowed': bool(result[0]),
            'remaining': result[1]
        }

# FastAPI middleware –¥–ª—è rate limiting
from fastapi import FastAPI, HTTPException, Request
from fastapi.responses import JSONResponse

app = FastAPI()
rate_limiter = SlidingWindowRateLimiter(max_requests=100, window_size=60)

@app.middleware("http")
async def rate_limit_middleware(request: Request, call_next):
    """Rate limiting middleware"""
    
    # –ü–æ–ª—É—á–∞–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞
    client_id = request.client.host
    
    # –î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ–º user_id
    if hasattr(request.state, 'user_id'):
        client_id = f"user:{request.state.user_id}"
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º rate limit
    if not rate_limiter.is_allowed(client_id):
        remaining = rate_limiter.get_remaining_requests(client_id)
        
        return JSONResponse(
            status_code=429,
            content={
                "error": "Rate limit exceeded",
                "remaining_requests": remaining,
                "retry_after": 60
            },
            headers={
                "X-RateLimit-Limit": "100",
                "X-RateLimit-Remaining": str(remaining),
                "X-RateLimit-Reset": str(int(time.time()) + 60)
            }
        )
    
    response = await call_next(request)
    
    # –î–æ–±–∞–≤–ª—è–µ–º headers —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ª–∏–º–∏—Ç–∞—Ö
    remaining = rate_limiter.get_remaining_requests(client_id)
    response.headers["X-RateLimit-Limit"] = "100"
    response.headers["X-RateLimit-Remaining"] = str(remaining)
    
    return response

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö endpoint'–æ–≤
@app.get("/api/public")
async def public_endpoint():
    """–ü—É–±–ª–∏—á–Ω—ã–π endpoint —Å –æ–±—â–∏–º –ª–∏–º–∏—Ç–æ–º"""
    return {"message": "Public data"}

@app.get("/api/premium")
async def premium_endpoint(request: Request):
    """Premium endpoint —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º –ª–∏–º–∏—Ç–æ–º"""
    client_id = request.client.host
    
    # Premium users –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–∏–π –ª–∏–º–∏—Ç
    premium_limiter = SlidingWindowRateLimiter(max_requests=1000, window_size=60)
    
    if not premium_limiter.is_allowed(f"premium:{client_id}"):
        raise HTTPException(status_code=429, detail="Premium rate limit exceeded")
    
    return {"message": "Premium data"}
```

---

# üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∏ Next Steps

## üî• –ß—Ç–æ –º—ã –ø—Ä–æ—à–ª–∏ –≤ 2025 –≤–µ—Ä—Å–∏–∏

### ‚úÖ –ù–æ–≤—ã–µ —Ç—Ä–µ–Ω–¥—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **HTTP/3 & QUIC** - –±—É–¥—É—â–µ–µ –≤–µ–±-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (70% —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ 2025)
- **Python 3.13** - GIL-free —Ä–µ–∂–∏–º –∏ —É–ª—É—á—à–µ–Ω–∏—è asyncio
- **AI –≤ –±—ç–∫–µ–Ω–¥–µ** - –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ LLM, observability, rate limiting
- **Kubernetes 1.31** - –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è
- **Advanced DevOps** - AI-powered CI/CD, security scanning

### ‚úÖ "Holy Moly" –º–∞—Å—à—Ç–∞–±–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- E-commerce –¥–ª—è 1B –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
- Fintech —Å ACID –¥–ª—è 10M —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π/–¥–µ–Ω—å
- Social Media timeline –¥–ª—è 500M –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Search Engine –¥–ª—è 100B –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü

### ‚úÖ LeetCode-style –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:
- Top K Frequent Elements
- Sliding Window Maximum
- LRU Cache Implementation
- Kth Largest Element in Stream
- Rate Limiter Implementation

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Å–æ–±–µ—Å–∞–º 2025

### üìÖ –ü–ª–∞–Ω –Ω–∞ 4 –Ω–µ–¥–µ–ª–∏:

**–ù–µ–¥–µ–ª—è 1: –û—Å–Ω–æ–≤—ã –∏ —Ç—Ä–µ–Ω–¥—ã**
- [ ] –ò–∑—É—á–∏—Ç—å HTTP/3 vs HTTP/2 —Ä–∞–∑–ª–∏—á–∏—è
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å Python 3.13 (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π AI endpoint —Å LangChain
- [ ] –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤—ã: SOLID, DRY, KISS

**–ù–µ–¥–µ–ª—è 2: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- [ ] –ü—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ "Holy Moly" —Å—Ü–µ–Ω–∞—Ä–∏–∏
- [ ] –ò–∑—É—á–∏—Ç—å trade-offs: consistency vs performance
- [ ] –ü–æ–ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å system design –Ω–∞ whiteboard
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å Prometheus

**–ù–µ–¥–µ–ª—è 3: –ê–ª–≥–æ—Ä–∏—Ç–º—ã**
- [ ] –†–µ—à–∏—Ç—å –≤—Å–µ LeetCode –∑–∞–¥–∞—á–∏ –∏–∑ —Ä–µ–ø–æ
- [ ] –ü–æ–ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π –≤—Å–ª—É—Ö
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –ø–æ –ø–∞–º—è—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏
- [ ] –ò–∑—É—á–∏—Ç—å real-world –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

**–ù–µ–¥–µ–ª—è 4: –ü—Ä–∞–∫—Ç–∏–∫–∞**
- [ ] Mock-–∏–Ω—Ç–µ—Ä–≤—å—é —Å –¥—Ä—É–∑—å—è–º–∏/–∫–æ–ª–ª–µ–≥–∞–º–∏
- [ ] Whiteboard coding –±–µ–∑ IDE
- [ ] –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä–∞

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã 2025

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- [HTTP/3 RFC 9114](https://datatracker.ietf.org/doc/html/rfc9114)
- [Python 3.13 What's New](https://docs.python.org/3.13/whatsnew/3.13.html)
- [Kubernetes 1.31 Release Notes](https://kubernetes.io/docs/setup/release/notes/)
- [OpenAI API Best Practices](https://platform.openai.com/docs/guides/best-practices)

### üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏:
- **httpx[http3]** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è HTTP/3
- **hypercorn** - ASGI —Å–µ—Ä–≤–µ—Ä —Å HTTP/3
- **k6** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ load testing
- **LangChain** - LLM —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Prometheus + Grafana** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### üìù –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤:
- [LeetCode](https://leetcode.com/) - –∫–ª–∞—Å—Å–∏–∫–∞
- [HackerRank](https://www.hackerrank.com/) - —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∑–∞–¥–∞—á
- [Pramp](https://www.pramp.com/) - mock interviews
- [InterviewBit](https://www.interviewbit.com/) - —Å–∏—Å—Ç–µ–º–Ω—ã–π –¥–∏–∑–∞–π–Ω

### üé• YouTube –∫–∞–Ω–∞–ª—ã:
- **Gaurav Sen** - System Design
- **Tech Dummies** - Backend –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
- **Hussein Nasser** - Networking –∏ databases
- **ArjanCodes** - Python best practices

### üìñ –ö–Ω–∏–≥–∏ must-read:
- "Designing Data-Intensive Applications" - Martin Kleppmann
- "System Design Interview" - Alex Xu (Volume 1 & 2)
- "High Performance Python" - Micha Gorelick
- "Building Microservices" - Sam Newman

## üöÄ –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å

### –î–ª—è Junior ‚Üí Middle:
- [ ] –ò–∑—É—á–∏—Ç—å –≤—Å–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ
- [ ] –°–æ–∑–¥–∞—Ç—å pet-project —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–Ω—ã–π CI/CD pipeline
- [ ] –ü–æ–ª—É—á–∏—Ç—å –æ–ø—ã—Ç —Å production —Å–∏—Å—Ç–µ–º–∞–º–∏

### –î–ª—è Middle ‚Üí Senior:
- [ ] –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å high-load —Å–∏—Å—Ç–µ–º—É
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é
- [ ] –ú–µ–Ω—Ç–æ—Ä–∏—Ç—å –¥–∂—É–Ω–∏–æ—Ä–æ–≤
- [ ] –í—ã—Å—Ç—É–ø–∏—Ç—å —Å –¥–æ–∫–ª–∞–¥–æ–º –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏

### –î–ª—è Senior ‚Üí Principal/Staff:
- [ ] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –≤—Å–µ–π –∫–æ–º–ø–∞–Ω–∏–∏
- [ ] –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ technical roadmap
- [ ] –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é

## üí¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –∏ –≤–æ–ø—Ä–æ—Å—ã

**–ù–∞—à–ª–∏ –æ—à–∏–±–∫—É?** –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏  
**–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å?** –°–¥–µ–ª–∞–π—Ç–µ pull request  
**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–æ–π?** –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –≤ discussions  

---

## üèÜ –§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

1. **–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ** - –ª—É—á—à–µ 30 –º–∏–Ω—É—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, —á–µ–º 5 —á–∞—Å–æ–≤ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
2. **–û–±—ä—è—Å–Ω—è–π—Ç–µ –≤—Å–ª—É—Ö** - –µ—Å–ª–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –æ–±—ä—è—Å–Ω–∏—Ç—å, –∑–Ω–∞—á–∏—Ç –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ
3. **–ò–∑—É—á–∞–π—Ç–µ trade-offs** - –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –Ω–µ—Ç —Å–µ—Ä–µ–±—Ä—è–Ω—ã—Ö –ø—É–ª—å
4. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç—Ä–µ–Ω–¥–∞–º–∏** - —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –±—ã—Å—Ç—Ä–æ —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è
5. **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ–ø—ã—Ç** - –¥–µ–ª–∞–π—Ç–µ pet-–ø—Ä–æ–µ–∫—Ç—ã, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ

**–£–¥–∞—á–∏ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö! üéØ**

> **–ü–æ–º–Ω–∏—Ç–µ:** –õ—É—á—à–∏–π —Å–ø–æ—Å–æ–± –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —Å–æ–±–µ—Å—É ‚Äî —ç—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, —Ä–µ—à–∞–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –∏ –∏–Ω—Ç–µ—Ä–≤—å—é —Å—Ç–∞–Ω–µ—Ç –ø—Ä–æ—Å—Ç–æ –±–µ—Å–µ–¥–æ–π –æ —Ç–æ–º, —á—Ç–æ –≤—ã —É–∂–µ –∑–Ω–∞–µ—Ç–µ –∏ —É–º–µ–µ—Ç–µ.

---

*Backend Interview Questions 2025 - –æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ —Ç—Ä–µ–Ω–¥–æ–≤*  
*Made with ‚ù§Ô∏è for the backend community*

---

# üêç –ß–∞—Å—Ç—å 4: Python —É–≥–ª—É–±–ª—ë–Ω–Ω–æ

## ÔøΩ –ù–æ–≤–æ–µ –≤ Python 3.13 (2025 Update)

### ‚ö° –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π GIL-free —Ä–µ–∂–∏–º (PEP 703)

Python 3.13 –¥–æ–±–∞–≤–ª—è–µ—Ç **—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—É—é** –ø–æ–¥–¥–µ—Ä–∂–∫—É –æ—Ç–∫–ª—é—á–µ–Ω–∏—è Global Interpreter Lock (GIL), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å—Ç–∏–Ω–Ω–æ–π –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ CPU-bound –∑–∞–¥–∞—á–∞—Ö.

```python
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è GIL-free —Ä–µ–∂–∏–º–∞ (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ!)
# python -X gil=0 your_script.py

import threading
import time
from concurrent.futures import ThreadPoolExecutor

def cpu_intensive_task(n: int) -> int:
    """CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ GIL"""
    total = 0
    for i in range(n):
        total += i * i
    return total

# –í GIL-free —Ä–µ–∂–∏–º–µ —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—Å—è!
def test_no_gil_performance():
    tasks = [1000000] * 4
    
    # –° GIL-free —Ä–µ–∂–∏–º–æ–º threading —Å—Ç–∞–Ω–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –¥–ª—è CPU –∑–∞–¥–∞—á
    with ThreadPoolExecutor(max_workers=4) as executor:
        start = time.time()
        results = list(executor.map(cpu_intensive_task, tasks))
        duration = time.time() - start
        print(f"üöÄ GIL-free threading: {duration:.2f}s")
        
    return results

# –í–∞–∂–Ω–æ: GIL-free —Ä–µ–∂–∏–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∏ –º–æ–∂–µ—Ç –ª–æ–º–∞—Ç—å C-extensions!
```

### üîÑ –£–ª—É—á—à–µ–Ω–∏—è asyncio

```python
import asyncio

# –ù–æ–≤—ã–π python -m asyncio –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ async REPL
# $ python -m asyncio
# >>> await asyncio.sleep(1)  # —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ async def!

async def improved_asyncio_features():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∏–π asyncio –≤ Python 3.13"""
    
    # –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Event Loop
    loop = asyncio.get_running_loop()
    
    # –ë—ã—Å—Ç—Ä–µ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Task'–æ–≤
    tasks = []
    for i in range(1000):
        task = loop.create_task(asyncio.sleep(0.001))
        tasks.append(task)
    
    await asyncio.gather(*tasks)
    print("‚úÖ 1000 tasks –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é")

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ asyncio
async def async_main():
    print("‚ö° –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∏–π asyncio Python 3.13")
    await improved_asyncio_features()

# –ó–∞–ø—É—Å–∫: asyncio.run(async_main())
```

### üßµ Subinterpreters API (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)

```python
# –í–Ω–∏–º–∞–Ω–∏–µ: API –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
import _xxsubinterpreters as subinterp

def subinterpreters_demo():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è subinterpreters (–û–°–¢–û–†–û–ñ–ù–û: —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ!)"""
    
    # –°–æ–∑–¥–∞—ë–º –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—ã–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä  
    interp_id = subinterp.create()
    print(f"üî¨ –°–æ–∑–¥–∞–Ω subinterpreter —Å ID: {interp_id}")
    
    # –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–¥ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ
    code = """
import sys
result = f"Python {sys.version_info.major}.{sys.version_info.minor} in subinterpreter"
print(result)
"""
    
    try:
        # –û—Å—Ç–æ—Ä–æ–∂–Ω–æ: –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ!
        subinterp.run_string(interp_id, code)
        print("‚úÖ –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ subinterpreter")
    except Exception as e:
        print(f"‚ö†Ô∏è  –û—à–∏–±–∫–∞ subinterpreter: {e}")
    finally:
        # –£–Ω–∏—á—Ç–æ–∂–∞–µ–º –ø–æ–¥—ã–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
        subinterp.destroy(interp_id)
        print("üóëÔ∏è Subinterpreter —É–Ω–∏—á—Ç–æ–∂–µ–Ω")

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ subinterpreters —Ç–æ–ª—å–∫–æ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤!
```

### üìà –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
# Python 3.13 –≤–∫–ª—é—á–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:

# 1. –ë—ã—Å—Ç—Ä–µ–µ –∏–º–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π
import time
start = time.time()
import json, os, sys, re, collections  # –±—ã—Å—Ç—Ä–µ–µ –≤ 3.13
import_time = time.time() - start
print(f"‚ö° –ò–º–ø–æ—Ä—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∑–∞ {import_time:.4f}s")

# 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
def string_operations_benchmark():
    """–°—Ç—Ä–æ–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞–ª–∏ –±—ã—Å—Ç—Ä–µ–µ"""
    text = "Python 3.13 performance improvements" * 10000
    
    start = time.time()
    # –û–ø–µ—Ä–∞—Ü–∏–∏ join, split, replace –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
    words = text.split()
    result = " ".join(words)
    final = result.replace("Python", "Awesome Python")
    duration = time.time() - start
    
    print(f"üöÄ –°—Ç—Ä–æ–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: {duration:.4f}s (–±—ã—Å—Ç—Ä–µ–µ –≤ 3.13)")
    return len(final)

# 3. –£–ª—É—á—à–µ–Ω–Ω—ã–π dict –∏ list performance  
def collection_benchmark():
    """–ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±—ã—Å—Ç—Ä–µ–µ"""
    start = time.time()
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö dict –±—ã—Å—Ç—Ä–µ–µ
    large_dict = {f"key_{i}": i for i in range(100000)}
    
    # –û–ø–µ—Ä–∞—Ü–∏–∏ —Å list –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
    large_list = [i * 2 for i in range(100000)]
    large_list.extend(range(50000))
    
    duration = time.time() - start
    print(f"üìä –ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∑–∞ {duration:.4f}s")
    
    return len(large_dict), len(large_list)

if __name__ == "__main__":
    print("üêç Python 3.13 Features Demo")
    print("‚ö†Ô∏è  –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∏—á–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ!")
    
    string_operations_benchmark()
    collection_benchmark()
    
    # subinterpreters_demo()  # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## ÔøΩüìä 1. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ –¥–µ—Ç–∞–ª—è—Ö

### üî¢ –ß–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –∏ –∏—Ö –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

```python
# int - —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã
big_number = 2**1000  # Python —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –ª—é–±—ã–º–∏ —á–∏—Å–ª–∞–º–∏
print(f"–û–≥—Ä–æ–º–Ω–æ–µ —á–∏—Å–ª–æ: {big_number}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# float - —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (64-–±–∏—Ç–Ω—ã–µ)
price = 0.1 + 0.2  # –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
print(f"0.1 + 0.2 = {price}")  # –ø–æ–ª—É—á–∏–º 0.30000000000000004
print(f"–†–∞–≤–Ω–æ –ª–∏ 0.3? {price == 0.3}")  # False!

# –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ float
import math
def float_equal(a, b, tolerance=1e-9):
    return abs(a - b) < tolerance  # —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –¥–æ–ø—É—Å–∫–æ–º

print(f"–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ: {float_equal(price, 0.3)}")  # True

# Decimal –¥–ª—è —Ç–æ—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
from decimal import Decimal, getcontext
getcontext().prec = 50  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ—á–Ω–æ—Å—Ç—å –≤ 50 –∑–Ω–∞–∫–æ–≤

decimal_price = Decimal('0.1') + Decimal('0.2')  # —Ç–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
print(f"Decimal: {decimal_price}")  # –ø–æ–ª—É—á–∏–º —Ç–æ—á–Ω–æ 0.3
print(f"–†–∞–≤–Ω–æ –ª–∏ 0.3? {decimal_price == Decimal('0.3')}")  # True!

# Fraction –¥–ª—è —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª
from fractions import Fraction
frac1 = Fraction(1, 3)  # –æ–¥–Ω–∞ —Ç—Ä–µ—Ç—å
frac2 = Fraction(2, 3)  # –¥–≤–µ —Ç—Ä–µ—Ç–∏  
result = frac1 + frac2  # —Å–ª–æ–∂–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π
print(f"1/3 + 2/3 = {result}")  # –ø–æ–ª—É—á–∏–º 1/1 = 1

# complex - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —á–∏—Å–ª–∞
complex_num = 3 + 4j  # –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —á–∏—Å–ª–æ
print(f"–ú–æ–¥—É–ª—å –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —á–∏—Å–ª–∞: {abs(complex_num)}")  # |3+4j| = 5.0
print(f"–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å: {complex_num.real}")  # 3.0
print(f"–ú–Ω–∏–º–∞—è —á–∞—Å—Ç—å: {complex_num.imag}")  # 4.0
```

### üî§ –°—Ç—Ä–æ–∫–∏ –∏ –∏—Ö –º–∞–≥–∏—è

```python
# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏
single_quotes = '–û–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏'  # –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
double_quotes = "–î–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏"  # –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
triple_quotes = """–ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–∞—è
—Å—Ç—Ä–æ–∫–∞ —Å –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏"""  # —Ç—Ä–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –¥–ª—è –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö

# Raw —Å—Ç—Ä–æ–∫–∏ - –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
raw_string = r"C:\new\folder\text.txt"  # –Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç \n –∫–∞–∫ –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏
regular_string = "C:\\new\\folder\\text.txt"  # –Ω—É–∂–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ—à–∏
print(f"Raw: {raw_string}")  # –≤—ã–≤–æ–¥–∏–º raw —Å—Ç—Ä–æ–∫—É
print(f"Regular: {regular_string}")  # –≤—ã–≤–æ–¥–∏–º –æ–±—ã—á–Ω—É—é —Å—Ç—Ä–æ–∫—É

# f-—Å—Ç—Ä–æ–∫–∏ - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Python 3.6+)
name = "–ê–ª–µ–∫—Å–µ–π"  # –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
age = 25  # –≤–æ–∑—Ä–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
balance = 1234.5678  # –±–∞–ª–∞–Ω—Å —Å—á—ë—Ç–∞

formatted = f"–ü—Ä–∏–≤–µ—Ç, {name}! –¢–µ–±–µ {age} –ª–µ—Ç, –±–∞–ª–∞–Ω—Å: {balance:.2f}‚ÇΩ"  # —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º
print(formatted)  # –≤—ã–≤–æ–¥–∏–º –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É

# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ f-—Å—Ç—Ä–æ–∫–∞—Ö
import datetime
now = datetime.datetime.now()  # —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
print(f"–°–µ–π—á–∞—Å: {now:%Y-%m-%d %H:%M:%S}")  # —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É

# –í—ã—á–∏—Å–ª–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ f-—Å—Ç—Ä–æ–∫
numbers = [1, 2, 3, 4, 5]  # —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª
print(f"–°—É–º–º–∞: {sum(numbers)}, –°—Ä–µ–¥–Ω–µ–µ: {sum(numbers)/len(numbers):.2f}")  # –≤—ã—á–∏—Å–ª—è–µ–º –≤–Ω—É—Ç—Ä–∏

# –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫
text = "  Python Programming  "  # —Å—Ç—Ä–æ–∫–∞ —Å –ø—Ä–æ–±–µ–ª–∞–º–∏
print(f"–ò—Å—Ö–æ–¥–Ω–∞—è: '{text}'")  # –≤—ã–≤–æ–¥–∏–º –∏—Å—Ö–æ–¥–Ω—É—é
print(f"–û—á–∏—â–µ–Ω–Ω–∞—è: '{text.strip()}'")  # —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –ø–æ –∫—Ä–∞—è–º
print(f"–í –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ: '{text.upper()}'")  # –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
print(f"–ó–∞–º–µ–Ω—ë–Ω–Ω–∞—è: '{text.replace('Python', 'Java')}'")  # –∑–∞–º–µ–Ω—è–µ–º –ø–æ–¥—Å—Ç—Ä–æ–∫—É

# –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä–æ–∫
email = "user@example.com"  # email –∞–¥—Ä–µ—Å
print(f"–°–æ–¥–µ—Ä–∂–∏—Ç @: {email.__contains__('@')}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Å–∏–º–≤–æ–ª–∞
print(f"–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 'user': {email.startswith('user')}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—á–∞–ª–æ
print(f"–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ '.com': {email.endswith('.com')}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω–µ—Ü
print(f"–¢–æ–ª—å–∫–æ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã: {email.replace('@', '').replace('.', '').isalnum()}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–º–≤–æ–ª—ã
```

## üìã 2. –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥—Ä–æ–±–Ω–æ

### üìö –°–ø–∏—Å–∫–∏ (list) - –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏
empty_list = []  # –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
numbers_list = [1, 2, 3, 4, 5]  # —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª
mixed_list = [1, "—Å—Ç—Ä–æ–∫–∞", 3.14, True, None]  # —Å–º–µ—à–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
range_list = list(range(10))  # —Å–ø–∏—Å–æ–∫ –∏–∑ range(0, 9)
comprehension_list = [x**2 for x in range(5)]  # —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ list comprehension

print(f"–°–ø–∏—Å–æ–∫ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤: {comprehension_list}")  # –≤—ã–≤–æ–¥–∏–º –∫–≤–∞–¥—Ä–∞—Ç—ã

# –û–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏
fruits = ["—è–±–ª–æ–∫–æ", "–±–∞–Ω–∞–Ω", "–∞–ø–µ–ª—å—Å–∏–Ω"]  # —Å–ø–∏—Å–æ–∫ —Ñ—Ä—É–∫—Ç–æ–≤

fruits.append("–≥—Ä—É—à–∞")  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω–µ—Ü - O(1)
print(f"–ü–æ—Å–ª–µ append: {fruits}")  # –≤—ã–≤–æ–¥–∏–º —Å–ø–∏—Å–æ–∫

fruits.insert(1, "–∫–∏–≤–∏")  # –≤—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞ –ø–æ–∑–∏—Ü–∏—é 1 - O(n)
print(f"–ü–æ—Å–ª–µ insert: {fruits}")  # –≤—ã–≤–æ–¥–∏–º —Å–ø–∏—Å–æ–∫

fruits.extend(["–º–∞–Ω–≥–æ", "–∞–Ω–∞–Ω–∞—Å"])  # –¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ - O(k)
print(f"–ü–æ—Å–ª–µ extend: {fruits}")  # –≤—ã–≤–æ–¥–∏–º —Å–ø–∏—Å–æ–∫

# –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
removed_fruit = fruits.pop()  # —É–¥–∞–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç - O(1)
print(f"–£–¥–∞–ª–∏–ª–∏: {removed_fruit}, –æ—Å—Ç–∞–ª–æ—Å—å: {fruits}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

fruits.remove("–±–∞–Ω–∞–Ω")  # —É–¥–∞–ª—è–µ–º –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é - O(n)
print(f"–ü–æ—Å–ª–µ remove: {fruits}")  # –≤—ã–≤–æ–¥–∏–º —Å–ø–∏—Å–æ–∫

# –°—Ä–µ–∑—ã (slicing)
numbers = list(range(10))  # [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
print(f"–í—Å–µ —á–∏—Å–ª–∞: {numbers}")  # –≤—ã–≤–æ–¥–∏–º –≤—Å–µ
print(f"–ü–µ—Ä–≤—ã–µ 5: {numbers[:5]}")  # –ø–µ—Ä–≤—ã–µ 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
print(f"–ü–æ—Å–ª–µ–¥–Ω–∏–µ 3: {numbers[-3:]}")  # –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 —ç–ª–µ–º–µ–Ω—Ç–∞
print(f"–ö–∞–∂–¥—ã–π –≤—Ç–æ—Ä–æ–π: {numbers[::2]}")  # –∫–∞–∂–¥—ã–π –≤—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç
print(f"–í –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ: {numbers[::-1]}")  # –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ –Ω–∞–æ–±–æ—Ä–æ—Ç

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ - –í–ê–ñ–ù–û!
original = [1, [2, 3], 4]  # —Å–ø–∏—Å–æ–∫ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º
shallow_copy = original.copy()  # –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è
deep_copy = __import__('copy').deepcopy(original)  # –≥–ª—É–±–æ–∫–∞—è –∫–æ–ø–∏—è

original[1].append(5)  # –∏–∑–º–µ–Ω—è–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
print(f"–û—Ä–∏–≥–∏–Ω–∞–ª: {original}")  # [1, [2, 3, 5], 4]
print(f"–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è: {shallow_copy}")  # [1, [2, 3, 5], 4] - —Ç–æ–∂–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å!
print(f"–ì–ª—É–±–æ–∫–∞—è –∫–æ–ø–∏—è: {deep_copy}")  # [1, [2, 3], 4] - –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
```

### üîê –ö–æ—Ä—Ç–µ–∂–∏ (tuple) - –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä—Ç–µ–∂–µ–π
empty_tuple = ()  # –ø—É—Å—Ç–æ–π –∫–æ—Ä—Ç–µ–∂
single_tuple = (42,)  # –∫–æ—Ä—Ç–µ–∂ —Å –æ–¥–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º - –ó–ê–ü–Ø–¢–ê–Ø –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê!
coordinates = (10, 20)  # –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–∫–∏
person = ("–ò–≤–∞–Ω", 30, "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç")  # –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–µ–ª–æ–≤–µ–∫–µ

print(f"–û–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç: {single_tuple}")  # –≤—ã–≤–æ–¥–∏–º –∫–æ—Ä—Ç–µ–∂ —Å –æ–¥–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º
print(f"–¢–∏–ø: {type(single_tuple)}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø

# –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∫–æ—Ä—Ç–µ–∂–µ–π
name, age, profession = person  # —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
print(f"–ò–º—è: {name}, –í–æ–∑—Ä–∞—Å—Ç: {age}, –ü—Ä–æ—Ñ–µ—Å—Å–∏—è: {profession}")  # –≤—ã–≤–æ–¥–∏–º

# –û–±–º–µ–Ω –∑–Ω–∞—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∫–æ—Ä—Ç–µ–∂–∏
a, b = 10, 20  # –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
print(f"–î–æ –æ–±–º–µ–Ω–∞: a={a}, b={b}")  # –≤—ã–≤–æ–¥–∏–º –¥–æ
a, b = b, a  # –æ–±–º–µ–Ω–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∫–æ—Ä—Ç–µ–∂
print(f"–ü–æ—Å–ª–µ –æ–±–º–µ–Ω–∞: a={a}, b={b}")  # –≤—ã–≤–æ–¥–∏–º –ø–æ—Å–ª–µ

# –§—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π
def get_user_info():
    return "user123", "user@mail.com", 25  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ—Ä—Ç–µ–∂

user_id, email, user_age = get_user_info()  # —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
print(f"ID: {user_id}, Email: {email}, –í–æ–∑—Ä–∞—Å—Ç: {user_age}")  # –≤—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ

# namedtuple - –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ç–µ–∂–∏
from collections import namedtuple

# –°–æ–∑–¥–∞—ë–º –∫–ª–∞—Å—Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ—Ä—Ç–µ–∂–∞
Point = namedtuple('Point', ['x', 'y'])  # —Ç–æ—á–∫–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ x, y
Person = namedtuple('Person', ['name', 'age', 'city'])  # —á–µ–ª–æ–≤–µ–∫

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ç–µ–∂–∏
point = Point(10, 20)  # —Å–æ–∑–¥–∞—ë–º —Ç–æ—á–∫—É
person = Person("–ê–Ω–Ω–∞", 28, "–°–ü–±")  # —Å–æ–∑–¥–∞—ë–º —á–µ–ª–æ–≤–µ–∫–∞

print(f"–¢–æ—á–∫–∞: x={point.x}, y={point.y}")  # –æ–±—Ä–∞—â–∞–µ–º—Å—è –ø–æ –∏–º–µ–Ω–∞–º –ø–æ–ª–µ–π
print(f"–ß–µ–ª–æ–≤–µ–∫: {person.name} –∏–∑ {person.city}, –≤–æ–∑—Ä–∞—Å—Ç {person.age}")  # –≤—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ

# –ú–µ—Ç–æ–¥—ã namedtuple
print(f"–ö–∞–∫ —Å–ª–æ–≤–∞—Ä—å: {person._asdict()}")  # –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å–ª–æ–≤–∞—Ä—å
new_person = person._replace(age=29)  # —Å–æ–∑–¥–∞—ë–º –∫–æ–ø–∏—é —Å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º –ø–æ–ª–µ–º
print(f"–ù–æ–≤—ã–π –≤–æ–∑—Ä–∞—Å—Ç: {new_person.age}")  # –≤—ã–≤–æ–¥–∏–º –Ω–æ–≤—ã–π –≤–æ–∑—Ä–∞—Å—Ç
```

### üìñ –°–ª–æ–≤–∞—Ä–∏ (dict) - —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã

```python
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏
empty_dict = {}  # –ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å
simple_dict = {"name": "–ò–≤–∞–Ω", "age": 30}  # –æ–±—ã—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å
dict_constructor = dict(name="–ü–µ—Ç—Ä", age=25)  # —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä dict()
from_keys = dict.fromkeys(['a', 'b', 'c'], 0)  # —Å–æ–∑–¥–∞—ë–º –∫–ª—é—á–∏ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
comprehension_dict = {x: x**2 for x in range(5)}  # —á–µ—Ä–µ–∑ dict comprehension

print(f"–ò–∑ –∫–ª—é—á–µ–π: {from_keys}")  # –≤—ã–≤–æ–¥–∏–º —Å–ª–æ–≤–∞—Ä—å –∏–∑ –∫–ª—é—á–µ–π
print(f"–ö–≤–∞–¥—Ä–∞—Ç—ã: {comprehension_dict}")  # –≤—ã–≤–æ–¥–∏–º —Å–ª–æ–≤–∞—Ä—å –∫–≤–∞–¥—Ä–∞—Ç–æ–≤

# –û–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å–ª–æ–≤–∞—Ä—è–º–∏
user = {"name": "–ê–ª–µ–∫—Å–µ–π", "email": "alex@mail.com"}  # –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

# –†–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
name1 = user["name"]  # –ø—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ - –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å KeyError
name2 = user.get("name")  # –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None –µ—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç
name3 = user.get("surname", "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ")  # —Å –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

print(f"–ò–º—è (–ø—Ä—è–º–æ–µ): {name1}")  # –≤—ã–≤–æ–¥–∏–º –∏–º—è
print(f"–ò–º—è (get): {name2}")  # –≤—ã–≤–æ–¥–∏–º –∏–º—è
print(f"–§–∞–º–∏–ª–∏—è (—Å default): {name3}")  # –≤—ã–≤–æ–¥–∏–º —Ñ–∞–º–∏–ª–∏—é –∏–ª–∏ default

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π
user.update({"age": 25, "city": "–ú–æ—Å–∫–≤–∞"})  # –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –∫–ª—é—á–∏
print(f"–ü–æ—Å–ª–µ update: {user}")  # –≤—ã–≤–æ–¥–∏–º –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å

# –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π (Python 3.9+)
additional_info = {"profession": "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "experience": 3}  # –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–∞
merged = user | additional_info  # –æ–±—ä–µ–¥–∏–Ω—è–µ–º —Å–ª–æ–≤–∞—Ä–∏
print(f"–û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π: {merged}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Å–ª–æ–≤–∞—Ä—è–º
for key in user.keys():  # –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –∫–ª—é—á–∞–º
    print(f"–ö–ª—é—á: {key}")  # –≤—ã–≤–æ–¥–∏–º –∫–ª—é—á

for value in user.values():  # –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º
    print(f"–ó–Ω–∞—á–µ–Ω–∏–µ: {value}")  # –≤—ã–≤–æ–¥–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ

for key, value in user.items():  # –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –ø–∞—Ä–∞–º –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
    print(f"{key}: {value}")  # –≤—ã–≤–æ–¥–∏–º –ø–∞—Ä—É

# defaultdict - —Å–ª–æ–≤–∞—Ä—å —Å –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
from collections import defaultdict

# –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
words = ["apple", "banana", "apricot", "blueberry", "cherry"]  # —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤
grouped = defaultdict(list)  # —Å–ª–æ–≤–∞—Ä—å —Å–æ —Å–ø–∏—Å–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

for word in words:  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Å–ª–æ–≤–∞–º
    first_letter = word[0]  # –ø–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—É—é –±—É–∫–≤—É
    grouped[first_letter].append(word)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ –≥—Ä—É–ø–ø—É –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ

print(f"–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ: {dict(grouped)}")  # –≤—ã–≤–æ–¥–∏–º –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É

# Counter - –ø–æ–¥—Å—á—ë—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤
from collections import Counter

text = "hello world"  # —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
char_count = Counter(text)  # —Å—á–∏—Ç–∞–µ–º —Å–∏–º–≤–æ–ª—ã
print(f"–ß–∞—Å—Ç–æ—Ç–∞ —Å–∏–º–≤–æ–ª–æ–≤: {char_count}")  # –≤—ã–≤–æ–¥–∏–º —á–∞—Å—Ç–æ—Ç—É
print(f"–°–∞–º—ã–µ —á–∞—Å—Ç—ã–µ 3: {char_count.most_common(3)}")  # —Ç–æ–ø-3 —Å–∏–º–≤–æ–ª–∞
```

### üéØ –ú–Ω–æ–∂–µ—Å—Ç–≤–∞ (set) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤
empty_set = set()  # –ø—É—Å—Ç–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (–ù–ï {}, —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å!)
numbers_set = {1, 2, 3, 4, 5}  # –º–Ω–æ–∂–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª
from_list = set([1, 2, 2, 3, 3, 4])  # –∏–∑ —Å–ø–∏—Å–∫–∞ - –¥—É–±–ª–∏–∫–∞—Ç—ã —É–¥–∞–ª—è—Ç—Å—è
comprehension_set = {x**2 for x in range(5)}  # —á–µ—Ä–µ–∑ set comprehension

print(f"–ò–∑ —Å–ø–∏—Å–∫–∞: {from_list}")  # {1, 2, 3, 4} - –¥—É–±–ª–∏–∫–∞—Ç—ã –∏—Å—á–µ–∑–ª–∏
print(f"–ö–≤–∞–¥—Ä–∞—Ç—ã: {comprehension_set}")  # –≤—ã–≤–æ–¥–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤

# –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏
set_a = {1, 2, 3, 4, 5}  # –ø–µ—Ä–≤–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
set_b = {4, 5, 6, 7, 8}  # –≤—Ç–æ—Ä–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ

print(f"–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ (|): {set_a | set_b}")  # –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤
print(f"–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ (&): {set_a & set_b}")  # –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤
print(f"–†–∞–∑–Ω–æ—Å—Ç—å (-): {set_a - set_b}")  # —Ä–∞–∑–Ω–æ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤
print(f"–°–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è —Ä–∞–∑–Ω–æ—Å—Ç—å (^): {set_a ^ set_b}")  # —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –æ–¥–Ω–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞

# –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏
print(f"3 –≤ set_a: {3 in set_a}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å - O(1)
print(f"–ü–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ: {{1, 2}} <= set_a: {{1, 2}} <= set_a")  # –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞

# –ú–µ—Ç–æ–¥—ã –º–Ω–æ–∂–µ—Å—Ç–≤
fruits = {"—è–±–ª–æ–∫–æ", "–±–∞–Ω–∞–Ω", "–∞–ø–µ–ª—å—Å–∏–Ω"}  # –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—Ä—É–∫—Ç–æ–≤

fruits.add("–≥—Ä—É—à–∞")  # –¥–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç
print(f"–ü–æ—Å–ª–µ add: {fruits}")  # –≤—ã–≤–æ–¥–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ

fruits.update(["–∫–∏–≤–∏", "–º–∞–Ω–≥–æ"])  # –¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
print(f"–ü–æ—Å–ª–µ update: {fruits}")  # –≤—ã–≤–æ–¥–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ

fruits.discard("–±–∞–Ω–∞–Ω")  # —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç (–Ω–µ –æ—à–∏–±–∫–∞ –µ—Å–ª–∏ –Ω–µ—Ç)
print(f"–ü–æ—Å–ª–µ discard: {fruits}")  # –≤—ã–≤–æ–¥–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ

# frozenset - –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
frozen = frozenset([1, 2, 3, 4])  # —Å–æ–∑–¥–∞—ë–º –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
print(f"–ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ: {frozen}")  # –≤—ã–≤–æ–¥–∏–º
print(f"–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∫–ª—é—á —Å–ª–æ–≤–∞—Ä—è: {frozen}")  # –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–ª–æ–≤–∞—Ä—è—Ö

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ - —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
data = [1, 2, 2, 3, 3, 3, 4, 4, 4, 4]  # –¥–∞–Ω–Ω—ã–µ —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏
unique_data = list(set(data))  # —É–¥–∞–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
print(f"–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: {unique_data}")  # –≤—ã–≤–æ–¥–∏–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π
list1 = [1, 2, 3, 4, 5]  # –ø–µ—Ä–≤—ã–π —Å–ø–∏—Å–æ–∫
list2 = [4, 5, 6, 7, 8]  # –≤—Ç–æ—Ä–æ–π —Å–ø–∏—Å–æ–∫
has_common = bool(set(list1) & set(list2))  # –µ—Å—Ç—å –ª–∏ –æ–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã?
print(f"–ï—Å—Ç—å –æ–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã: {has_common}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

## üèõÔ∏è 3. –û–û–ü –≤ Python - –≥–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ

### üé≠ –ö–ª–∞—Å—Å—ã –∏ –æ–±—ä–µ–∫—Ç—ã

```python
class Person:
    # –ê—Ç—Ä–∏–±—É—Ç –∫–ª–∞—Å—Å–∞ - –æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
    species = "Homo sapiens"  # –≤–∏–¥ —á–µ–ª–æ–≤–µ–∫–∞
    population = 0  # —Å—á—ë—Ç—á–∏–∫ –ø–æ–ø—É–ª—è—Ü–∏–∏
    
    def __init__(self, name, age, email=None):
        # –ê—Ç—Ä–∏–±—É—Ç—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ - —É–Ω–∏–∫–∞–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
        self.name = name  # –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞
        self.age = age  # –≤–æ–∑—Ä–∞—Å—Ç —á–µ–ª–æ–≤–µ–∫–∞
        self.email = email  # email –∞–¥—Ä–µ—Å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
        self._password = None  # "–∑–∞—â–∏—â—ë–Ω–Ω—ã–π" –∞—Ç—Ä–∏–±—É—Ç
        self.__id = id(self)  # "–ø—Ä–∏–≤–∞—Ç–Ω—ã–π" –∞—Ç—Ä–∏–±—É—Ç
        
        # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –ø–æ–ø—É–ª—è—Ü–∏–∏
        Person.population += 1  # —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ–±—â–∏–π —Å—á—ë—Ç—á–∏–∫
    
    def introduce(self):
        # –ú–µ—Ç–æ–¥ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
        return f"–ü—Ä–∏–≤–µ—Ç! –ú–µ–Ω—è –∑–æ–≤—É—Ç {self.name}, –º–Ω–µ {self.age} –ª–µ—Ç"  # –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º—Å—è
    
    def set_password(self, password):
        # –ü—Ä–æ—Å—Ç–µ–π—à–∞—è "–∑–∞—â–∏—Ç–∞" –ø–∞—Ä–æ–ª—è
        if len(password) < 6:  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–ª–∏–Ω—É –ø–∞—Ä–æ–ª—è
            raise ValueError("–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤")  # –æ—à–∏–±–∫–∞
        self._password = password  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø–∞—Ä–æ–ª—å
    
    def check_password(self, password):
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
        return self._password == password  # —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–∞—Ä–æ–ª–∏
    
    @classmethod
    def get_population(cls):
        # –ú–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∫–ª–∞—Å—Å–∞
        return f"–ü–æ–ø—É–ª—è—Ü–∏—è: {cls.population} —á–µ–ª–æ–≤–µ–∫"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ–ø—É–ª—è—Ü–∏—é
    
    @staticmethod
    def is_adult(age):
        # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ - –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–ª–∞—Å—Å–∞ –∏–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
        return age >= 18  # –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–∏–µ
    
    def __str__(self):
        # –°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
        return f"Person(name='{self.name}', age={self.age})"  # —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥
    
    def __repr__(self):
        # "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
        return f"Person('{self.name}', {self.age}, '{self.email}')"  # –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    
    def __eq__(self, other):
        # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ
        if not isinstance(other, Person):  # –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø
            return False  # –Ω–µ Person
        return self.name == other.name and self.age == other.age  # —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ–ª—è

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
person1 = Person("–ê–ª–µ–∫—Å–µ–π", 25, "alex@mail.com")  # —Å–æ–∑–¥–∞—ë–º —á–µ–ª–æ–≤–µ–∫–∞
person2 = Person("–ú–∞—Ä–∏—è", 30)  # —Å–æ–∑–¥–∞—ë–º –±–µ–∑ email

print(person1.introduce())  # —á–µ–ª–æ–≤–µ–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è
print(f"–ü–æ–ø—É–ª—è—Ü–∏—è: {Person.get_population()}")  # –≤—ã–≤–æ–¥–∏–º –ø–æ–ø—É–ª—è—Ü–∏—é

person1.set_password("secret123")  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞—Ä–æ–ª—å
print(f"–ü–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: {person1.check_password('secret123')}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞—Ä–æ–ª—å

print(f"–ê–ª–µ–∫—Å–µ–π —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–π: {Person.is_adult(person1.age)}")  # —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥
print(f"–û–±—ä–µ–∫—Ç—ã —Ä–∞–≤–Ω—ã: {person1 == person2}")  # —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –æ–±—ä–µ–∫—Ç—ã
```

### üß¨ –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º

```python
# –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
class Animal:
    def __init__(self, name, age):
        self.name = name  # –∏–º—è –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
        self.age = age  # –≤–æ–∑—Ä–∞—Å—Ç –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
    
    def make_sound(self):
        # –ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏
        raise NotImplementedError("–ü–æ–¥–∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥")  # –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥
    
    def sleep(self):
        # –û–±—â–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –≤—Å–µ—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö
        return f"{self.name} —Å–ø–∏—Ç"  # –∂–∏–≤–æ—Ç–Ω–æ–µ —Å–ø–∏—Ç
    
    def __str__(self):
        return f"{self.__class__.__name__}('{self.name}', {self.age})"  # —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

# –ù–∞—Å–ª–µ–¥–Ω–∏–∫–∏
class Dog(Animal):
    def __init__(self, name, age, breed):
        super().__init__(name, age)  # –≤—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—è
        self.breed = breed  # –ø–æ—Ä–æ–¥–∞ —Å–æ–±–∞–∫–∏
    
    def make_sound(self):
        # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ—Ç–æ–¥ —Ä–æ–¥–∏—Ç–µ–ª—è
        return f"{self.name} –≥–∞–≤–∫–∞–µ—Ç: –ì–∞–≤-–≥–∞–≤!"  # —Å–æ–±–∞–∫–∞ –ª–∞–µ—Ç
    
    def fetch(self):
        # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–±–∞–∫
        return f"{self.name} –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø–∞–ª–∫—É"  # —Å–æ–±–∞–∫–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø–∞–ª–∫—É

class Cat(Animal):
    def __init__(self, name, age, indoor=True):
        super().__init__(name, age)  # –≤—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—è  
        self.indoor = indoor  # –¥–æ–º–∞—à–Ω—è—è –∏–ª–∏ —É–ª–∏—á–Ω–∞—è
    
    def make_sound(self):
        # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ—Ç–æ–¥ —Ä–æ–¥–∏—Ç–µ–ª—è
        return f"{self.name} –º—è—É–∫–∞–µ—Ç: –ú—è—É!"  # –∫–æ—Ç –º—è—É–∫–∞–µ—Ç
    
    def purr(self):
        # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –∫–æ—Ç–æ–≤
        return f"{self.name} –º—É—Ä—á–∏—Ç"  # –∫–æ—Ç –º—É—Ä—á–∏—Ç

# –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ –¥–µ–π—Å—Ç–≤–∏–∏
def animal_concert(animals):
    # –§—É–Ω–∫—Ü–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–∞—è —Å –ª—é–±—ã–º–∏ –∂–∏–≤–æ—Ç–Ω—ã–º–∏
    for animal in animals:  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –∂–∏–≤–æ—Ç–Ω—ã–º
        print(animal.make_sound())  # –∫–∞–∂–¥–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –∏–∑–¥–∞—ë—Ç —Å–≤–æ–π –∑–≤—É–∫
        print(animal.sleep())  # –≤—Å–µ —Å–ø—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ

# –°–æ–∑–¥–∞—ë–º –∂–∏–≤–æ—Ç–Ω—ã—Ö
dog = Dog("–ë–æ–±–∏–∫", 3, "–õ–∞–±—Ä–∞–¥–æ—Ä")  # —Å–æ–∑–¥–∞—ë–º —Å–æ–±–∞–∫—É
cat = Cat("–ú—É—Ä–∫–∞", 2, indoor=True)  # —Å–æ–∑–¥–∞—ë–º –∫–æ—Ç–∞

animals = [dog, cat]  # —Å–ø–∏—Å–æ–∫ –∂–∏–≤–æ—Ç–Ω—ã—Ö

print("üéµ –ö–æ–Ω—Ü–µ—Ä—Ç –∂–∏–≤–æ—Ç–Ω—ã—Ö:")  # –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–Ω—Ü–µ—Ä—Ç–∞
animal_concert(animals)  # –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ü–µ—Ä—Ç

# –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤
print(f"\n–ü—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤:")  # –∑–∞–≥–æ–ª–æ–≤–æ–∫
print(f"dog —ç—Ç–æ Animal: {isinstance(dog, Animal)}")  # True
print(f"dog —ç—Ç–æ Dog: {isinstance(dog, Dog)}")  # True  
print(f"dog —ç—Ç–æ Cat: {isinstance(dog, Cat)}")  # False
print(f"Dog –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ Animal: {issubclass(Dog, Animal)}")  # True
```

### üé™ –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã (dunder methods)

```python
class Money:
    def __init__(self, amount, currency="RUB"):
        self.amount = amount  # —Å—É–º–º–∞ –¥–µ–Ω–µ–≥
        self.currency = currency  # –≤–∞–ª—é—Ç–∞
    
    def __str__(self):
        # –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
        return f"{self.amount} {self.currency}"  # –Ω–∞–ø—Ä–∏–º–µ—Ä "100 RUB"
    
    def __repr__(self):
        # –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
        return f"Money({self.amount}, '{self.currency}')"  # –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    
    def __add__(self, other):
        # –°–ª–æ–∂–µ–Ω–∏–µ –¥–µ–Ω–µ–≥
        if isinstance(other, Money):  # –µ—Å–ª–∏ –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç —Ç–æ–∂–µ Money
            if self.currency != other.currency:  # —Ä–∞–∑–Ω—ã–µ –≤–∞–ª—é—Ç—ã
                raise ValueError("–ù–µ–ª—å–∑—è —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞–ª—é—Ç—ã")  # –æ—à–∏–±–∫–∞
            return Money(self.amount + other.amount, self.currency)  # —Å–∫–ª–∞–¥—ã–≤–∞–µ–º —Å—É–º–º—ã
        elif isinstance(other, (int, float)):  # –µ—Å–ª–∏ —á–∏—Å–ª–æ
            return Money(self.amount + other, self.currency)  # –¥–æ–±–∞–≤–ª—è–µ–º –∫ —Å—É–º–º–µ
        return NotImplemented  # –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã
    
    def __radd__(self, other):
        # –û–±—Ä–∞—Ç–Ω–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ (–∫–æ–≥–¥–∞ —á–∏—Å–ª–æ + Money)
        return self.__add__(other)  # –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ã—á–Ω–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ
    
    def __sub__(self, other):
        # –í—ã—á–∏—Ç–∞–Ω–∏–µ –¥–µ–Ω–µ–≥
        if isinstance(other, Money):  # –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç Money
            if self.currency != other.currency:  # —Ä–∞–∑–Ω—ã–µ –≤–∞–ª—é—Ç—ã
                raise ValueError("–ù–µ–ª—å–∑—è –≤—ã—á–∏—Ç–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞–ª—é—Ç—ã")  # –æ—à–∏–±–∫–∞
            return Money(self.amount - other.amount, self.currency)  # –≤—ã—á–∏—Ç–∞–µ–º
        elif isinstance(other, (int, float)):  # –µ—Å–ª–∏ —á–∏—Å–ª–æ
            return Money(self.amount - other, self.currency)  # –≤—ã—á–∏—Ç–∞–µ–º –∏–∑ —Å—É–º–º—ã
        return NotImplemented  # –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º
    
    def __mul__(self, other):
        # –£–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ —á–∏—Å–ª–æ
        if isinstance(other, (int, float)):  # –µ—Å–ª–∏ —á–∏—Å–ª–æ
            return Money(self.amount * other, self.currency)  # —É–º–Ω–æ–∂–∞–µ–º —Å—É–º–º—É
        return NotImplemented  # –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º
    
    def __truediv__(self, other):
        # –î–µ–ª–µ–Ω–∏–µ –Ω–∞ —á–∏—Å–ª–æ
        if isinstance(other, (int, float)):  # –µ—Å–ª–∏ —á–∏—Å–ª–æ
            if other == 0:  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
                raise ZeroDivisionError("–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å!")  # –æ—à–∏–±–∫–∞
            return Money(self.amount / other, self.currency)  # –¥–µ–ª–∏–º —Å—É–º–º—É
        return NotImplemented  # –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º
    
    def __eq__(self, other):
        # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ
        if isinstance(other, Money):  # –µ—Å–ª–∏ –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç Money
            return self.amount == other.amount and self.currency == other.currency  # —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º
        return False  # –Ω–µ —Ä–∞–≤–Ω—ã
    
    def __lt__(self, other):
        # –ú–µ–Ω—å—à–µ —á–µ–º
        if isinstance(other, Money):  # –µ—Å–ª–∏ –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç Money
            if self.currency != other.currency:  # —Ä–∞–∑–Ω—ã–µ –≤–∞–ª—é—Ç—ã
                raise ValueError("–ù–µ–ª—å–∑—è —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞–ª—é—Ç—ã")  # –æ—à–∏–±–∫–∞
            return self.amount < other.amount  # —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å—É–º–º—ã
        return NotImplemented  # –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º
    
    def __le__(self, other):
        # –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
        return self.__lt__(other) or self.__eq__(other)  # –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã
    
    def __bool__(self):
        # –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (True –µ—Å–ª–∏ –µ—Å—Ç—å –¥–µ–Ω—å–≥–∏)
        return self.amount > 0  # True –µ—Å–ª–∏ —Å—É–º–º–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è
    
    def __len__(self):
        # "–î–ª–∏–Ω–∞" - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –≤ —Å—É–º–º–µ
        return len(str(int(abs(self.amount))))  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä
    
    def __getitem__(self, key):
        # –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ - —Ü–∏—Ñ—Ä—ã —Å—É–º–º—ã)
        digits = str(int(abs(self.amount)))  # –ø–æ–ª—É—á–∞–µ–º —Ü–∏—Ñ—Ä—ã
        return int(digits[key])  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ü–∏—Ñ—Ä—É –ø–æ –∏–Ω–¥–µ–∫—Å—É

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
wallet1 = Money(1000, "RUB")  # –∫–æ—à–µ–ª—ë–∫ 1
wallet2 = Money(500, "RUB")  # –∫–æ—à–µ–ª—ë–∫ 2
wallet3 = Money(200, "USD")  # –∫–æ—à–µ–ª—ë–∫ –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö

print(f"–ö–æ—à–µ–ª—ë–∫ 1: {wallet1}")  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __str__
print(f"–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ: {repr(wallet2)}")  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __repr__

# –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
total = wallet1 + wallet2  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __add__
print(f"–°—É–º–º–∞ –∫–æ—à–µ–ª—å–∫–æ–≤: {total}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

doubled = wallet1 * 2  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __mul__
print(f"–£–¥–≤–æ–µ–Ω–Ω–∞—è —Å—É–º–º–∞: {doubled}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

half = wallet1 / 2  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __truediv__
print(f"–ü–æ–ª–æ–≤–∏–Ω–∞ —Å—É–º–º—ã: {half}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –°—Ä–∞–≤–Ω–µ–Ω–∏—è
print(f"wallet1 > wallet2: {wallet1 > wallet2}")  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __lt__ (–æ–±—Ä–∞—Ç–Ω–æ–µ)
print(f"wallet1 == Money(1000): {wallet1 == Money(1000)}")  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __eq__

# –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
empty_wallet = Money(0)  # –ø—É—Å—Ç–æ–π –∫–æ—à–µ–ª—ë–∫
print(f"–ï—Å—Ç—å –ª–∏ –¥–µ–Ω—å–≥–∏ –≤ wallet1: {bool(wallet1)}")  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __bool__
print(f"–ï—Å—Ç—å –ª–∏ –¥–µ–Ω—å–≥–∏ –≤ –ø—É—Å—Ç–æ–º: {bool(empty_wallet)}")  # False

# "–î–ª–∏–Ω–∞" –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –≤ —Å—É–º–º–µ: {len(wallet1)}")  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __len__
print(f"–ü–µ—Ä–≤–∞—è —Ü–∏—Ñ—Ä–∞ —Å—É–º–º—ã: {wallet1[0]}")  # –∏—Å–ø–æ–ª—å–∑—É–µ–º __getitem__

# –ü–æ–ø—ã—Ç–∫–∞ —Å–ª–æ–∂–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞–ª—é—Ç—ã
try:
    invalid_sum = wallet1 + wallet3  # —Ä–∞–∑–Ω—ã–µ –≤–∞–ª—é—Ç—ã
except ValueError as e:
    print(f"–û—à–∏–±–∫–∞: {e}")  # –≤—ã–≤–æ–¥–∏–º –æ—à–∏–±–∫—É
```

## üé® 4. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã - –º–æ—â—å Python

### üé≠ –ü—Ä–æ—Å—Ç—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

```python
import time
import functools
from typing import Callable, Any

# –ü—Ä–æ—Å—Ç–æ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
def timing_decorator(func: Callable) -> Callable:
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏"""
    @functools.wraps(func)  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    def wrapper(*args, **kwargs) -> Any:
        start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
        result = func(*args, **kwargs)  # –≤—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
        end_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
        
        execution_time = end_time - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        print(f"üïí –§—É–Ω–∫—Ü–∏—è {func.__name__} –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –∑–∞ {execution_time:.4f} —Å–µ–∫—É–Ω–¥")  # –≤—ã–≤–æ–¥–∏–º –≤—Ä–µ–º—è
        
        return result  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏
    return wrapper  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ë—Ä–Ω—É—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
def log_calls(func: Callable) -> Callable:
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π"""
    @functools.wraps(func)  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    def wrapper(*args, **kwargs) -> Any:
        args_str = ", ".join([str(arg) for arg in args])  # —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã
        kwargs_str = ", ".join([f"{k}={v}" for k, v in kwargs.items()])  # —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º kwargs
        all_args = ", ".join(filter(None, [args_str, kwargs_str]))  # –æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
        
        print(f"üìû –í—ã–∑–æ–≤ {func.__name__}({all_args})")  # –ª–æ–≥–∏—Ä—É–µ–º –≤—ã–∑–æ–≤
        
        try:
            result = func(*args, **kwargs)  # –≤—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
            print(f"‚úÖ {func.__name__} –≤–µ—Ä–Ω—É–ª: {result}")  # –ª–æ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            return result  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        except Exception as e:
            print(f"‚ùå {func.__name__} –≤—ã–∑–≤–∞–ª –æ—à–∏–±–∫—É: {e}")  # –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
            raise  # –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ
    
    return wrapper  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ë—Ä–Ω—É—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
@timing_decorator  # –ø—Ä–∏–º–µ–Ω—è–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –≤—Ä–µ–º–µ–Ω–∏
@log_calls  # –ø—Ä–∏–º–µ–Ω—è–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
def slow_function(n: int) -> int:
    """–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤"""
    time.sleep(0.1)  # –∏–º–∏—Ç–∏—Ä—É–µ–º –º–µ–¥–ª–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É
    return sum(range(n))  # –≤—ã—á–∏—Å–ª—è–µ–º —Å—É–º–º—É —á–∏—Å–µ–ª –æ—Ç 0 –¥–æ n-1

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = slow_function(1000)  # –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

### üè≠ –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```python
def retry(max_attempts: int = 3, delay: float = 1.0, exceptions: tuple = (Exception,)):
    """
    –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
    
    Args:
        max_attempts: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
        delay: –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        exceptions: –ö–æ—Ä—Ç–µ–∂ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –¥–µ–ª–∞—Ç—å –ø–æ–≤—Ç–æ—Ä
    """
    def decorator(func: Callable) -> Callable:
        @functools.wraps(func)  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
        def wrapper(*args, **kwargs) -> Any:
            last_exception = None  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—à–∏–±–∫—É
            
            for attempt in range(max_attempts):  # –¥–µ–ª–∞–µ–º –ø–æ–ø—ã—Ç–∫–∏
                try:
                    result = func(*args, **kwargs)  # –ø—ã—Ç–∞–µ–º—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é
                    if attempt > 0:  # –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞
                        print(f"‚úÖ –§—É–Ω–∫—Ü–∏—è {func.__name__} –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å —Å {attempt + 1} –ø–æ–ø—ã—Ç–∫–∏")  # —É—Å–ø–µ—Ö
                    return result  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                    
                except exceptions as e:
                    last_exception = e  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –æ—à–∏–±–∫—É
                    if attempt < max_attempts - 1:  # –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞
                        print(f"‚ö†Ô∏è  –ü–æ–ø—ã—Ç–∫–∞ {attempt + 1} –Ω–µ—É–¥–∞—á–Ω–∞: {e}. –ü–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ {delay}—Å...")  # –ª–æ–≥–∏—Ä—É–µ–º
                        time.sleep(delay)  # –∂–¥—ë–º –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π
                    else:
                        print(f"‚ùå –í—Å–µ {max_attempts} –ø–æ–ø—ã—Ç–æ–∫ –∏—Å—á–µ—Ä–ø–∞–Ω—ã")  # –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—É–¥–∞—á–Ω—ã
            
            raise last_exception  # –ø–æ–¥–Ω–∏–º–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—à–∏–±–∫—É
        
        return wrapper  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ë—Ä–Ω—É—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é
    return decorator  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä

def rate_limit(calls_per_second: float = 1.0):
    """
    –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
    
    Args:
        calls_per_second: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
    """
    min_interval = 1.0 / calls_per_second  # –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏
    
    def decorator(func: Callable) -> Callable:
        last_called = 0.0  # –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞
        
        @functools.wraps(func)  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
        def wrapper(*args, **kwargs) -> Any:
            nonlocal last_called  # –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏
            
            now = time.time()  # —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
            time_since_last = now - last_called  # –≤—Ä–µ–º—è —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞
            
            if time_since_last < min_interval:  # –µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ –º–∞–ª–æ –≤—Ä–µ–º–µ–Ω–∏
                sleep_time = min_interval - time_since_last  # —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å
                print(f"‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ {sleep_time:.2f}—Å –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º {func.__name__}")  # –ª–æ–≥–∏—Ä—É–µ–º –æ–∂–∏–¥–∞–Ω–∏–µ
                time.sleep(sleep_time)  # –∂–¥—ë–º
            
            last_called = time.time()  # –æ–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞
            return func(*args, **kwargs)  # –≤—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
        
        return wrapper  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ë—Ä–Ω—É—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é
    return decorator  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
@retry(max_attempts=3, delay=0.5, exceptions=(ValueError, ConnectionError))  # –ø–æ–≤—Ç–æ—Ä –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
@rate_limit(calls_per_second=2.0)  # –Ω–µ —á–∞—â–µ 2 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É
def unstable_api_call(url: str, fail_probability: float = 0.7) -> str:
    """–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π API –≤—ã–∑–æ–≤ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤"""
    import random
    
    if random.random() < fail_probability:  # –∏–º–∏—Ç–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
        raise ConnectionError(f"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ {url}")  # –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    
    return f"–î–∞–Ω–Ω—ã–µ –∏–∑ {url}"  # —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
try:
    data1 = unstable_api_call("https://api.example.com/users")  # –ø–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤
    print(f"–ü–æ–ª—É—á–∏–ª–∏: {data1}")  # –≤—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ
    
    data2 = unstable_api_call("https://api.example.com/posts")  # –≤—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤ (—Å –æ–∂–∏–¥–∞–Ω–∏–µ–º)
    print(f"–ü–æ–ª—É—á–∏–ª–∏: {data2}")  # –≤—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ
    
except Exception as e:
    print(f"–§–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")  # –µ—Å–ª–∏ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—É–¥–∞—á–Ω—ã
```

### üè≠ –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–æ–≤

```python
def add_repr(cls):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è __repr__"""
    def __repr__(self):
        class_name = self.__class__.__name__  # –∏–º—è –∫–ª–∞—Å—Å–∞
        attrs = []  # —Å–ø–∏—Å–æ–∫ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
        
        for key, value in self.__dict__.items():  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
            if not key.startswith('_'):  # –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
                attrs.append(f"{key}={repr(value)}")  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫
        
        attrs_str = ", ".join(attrs)  # –æ–±—ä–µ–¥–∏–Ω—è–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã
        return f"{class_name}({attrs_str})"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
    
    cls.__repr__ = __repr__  # –¥–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥ –∫ –∫–ª–∞—Å—Å—É
    return cls  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å

def singleton(cls):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞"""
    instances = {}  # —Å–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
    
    @functools.wraps(cls)  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∞
    def get_instance(*args, **kwargs):
        if cls not in instances:  # –µ—Å–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω
            instances[cls] = cls(*args, **kwargs)  # —Å–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä
            print(f"üè≠ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä {cls.__name__}")  # –ª–æ–≥–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ
        else:
            print(f"‚ôªÔ∏è  –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä {cls.__name__}")  # –ª–æ–≥–∏—Ä—É–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
        
        return instances[cls]  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä
    
    return get_instance  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—ë—Ä—Ç–∫—É

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –∫–ª–∞—Å—Å–æ–≤
@add_repr  # –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π __repr__
class User:
    def __init__(self, name: str, email: str, age: int):
        self.name = name  # –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        self.email = email  # email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        self.age = age  # –≤–æ–∑—Ä–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

@singleton  # —Å–∏–Ω–≥–ª—Ç–æ–Ω
class DatabaseConnection:
    def __init__(self, host: str = "localhost", port: int = 5432):
        self.host = host  # —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        self.port = port  # –ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        self.connected = False  # —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
        print(f"üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ {host}:{port}")  # –ª–æ–≥–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    
    def connect(self):
        self.connected = True  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
        return f"–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ {self.host}:{self.port}"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞—Ç—É—Å

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ–∫–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
user1 = User("–ò–≤–∞–Ω", "ivan@mail.com", 30)  # —Å–æ–∑–¥–∞—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user1}")  # –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π __repr__

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞
db1 = DatabaseConnection("localhost", 5432)  # –ø–µ—Ä–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
db2 = DatabaseConnection("localhost", 5432)  # –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –≤—Ç–æ—Ä–æ–π

print(f"db1 is db2: {db1 is db2}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç
print(f"–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: {db1.connect()}")  # –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è
```

## üîí 5. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã

### üìÇ –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏

```python
import contextlib
import tempfile
import os
import time
from typing import Generator, Any

# –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å
class FileManager:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏"""
    
    def __init__(self, filename: str, mode: str = 'r', encoding: str = 'utf-8'):
        self.filename = filename  # –∏–º—è —Ñ–∞–π–ª–∞
        self.mode = mode  # —Ä–µ–∂–∏–º –æ—Ç–∫—Ä—ã—Ç–∏—è
        self.encoding = encoding  # –∫–æ–¥–∏—Ä–æ–≤–∫–∞
        self.file = None  # —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–π–ª
    
    def __enter__(self):
        """–í—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç - –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª"""
        print(f"üìÇ –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª {self.filename}")  # –ª–æ–≥–∏—Ä—É–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–µ
        self.file = open(self.filename, self.mode, encoding=self.encoding)  # –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª
        return self.file  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ–∞–π–ª–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
    
    def __exit__(self, exc_type, exc_value, traceback):
        """–í—ã—Ö–æ–¥ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ - –∑–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª"""
        if self.file:  # –µ—Å–ª–∏ —Ñ–∞–π–ª –æ—Ç–∫—Ä—ã—Ç
            print(f"üìÅ –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª {self.filename}")  # –ª–æ–≥–∏—Ä—É–µ–º –∑–∞–∫—Ä—ã—Ç–∏–µ
            self.file.close()  # –∑–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª
        
        if exc_type is not None:  # –µ—Å–ª–∏ –±—ã–ª–∞ –æ—à–∏–±–∫–∞
            print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–æ–º: {exc_value}")  # –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
            return False  # –Ω–µ –ø–æ–¥–∞–≤–ª—è–µ–º –æ—à–∏–±–∫—É
        
        return True  # –≤—Å—ë –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ

# –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —á–µ—Ä–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
@contextlib.contextmanager
def timer_context(operation_name: str) -> Generator[dict, None, None]:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"""
    start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
    stats = {'start_time': start_time}  # —Å–ª–æ–≤–∞—Ä—å —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
    
    print(f"‚è±Ô∏è  –ù–∞—á–∏–Ω–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é: {operation_name}")  # –ª–æ–≥–∏—Ä—É–µ–º –Ω–∞—á–∞–ª–æ
    
    try:
        yield stats  # –ø–µ—Ä–µ–¥–∞—ë–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –±–ª–æ–∫ with
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –≤ –æ–ø–µ—Ä–∞—Ü–∏–∏ {operation_name}: {e}")  # –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
        raise  # –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ
    finally:
        end_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
        duration = end_time - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        stats['end_time'] = end_time  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
        stats['duration'] = duration  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        print(f"‚úÖ –û–ø–µ—Ä–∞—Ü–∏—è {operation_name} –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞ {duration:.4f} —Å–µ–∫—É–Ω–¥")  # –ª–æ–≥–∏—Ä—É–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

@contextlib.contextmanager
def temp_directory() -> Generator[str, None, None]:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π"""
    temp_dir = tempfile.mkdtemp()  # —Å–æ–∑–¥–∞—ë–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
    print(f"üìÅ –°–æ–∑–¥–∞–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {temp_dir}")  # –ª–æ–≥–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ
    
    try:
        yield temp_dir  # –ø–µ—Ä–µ–¥–∞—ë–º –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
    finally:
        # –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –≤—Å–µ –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        import shutil
        shutil.rmtree(temp_dir)  # —É–¥–∞–ª—è–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
        print(f"üóëÔ∏è  –£–¥–∞–ª–µ–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {temp_dir}")  # –ª–æ–≥–∏—Ä—É–µ–º —É–¥–∞–ª–µ–Ω–∏–µ

# –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π
@contextlib.contextmanager
def ignore_errors(*exception_types):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫"""
    try:
        yield  # –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–¥ –≤ –±–ª–æ–∫–µ with
    except exception_types as e:
        print(f"üîá –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É: {type(e).__name__}: {e}")  # –ª–æ–≥–∏—Ä—É–µ–º –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
        pass  # –ø–æ–¥–∞–≤–ª—è–µ–º –æ—à–∏–±–∫—É

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

# 1. –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
with FileManager('example.txt', 'w') as f:  # —Å–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª
    f.write('–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!\n')  # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    f.write('–≠—Ç–æ —Ç–µ—Å—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.')  # –µ—â—ë –¥–∞–Ω–Ω—ã–µ

# 2. –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
with timer_context("–°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è") as stats:  # –∏–∑–º–µ—Ä—è–µ–º –≤—Ä–µ–º—è
    time.sleep(0.1)  # –∏–º–∏—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É
    result = sum(range(100000))  # –≤—ã—á–∏—Å–ª—è–µ–º —Å—É–º–º—É
    stats['result'] = result  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ

# 3. –í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
with temp_directory() as temp_dir:  # —Å–æ–∑–¥–∞—ë–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
    temp_file = os.path.join(temp_dir, 'temp_file.txt')  # –ø—É—Ç—å –∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É
    with open(temp_file, 'w') as f:  # —Å–æ–∑–¥–∞—ë–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
        f.write('–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ')  # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    
    print(f"–§–∞–π–ª —Å–æ–∑–¥–∞–Ω: {os.path.exists(temp_file)}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ

# 4. –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
with ignore_errors(ZeroDivisionError, ValueError):  # –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
    result = 10 / 0  # –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
    print("–≠—Ç–æ—Ç –∫–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è")  # –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏

print("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–∫–∏")  # –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç—É

# 5. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã
with timer_context("–§–∞–π–ª–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è") as stats, \
     FileManager('output.txt', 'w') as output_file, \
     ignore_errors(FileNotFoundError):  # –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
    
    output_file.write(f"–û–ø–µ—Ä–∞—Ü–∏—è –Ω–∞—á–∞–ª–∞—Å—å –≤ {stats['start_time']}\n")  # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤—Ä–µ–º—è
    output_file.write("–ö–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–∏—Å–∏\n")  # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
```

---

–ï–±–∞—Ç—å, –ø–æ–≥–Ω–∞–ª–∏ —Ñ–∏–Ω–∞–ª! üöÄ **–ß–∞—Å—Ç—å 5: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã Python** - —Å–∞–º–æ–µ –º—è—Å–æ –¥–ª—è –∫—Ä—É—Ç—ã—Ö —Å–æ–±–µ—Å–æ–≤! üí™

# üöÄ –ß–∞—Å—Ç—å 5: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã Python

## üîí 1. GIL –∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å

### üßµ –ü–æ–Ω–∏–º–∞–Ω–∏–µ GIL (Global Interpreter Lock)

```python
import threading
import time
import multiprocessing
from concurrent.futures import ThreadPoolExecutor, ProcessPoolExecutor

# CPU-bound –∑–∞–¥–∞—á–∞ - —Å—Ç—Ä–∞–¥–∞–µ—Ç –æ—Ç GIL
def cpu_bound_task(n: int) -> int:
    """CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ - –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—É–º–º—ã –∫–≤–∞–¥—Ä–∞—Ç–æ–≤"""
    total = 0  # –Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞
    for i in range(n):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ —á–∏—Å–ª–∞–º
        total += i * i  # –¥–æ–±–∞–≤–ª—è–µ–º –∫–≤–∞–¥—Ä–∞—Ç —á–∏—Å–ª–∞
    return total  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# I/O-bound –∑–∞–¥–∞—á–∞ - –Ω–µ —Å—Ç—Ä–∞–¥–∞–µ—Ç –æ—Ç GIL  
def io_bound_task(url: str, delay: float) -> str:
    """I/O –∑–∞–¥–∞—á–∞ - –∏–º–∏—Ç–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞"""
    print(f"üåê –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ {url}")  # –ª–æ–≥–∏—Ä—É–µ–º –Ω–∞—á–∞–ª–æ
    time.sleep(delay)  # –∏–º–∏—Ç–∏—Ä—É–µ–º —Å–µ—Ç–µ–≤—É—é –∑–∞–¥–µ—Ä–∂–∫—É
    return f"–û—Ç–≤–µ—Ç –æ—Ç {url}"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

def benchmark_threading_vs_multiprocessing():
    """–°—Ä–∞–≤–Ω–µ–Ω–∏–µ threading –∏ multiprocessing –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á"""
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º CPU-bound –∑–∞–¥–∞—á–∏
    print("üßÆ CPU-bound –∑–∞–¥–∞—á–∏:")
    
    # –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
    start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
    results = [cpu_bound_task(100000) for _ in range(4)]  # –≤—ã–ø–æ–ª–Ω—è–µ–º 4 –∑–∞–¥–∞—á–∏
    sequential_time = time.time() - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    print(f"–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ: {sequential_time:.2f} —Å–µ–∫—É–Ω–¥")  # –≤—ã–≤–æ–¥–∏–º –≤—Ä–µ–º—è
    
    # Threading (–ø–ª–æ—Ö–æ –¥–ª—è CPU-bound –∏–∑-–∑–∞ GIL)
    start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
    with ThreadPoolExecutor(max_workers=4) as executor:  # —Å–æ–∑–¥–∞—ë–º –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤
        futures = [executor.submit(cpu_bound_task, 100000) for _ in range(4)]  # –∑–∞–ø—É—Å–∫–∞–µ–º –∑–∞–¥–∞—á–∏
        results = [future.result() for future in futures]  # –ø–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    threading_time = time.time() - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è
    print(f"Threading: {threading_time:.2f} —Å–µ–∫—É–Ω–¥ (–º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–∑-–∑–∞ GIL!)")  # –≤—ã–≤–æ–¥–∏–º –≤—Ä–µ–º—è
    
    # Multiprocessing (—Ö–æ—Ä–æ—à–æ –¥–ª—è CPU-bound)
    start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
    with ProcessPoolExecutor(max_workers=4) as executor:  # —Å–æ–∑–¥–∞—ë–º –ø—É–ª –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
        futures = [executor.submit(cpu_bound_task, 100000) for _ in range(4)]  # –∑–∞–ø—É—Å–∫–∞–µ–º –∑–∞–¥–∞—á–∏
        results = [future.result() for future in futures]  # –ø–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    multiprocessing_time = time.time() - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è
    print(f"Multiprocessing: {multiprocessing_time:.2f} —Å–µ–∫—É–Ω–¥ (–±—ã—Å—Ç—Ä–µ–µ!)")  # –≤—ã–≤–æ–¥–∏–º –≤—Ä–µ–º—è
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º I/O-bound –∑–∞–¥–∞—á–∏
    print("üíæ I/O-bound –∑–∞–¥–∞—á–∏:")
    
    urls = [f"https://api{i}.example.com" for i in range(4)]  # —Å–ø–∏—Å–æ–∫ URL'–æ–≤
    
    # –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ I/O
    start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
    results = [io_bound_task(url, 0.5) for url in urls]  # –≤—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–¥–∞—á–∏
    sequential_io_time = time.time() - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è
    print(f"–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ I/O: {sequential_io_time:.2f} —Å–µ–∫—É–Ω–¥")  # –≤—ã–≤–æ–¥–∏–º –≤—Ä–µ–º—è
    
    # Threading (—Ö–æ—Ä–æ—à–æ –¥–ª—è I/O-bound)
    start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
    with ThreadPoolExecutor(max_workers=4) as executor:  # —Å–æ–∑–¥–∞—ë–º –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤
        futures = [executor.submit(io_bound_task, url, 0.5) for url in urls]  # –∑–∞–ø—É—Å–∫–∞–µ–º –∑–∞–¥–∞—á–∏
        results = [future.result() for future in futures]  # –ø–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    threading_io_time = time.time() - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è
    print(f"Threading I/O: {threading_io_time:.2f} —Å–µ–∫—É–Ω–¥ (–±—ã—Å—Ç—Ä–µ–µ!)")  # –≤—ã–≤–æ–¥–∏–º –≤—Ä–µ–º—è

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º —Å —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
class UnsafeCounter:
    """–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏"""
    def __init__(self):
        self.value = 0  # –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    
    def increment(self):
        """–£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –Ω–∞ 1"""
        current = self.value  # —á–∏—Ç–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        time.sleep(0.0001)  # –∏–º–∏—Ç–∏—Ä—É–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—É—é —Ä–∞–±–æ—Ç—É
        self.value = current + 1  # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

class SafeCounter:
    """–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π"""
    def __init__(self):
        self.value = 0  # –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        self._lock = threading.Lock()  # –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
    
    def increment(self):
        """–£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –Ω–∞ 1 –±–µ–∑–æ–ø–∞—Å–Ω–æ"""
        with self._lock:  # –±–ª–æ–∫–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–æ–∫–æ–≤
            current = self.value  # —á–∏—Ç–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
            time.sleep(0.0001)  # –∏–º–∏—Ç–∏—Ä—É–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—É—é —Ä–∞–±–æ—Ç—É
            self.value = current + 1  # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

def test_thread_safety():
    """–¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"""
    
    # –¢–µ—Å—Ç –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å—á—ë—Ç—á–∏–∫–∞
    unsafe_counter = UnsafeCounter()  # —Å–æ–∑–¥–∞—ë–º –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫
    threads = []  # —Å–ø–∏—Å–æ–∫ –ø–æ—Ç–æ–∫–æ–≤
    
    for i in range(10):  # —Å–æ–∑–¥–∞—ë–º 10 –ø–æ—Ç–æ–∫–æ–≤
        thread = threading.Thread(target=unsafe_counter.increment)  # —Å–æ–∑–¥–∞—ë–º –ø–æ—Ç–æ–∫
        threads.append(thread)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫
        thread.start()  # –∑–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Ç–æ–∫
    
    for thread in threads:  # –∂–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤
        thread.join()  # –∂–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞
    
    print(f"–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫: {unsafe_counter.value} (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 10)")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    
    # –¢–µ—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å—á—ë—Ç—á–∏–∫–∞
    safe_counter = SafeCounter()  # —Å–æ–∑–¥–∞—ë–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫
    threads = []  # —Å–ø–∏—Å–æ–∫ –ø–æ—Ç–æ–∫–æ–≤
    
    for i in range(10):  # —Å–æ–∑–¥–∞—ë–º 10 –ø–æ—Ç–æ–∫–æ–≤
        thread = threading.Thread(target=safe_counter.increment)  # —Å–æ–∑–¥–∞—ë–º –ø–æ—Ç–æ–∫
        threads.append(thread)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫
        thread.start()  # –∑–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Ç–æ–∫
    
    for thread in threads:  # –∂–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤
        thread.join()  # –∂–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞
    
    print(f"–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫: {safe_counter.value} (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 10)")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –ó–∞–ø—É—Å–∫–∞–µ–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
if __name__ == "__main__":
    print("üî¨ –¢–µ—Å—Ç–∏—Ä—É–µ–º GIL –∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å:")
    benchmark_threading_vs_multiprocessing()  # —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ–¥—Ö–æ–¥—ã
    
    print("\nüîí –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:")
    test_thread_safety()  # —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
```

## ‚ö° 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (async/await)

### üåä –û—Å–Ω–æ–≤—ã asyncio

```python
import asyncio
import aiohttp
import aiofiles
import time
from typing import List, Coroutine, Any

# –ü—Ä–æ—Å—Ç–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
async def simple_async_function(name: str, delay: float) -> str:
    """–ü—Ä–æ—Å—Ç–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π"""
    print(f"üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–¥–∞—á—É {name}")  # –ª–æ–≥–∏—Ä—É–µ–º –Ω–∞—á–∞–ª–æ
    await asyncio.sleep(delay)  # –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏)
    print(f"‚úÖ –ó–∞–≤–µ—Ä—à–∏–ª–∏ –∑–∞–¥–∞—á—É {name}")  # –ª–æ–≥–∏—Ä—É–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
    return f"–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç {name}"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP –∫–ª–∏–µ–Ω—Ç
async def fetch_url(session: aiohttp.ClientSession, url: str) -> dict:
    """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP –∑–∞–ø—Ä–æ—Å"""
    try:
        print(f"üåê –ó–∞–ø—Ä–æ—Å –∫ {url}")  # –ª–æ–≥–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å
        async with session.get(url) as response:  # –¥–µ–ª–∞–µ–º GET –∑–∞–ø—Ä–æ—Å
            data = await response.text()  # —á–∏—Ç–∞–µ–º —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞
            return {
                'url': url,  # URL –∑–∞–ø—Ä–æ—Å–∞
                'status': response.status,  # —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç
                'length': len(data)  # –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
            }
    except Exception as e:
        return {'url': url, 'error': str(e)}  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É

# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
async def async_file_operations() -> None:
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏"""
    filename = "async_test.txt"  # –∏–º—è —Ñ–∞–π–ª–∞
    
    # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª
    async with aiofiles.open(filename, 'w', encoding='utf-8') as f:
        await f.write("–ü—Ä–∏–≤–µ—Ç –∏–∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –º–∏—Ä–∞!\n")  # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
        await f.write("–≠—Ç–æ –≤—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞.\n")  # –µ—â—ë –¥–∞–Ω–Ω—ã–µ
        print(f"üìù –ó–∞–ø–∏—Å–∞–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ {filename}")  # –ª–æ–≥–∏—Ä—É–µ–º –∑–∞–ø–∏—Å—å
    
    # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
    async with aiofiles.open(filename, 'r', encoding='utf-8') as f:
        content = await f.read()  # —á–∏—Ç–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        print(f"üìñ –ü—Ä–æ—á–∏—Ç–∞–ª–∏ –∏–∑ {filename}:")  # –ª–æ–≥–∏—Ä—É–µ–º —á—Ç–µ–Ω–∏–µ
        print(content)  # –≤—ã–≤–æ–¥–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

# –ü—Ä–æ–¥—é—Å–µ—Ä-–∫–æ–Ω—Å—é–º–µ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω —Å asyncio.Queue
async def producer(queue: asyncio.Queue, name: str, items: int) -> None:
    """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—Ä–æ–¥—é—Å–µ—Ä"""
    for i in range(items):  # —Å–æ–∑–¥–∞—ë–º —ç–ª–µ–º–µ–Ω—Ç—ã
        item = f"{name}-item-{i}"  # —Ñ–æ—Ä–º–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç
        await queue.put(item)  # –∫–ª–∞–¥—ë–º –≤ –æ—á–µ—Ä–µ–¥—å
        print(f"üè≠ –ü—Ä–æ–¥—é—Å–µ—Ä {name} —Å–æ–∑–¥–∞–ª {item}")  # –ª–æ–≥–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ
        await asyncio.sleep(0.1)  # –Ω–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
    
    await queue.put(None)  # —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
    print(f"üèÅ –ü—Ä–æ–¥—é—Å–µ—Ä {name} –∑–∞–∫–æ–Ω—á–∏–ª —Ä–∞–±–æ—Ç—É")  # –ª–æ–≥–∏—Ä—É–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

async def consumer(queue: asyncio.Queue, name: str) -> int:
    """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–Ω—Å—é–º–µ—Ä"""
    processed = 0  # —Å—á—ë—Ç—á–∏–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    
    while True:  # –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
        item = await queue.get()  # –±–µ—Ä—ë–º —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –æ—á–µ—Ä–µ–¥–∏
        
        if item is None:  # —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
            await queue.put(None)  # –ø–µ—Ä–µ–¥–∞—ë–º —Å–∏–≥–Ω–∞–ª –¥–∞–ª—å—à–µ
            break  # –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞
        
        print(f"üîß –ö–æ–Ω—Å—é–º–µ—Ä {name} –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç {item}")  # –ª–æ–≥–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
        await asyncio.sleep(0.2)  # –∏–º–∏—Ç–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
        processed += 1  # —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
        queue.task_done()  # –ø–æ–º–µ—á–∞–µ–º –∑–∞–¥–∞—á—É –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é
    
    print(f"‚úÖ –ö–æ–Ω—Å—é–º–µ—Ä {name} –æ–±—Ä–∞–±–æ—Ç–∞–ª {processed} —ç–ª–µ–º–µ–Ω—Ç–æ–≤")  # –ª–æ–≥–∏—Ä—É–µ–º –∏—Ç–æ–≥–∏
    return processed  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

# –ì–ª–∞–≤–Ω–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
async def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ async/await"""
    
    print("üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è 1: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á")
    
    # –°–æ–∑–¥–∞—ë–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á
    tasks = [
        simple_async_function("Task-1", 1.0),  # –∑–∞–¥–∞—á–∞ –Ω–∞ 1 —Å–µ–∫—É–Ω–¥—É
        simple_async_function("Task-2", 0.5),  # –∑–∞–¥–∞—á–∞ –Ω–∞ 0.5 —Å–µ–∫—É–Ω–¥—ã
        simple_async_function("Task-3", 1.5),  # –∑–∞–¥–∞—á–∞ –Ω–∞ 1.5 —Å–µ–∫—É–Ω–¥—ã
    ]
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –∑–∞–¥–∞—á–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
    start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
    results = await asyncio.gather(*tasks)  # –∂–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
    total_time = time.time() - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –æ–±—â–µ–µ –≤—Ä–µ–º—è
    
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç—ã: {results}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    print(f"–û–±—â–µ–µ –≤—Ä–µ–º—è: {total_time:.2f} —Å–µ–∫—É–Ω–¥ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ!)")  # –≤—ã–≤–æ–¥–∏–º –≤—Ä–µ–º—è
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    print("üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è 2: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã")
    
    # –°–ø–∏—Å–æ–∫ URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ–º httpbin –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
    urls = [
        "https://httpbin.org/delay/1",  # –∑–∞–¥–µ—Ä–∂–∫–∞ 1 —Å–µ–∫—É–Ω–¥–∞
        "https://httpbin.org/delay/0.5",  # –∑–∞–¥–µ—Ä–∂–∫–∞ 0.5 —Å–µ–∫—É–Ω–¥—ã
        "https://httpbin.org/status/200",  # –æ–±—ã—á–Ω—ã–π –æ—Ç–≤–µ—Ç
        "https://httpbin.org/json",  # JSON –æ—Ç–≤–µ—Ç
    ]
    
    # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
    async with aiohttp.ClientSession() as session:  # —Å–æ–∑–¥–∞—ë–º —Å–µ—Å—Å–∏—é
        start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
        http_tasks = [fetch_url(session, url) for url in urls]  # —Å–æ–∑–¥–∞—ë–º –∑–∞–¥–∞—á–∏
        http_results = await asyncio.gather(*http_tasks, return_exceptions=True)  # –≤—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å—ã
        http_time = time.time() - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è
    
    for result in http_results:  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        if isinstance(result, dict):  # –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç - —Å–ª–æ–≤–∞—Ä—å
            if 'error' in result:  # –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞
                print(f"‚ùå {result['url']}: {result['error']}")  # –≤—ã–≤–æ–¥–∏–º –æ—à–∏–±–∫—É
            else:
                print(f"‚úÖ {result['url']}: —Å—Ç–∞—Ç—É—Å {result['status']}, —Ä–∞–∑–º–µ—Ä {result['length']}")  # –≤—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        else:
            print(f"‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {result}")  # –≤—ã–≤–æ–¥–∏–º –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—É—é –æ—à–∏–±–∫—É
    
    print(f"HTTP –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∑–∞ {http_time:.2f} —Å–µ–∫—É–Ω–¥")  # –≤—ã–≤–æ–¥–∏–º –æ–±—â–µ–µ –≤—Ä–µ–º—è
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    print("üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è 3: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏")
    await async_file_operations()  # –∑–∞–ø—É—Å–∫–∞–µ–º —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–∞–º–∏
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    print("üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è 4: –ü—Ä–æ–¥—é—Å–µ—Ä-–∫–æ–Ω—Å—é–º–µ—Ä")
    
    # –°–æ–∑–¥–∞—ë–º –æ—á–µ—Ä–µ–¥—å
    queue = asyncio.Queue(maxsize=5)  # –æ—á–µ—Ä–µ–¥—å —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º 5
    
    # –°–æ–∑–¥–∞—ë–º –∑–∞–¥–∞—á–∏ –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤ –∏ –∫–æ–Ω—Å—é–º–µ—Ä–æ–≤
    producer_task = producer(queue, "Alpha", 10)  # –ø—Ä–æ–¥—é—Å–µ—Ä —Å–æ–∑–¥–∞—Å—Ç 10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    consumer_tasks = [
        consumer(queue, "Worker-1"),  # –ø–µ—Ä–≤—ã–π –∫–æ–Ω—Å—é–º–µ—Ä
        consumer(queue, "Worker-2"),  # –≤—Ç–æ—Ä–æ–π –∫–æ–Ω—Å—é–º–µ—Ä
    ]
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –∑–∞–¥–∞—á–∏
    await asyncio.gather(producer_task, *consumer_tasks)  # –∂–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö
    
    print("üéâ –í—Å–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã!")

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
def sync_http_requests():
    """–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è"""
    import requests
    
    urls = [
        "https://httpbin.org/delay/1",
        "https://httpbin.org/delay/0.5", 
        "https://httpbin.org/status/200",
        "https://httpbin.org/json",
    ]
    
    start_time = time.time()  # –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
    
    results = []  # —Å–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    for url in urls:  # –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
        try:
            response = requests.get(url, timeout=5)  # —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
            results.append({
                'url': url,  # URL –∑–∞–ø—Ä–æ—Å–∞
                'status': response.status_code,  # —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞
                'length': len(response.text)  # –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
            })
            print(f"‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ {url} –∑–∞–≤–µ—Ä—à—ë–Ω")  # –ª–æ–≥–∏—Ä—É–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
        except Exception as e:
            results.append({'url': url, 'error': str(e)})  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –æ—à–∏–±–∫—É
    
    sync_time = time.time() - start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è
    print(f"–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∑–∞ {sync_time:.2f} —Å–µ–∫—É–Ω–¥")  # –≤—ã–≤–æ–¥–∏–º –≤—Ä–µ–º—è
    
    return results  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

# –ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π
if __name__ == "__main__":
    print("üî• –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–æ–≤:")
    
    # –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
    print("\nüì° –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã:")
    sync_results = sync_http_requests()  # –≤—ã–ø–æ–ª–Ω—è–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
    
    # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã  
    print("\n‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:")
    asyncio.run(main())  # –∑–∞–ø—É—Å–∫–∞–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≥–ª–∞–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
```

## üîÑ 3. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã

### üé≠ –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã - –æ—Å–Ω–æ–≤–∞ –≤—Å–µ–≥–æ

```python
from typing import Iterator, Generator, Iterable, Any
import sys

# –ü—Ä–æ—Å—Ç–æ–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å
class CountdownIterator:
    """–ò—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞"""
    
    def __init__(self, start: int):
        self.start = start  # –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        self.current = start  # —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    
    def __iter__(self) -> Iterator[int]:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–µ–±—è –∫–∞–∫ –∏—Ç–µ—Ä–∞—Ç–æ—Ä"""
        return self  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–∞–º –æ–±—ä–µ–∫—Ç
    
    def __next__(self) -> int:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç"""
        if self.current <= 0:  # –µ—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ –Ω—É–ª—è
            raise StopIteration  # –∑–∞–≤–µ—Ä—à–∞–µ–º –∏—Ç–µ—Ä–∞—Ü–∏—é
        
        value = self.current  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        self.current -= 1  # —É–º–µ–Ω—å—à–∞–µ–º —Å—á—ë—Ç—á–∏–∫
        return value  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ

# –ò—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –∫–ª–∞—Å—Å (–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞!)
class NumberRange:
    """–ò—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –∫–ª–∞—Å—Å –¥–ª—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —á–∏—Å–µ–ª"""
    
    def __init__(self, start: int, end: int, step: int = 1):
        self.start = start  # –Ω–∞—á–∞–ª–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
        self.end = end  # –∫–æ–Ω–µ—Ü –¥–∏–∞–ø–∞–∑–æ–Ω–∞
        self.step = step  # —à–∞–≥
    
    def __iter__(self) -> Iterator[int]:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ–≤—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ"""
        return NumberRangeIterator(self.start, self.end, self.step)  # —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä

class NumberRangeIterator:
    """–ò—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è NumberRange"""
    
    def __init__(self, start: int, end: int, step: int):
        self.current = start  # —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è
        self.end = end  # –∫–æ–Ω–µ—Ü –¥–∏–∞–ø–∞–∑–æ–Ω–∞
        self.step = step  # —à–∞–≥
    
    def __iter__(self) -> Iterator[int]:
        return self  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–µ–±—è
    
    def __next__(self) -> int:
        if self.current >= self.end:  # –µ—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ –∫–æ–Ω—Ü–∞
            raise StopIteration  # –∑–∞–≤–µ—Ä—à–∞–µ–º –∏—Ç–µ—Ä–∞—Ü–∏—é
        
        value = self.current  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        self.current += self.step  # —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –Ω–∞ —à–∞–≥
        return value  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤
def demonstrate_iterators():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º–∏"""
    
    print("üî¢ –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á—ë—Ç:")
    countdown = CountdownIterator(5)  # —Å–æ–∑–¥–∞—ë–º –∏—Ç–µ—Ä–∞—Ç–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞
    
    for num in countdown:  # –∏—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è
        print(f"  {num}")  # –≤—ã–≤–æ–¥–∏–º —á–∏—Å–ª–æ
    
    print("üöÄ –ü—É—Å–∫!")  # —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    
    print("\nüìä –î–∏–∞–ø–∞–∑–æ–Ω —á–∏—Å–µ–ª:")
    number_range = NumberRange(0, 10, 2)  # —á—ë—Ç–Ω—ã–µ —á–∏—Å–ª–∞ –æ—Ç 0 –¥–æ 10
    
    for num in number_range:  # –∏—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è
        print(f"  {num}")  # –≤—ã–≤–æ–¥–∏–º —á–∏—Å–ª–æ
    
    # –ú–æ–∂–µ–º –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä)
    print("\nüîÑ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è:")
    for num in number_range:  # –∏—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è —Å–Ω–æ–≤–∞
        print(f"  {num}")  # –≤—ã–≤–æ–¥–∏–º —á–∏—Å–ª–æ —Å–Ω–æ–≤–∞
```

### ‚ö° –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã - –º–æ—â—å Python

```python
# –ü—Ä–æ—Å—Ç–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
def fibonacci_generator(limit: int) -> Generator[int, None, None]:
    """–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞"""
    a, b = 0, 1  # –ø–µ—Ä–≤—ã–µ –¥–≤–∞ —á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏
    count = 0  # —Å—á—ë—Ç—á–∏–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–∏—Å–µ–ª
    
    while count < limit:  # –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–ª–∏ –ª–∏–º–∏—Ç–∞
        yield a  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏
        a, b = b, a + b  # –≤—ã—á–∏—Å–ª—è–µ–º —Å–ª–µ–¥—É—é—â–∏–µ —á–∏—Å–ª–∞
        count += 1  # —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫

# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
def stateful_generator() -> Generator[str, str, None]:
    """–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–∞–Ω–Ω—ã–µ"""
    name = "–ê–Ω–æ–Ω–∏–º"  # –Ω–∞—á–∞–ª—å–Ω–æ–µ –∏–º—è
    
    while True:  # –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
        received = yield f"–ü—Ä–∏–≤–µ—Ç, {name}!"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –ø—Ä–∏–Ω–∏–º–∞–µ–º –¥–∞–Ω–Ω—ã–µ
        
        if received is not None:  # –µ—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ
            name = received  # –æ–±–Ω–æ–≤–ª—è–µ–º –∏–º—è

# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —á—Ç–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
def read_large_file_lines(filename: str) -> Generator[str, None, None]:
    """–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤"""
    try:
        with open(filename, 'r', encoding='utf-8') as file:  # –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª
            for line_number, line in enumerate(file, 1):  # —á–∏—Ç–∞–µ–º –ø–æ—Å—Ç—Ä–æ—á–Ω–æ —Å –Ω–æ–º–µ—Ä–∞–º–∏
                yield f"–°—Ç—Ä–æ–∫–∞ {line_number}: {line.strip()}"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å –Ω–æ–º–µ—Ä–æ–º
    except FileNotFoundError:
        yield f"–§–∞–π–ª {filename} –Ω–µ –Ω–∞–π–¥–µ–Ω"  # –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É

# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤—ã—Ä–∞–∂–µ–Ω–∏–π - –∫—Ä–∞—Ç–∫–∞—è —Ñ–æ—Ä–º–∞
def generator_expressions_demo():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π"""
    
    # –û–±—ã—á–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–≤–∞–¥—Ä–∞—Ç–æ–≤
    squares_gen = (x**2 for x in range(10))  # –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –æ—Ç 0 –¥–æ 9
    print("–ö–≤–∞–¥—Ä–∞—Ç—ã (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä):")
    for square in squares_gen:  # –∏—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è –ø–æ –∫–≤–∞–¥—Ä–∞—Ç–∞–º
        print(f"  {square}")  # –≤—ã–≤–æ–¥–∏–º –∫–≤–∞–¥—Ä–∞—Ç
    
    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º
    even_squares = (x**2 for x in range(20) if x % 2 == 0)  # –∫–≤–∞–¥—Ä–∞—Ç—ã —á—ë—Ç–Ω—ã—Ö —á–∏—Å–µ–ª
    print("\n–ö–≤–∞–¥—Ä–∞—Ç—ã —á—ë—Ç–Ω—ã—Ö —á–∏—Å–µ–ª:")
    for square in even_squares:  # –∏—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è –ø–æ –∫–≤–∞–¥—Ä–∞—Ç–∞–º —á—ë—Ç–Ω—ã—Ö
        print(f"  {square}")  # –≤—ã–≤–æ–¥–∏–º –∫–≤–∞–¥—Ä–∞—Ç
    
    # –í–ª–æ–∂–µ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
    matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]  # –º–∞—Ç—Ä–∏—Ü–∞ 3x3
    flattened = (item for row in matrix for item in row)  # "—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º" –º–∞—Ç—Ä–∏—Ü—É
    print(f"\n–†–∞–∑–≤—ë—Ä–Ω—É—Ç–∞—è –º–∞—Ç—Ä–∏—Ü–∞: {list(flattened)}")  # –≤—ã–≤–æ–¥–∏–º —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—É—é –º–∞—Ç—Ä–∏—Ü—É

# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å yield from
def advanced_generator_demo():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤"""
    
    def sub_generator(items: list) -> Generator[Any, None, None]:
        """–ü–æ–¥–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä"""
        for item in items:  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º
            yield f"–ü–æ–¥–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä: {item}"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º
    
    def main_generator() -> Generator[Any, None, None]:
        """–ì–ª–∞–≤–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π yield from"""
        yield "–ù–∞—á–∞–ª–æ –≥–ª–∞–≤–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        
        # yield from –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–¥–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É
        yield from sub_generator([1, 2, 3])  # –¥–µ–ª–µ–≥–∏—Ä—É–µ–º –ø–æ–¥–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É
        yield from sub_generator(['a', 'b', 'c'])  # –µ—â—ë –æ–¥–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
        
        yield "–ö–æ–Ω–µ—Ü –≥–ª–∞–≤–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞"  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    
    print("üîó –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è yield from:")
    for item in main_generator():  # –∏—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è –ø–æ –≥–ª–∞–≤–Ω–æ–º—É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É
        print(f"  {item}")  # –≤—ã–≤–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏: —Å–ø–∏—Å–æ–∫ vs –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
def memory_comparison():
    """–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ —Å–ø–∏—Å–∫–∞–º–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏"""
    
    # –°–æ–∑–¥–∞—ë–º –±–æ–ª—å—à–æ–π —Å–ø–∏—Å–æ–∫
    big_list = [x**2 for x in range(100000)]  # —Å–ø–∏—Å–æ–∫ –∏–∑ 100,000 –∫–≤–∞–¥—Ä–∞—Ç–æ–≤
    list_memory = sys.getsizeof(big_list)  # —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ –≤ –ø–∞–º—è—Ç–∏
    
    # –°–æ–∑–¥–∞—ë–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö
    big_generator = (x**2 for x in range(100000))  # –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Ö –∂–µ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤
    generator_memory = sys.getsizeof(big_generator)  # —Ä–∞–∑–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –≤ –ø–∞–º—è—Ç–∏
    
    print(f"üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:")
    print(f"  –°–ø–∏—Å–æ–∫ (100,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤): {list_memory:,} –±–∞–π—Ç")  # –≤—ã–≤–æ–¥–∏–º —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞
    print(f"  –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä: {generator_memory:,} –±–∞–π—Ç")  # –≤—ã–≤–æ–¥–∏–º —Ä–∞–∑–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
    print(f"  –≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏: {(list_memory - generator_memory):,} –±–∞–π—Ç")  # –≤—ã–≤–æ–¥–∏–º —ç–∫–æ–Ω–æ–º–∏—é
    print(f"  –í–æ —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –º–µ–Ω—å—à–µ: {list_memory / generator_memory:.1f}x")  # –≤—ã–≤–æ–¥–∏–º –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å

# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
def api_pages_generator(base_url: str, total_pages: int) -> Generator[dict, None, None]:
    """–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü API"""
    
    for page in range(1, total_pages + 1):  # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
        # –°–∏–º—É–ª–∏—Ä—É–µ–º API –æ—Ç–≤–µ—Ç
        simulated_response = {
            'page': page,  # –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            'data': [f'item_{page}_{i}' for i in range(5)],  # –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            'has_next': page < total_pages  # –µ—Å—Ç—å –ª–∏ —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
        }
        
        print(f"üì° –ó–∞–≥—Ä—É–∑–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É {page}/{total_pages}")  # –ª–æ–≥–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É
        yield simulated_response  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

# –ì–ª–∞–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
def main_generators_demo():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤"""
    
    print("üî¢ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –§–∏–±–æ–Ω–∞—á—á–∏:")
    fib_gen = fibonacci_generator(10)  # —Å–æ–∑–¥–∞—ë–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä 10 —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏
    
    for fib_num in fib_gen:  # –∏—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è –ø–æ —á–∏—Å–ª–∞–º –§–∏–±–æ–Ω–∞—á—á–∏
        print(f"  {fib_num}")  # –≤—ã–≤–æ–¥–∏–º —á–∏—Å–ª–æ
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    print("üí¨ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:")
    state_gen = stateful_generator()  # —Å–æ–∑–¥–∞—ë–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
    
    print(f"  {next(state_gen)}")  # –ø–µ—Ä–≤–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    print(f"  {state_gen.send('–ê–ª–µ–∫—Å–µ–π')}")  # –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–º—è
    print(f"  {state_gen.send('–ú–∞—Ä–∏—è')}")  # –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥—Ä—É–≥–æ–µ –∏–º—è
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    print("üìÑ –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º:")
    # –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
    test_file = "test_generator.txt"
    with open(test_file, 'w', encoding='utf-8') as f:
        f.write("–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞\n")
        f.write("–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞\n")
        f.write("–¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞\n")
    
    # –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º
    for line in read_large_file_lines(test_file):
        print(f"  {line}")
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    generator_expressions_demo()  # –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    advanced_generator_demo()  # –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    memory_comparison()  # —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–∞–º—è—Ç—å
    
    print("\n" + "="*50 + "\n")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    print("üåê API –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä:")
    for page_data in api_pages_generator("https://api.example.com", 3):
        print(f"  –°—Ç—Ä–∞–Ω–∏—Ü–∞ {page_data['page']}: {len(page_data['data'])} —ç–ª–µ–º–µ–Ω—Ç–æ–≤")

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å—ë
if __name__ == "__main__":
    print("üé≠ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤:")
    demonstrate_iterators()  # –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã
    
    print("\n" + "="*60 + "\n")  # –±–æ–ª—å—à–æ–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    print("‚ö° –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤:")
    main_generators_demo()  # –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
```

## üß† 4. –ú–µ—Ç–∞–∫–ª–∞—Å—Å—ã –∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã

### üé™ –ú–µ—Ç–∞–∫–ª–∞—Å—Å—ã - Python –º–∞–≥–∏—è

```python
from typing import Any, Dict, Type
import functools

# –ü—Ä–æ—Å—Ç–æ–π –º–µ—Ç–∞–∫–ª–∞—Å—Å
class SingletonMeta(type):
    """–ú–µ—Ç–∞–∫–ª–∞—Å—Å –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –°–∏–Ω–≥–ª—Ç–æ–Ω"""
    _instances: Dict[Type, Any] = {}  # —Å–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
    
    def __call__(cls, *args, **kwargs):
        """–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞"""
        if cls not in cls._instances:  # –µ—Å–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –µ—â—ë –Ω–µ—Ç
            # –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
            instance = super().__call__(*args, **kwargs)
            cls._instances[cls] = instance  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä
        return cls._instances[cls]  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä

class DatabaseConnection(metaclass=SingletonMeta):
    """–ü—Ä–∏–º–µ—Ä –∫–ª–∞—Å—Å–∞ —Å –º–µ—Ç–∞–∫–ª–∞—Å—Å–æ–º Singleton"""
    
    def __init__(self):
        self.connection_id = id(self)  # —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        print(f"üîå –°–æ–∑–¥–∞–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å ID: {self.connection_id}")
    
    def query(self, sql: str):
        """–ò–º–∏—Ç–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –∑–∞–ø—Ä–æ—Å–∞"""
        return f"–í—ã–ø–æ–ª–Ω–µ–Ω –∑–∞–ø—Ä–æ—Å: {sql}"

# –ú–µ—Ç–∞–∫–ª–∞—Å—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–æ–≤
class RegistryMeta(type):
    """–ú–µ—Ç–∞–∫–ª–∞—Å—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤"""
    registry = {}  # —Ä–µ–µ—Å—Ç—Ä –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤
    
    def __new__(mcs, name, bases, namespace, **kwargs):
        """–°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –µ–≥–æ"""
        cls = super().__new__(mcs, name, bases, namespace)
        
        # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–ª–∞—Å—Å (–∫—Ä–æ–º–µ –±–∞–∑–æ–≤—ã—Ö)
        if name != 'RegisteredBase':
            mcs.registry[name] = cls
            print(f"üìù –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∫–ª–∞—Å—Å: {name}")
        
        return cls
    
    @classmethod
    def get_registered_classes(mcs):
        """–í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã"""
        return mcs.registry.copy()

class RegisteredBase(metaclass=RegistryMeta):
    """–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—ã—Ö –∫–ª–∞—Å—Å–æ–≤"""
    pass

class UserModel(RegisteredBase):
    """–ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    def __init__(self, name: str):
        self.name = name

class ProductModel(RegisteredBase):
    """–ú–æ–¥–µ–ª—å —Ç–æ–≤–∞—Ä–∞"""
    def __init__(self, title: str, price: float):
        self.title = title
        self.price = price

# –ú–µ—Ç–∞–∫–ª–∞—Å—Å –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
class ValidatedMeta(type):
    """–ú–µ—Ç–∞–∫–ª–∞—Å—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤"""
    
    def __new__(mcs, name, bases, namespace, **kwargs):
        """–°–æ–∑–¥–∞—ë–º –∫–ª–∞—Å—Å —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π"""
        # –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        validators = {}
        for key, value in namespace.items():
            if hasattr(value, '_validator'):  # –µ—Å–ª–∏ —É –∞—Ç—Ä–∏–±—É—Ç–∞ –µ—Å—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
                validators[key] = value._validator
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –≤ –∫–ª–∞—Å—Å–µ
        namespace['_validators'] = validators
        
        return super().__new__(mcs, name, bases, namespace)

def validated_field(validator_func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞–ª–∏–¥–∏—Ä—É–µ–º–æ–≥–æ –ø–æ–ª—è"""
    def field_property(self):
        return getattr(self, f'_{self._field_name}', None)
    
    def field_setter(self, value):
        if not validator_func(value):  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
            raise ValueError(f"–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: {value}")
        setattr(self, f'_{self._field_name}', value)
    
    # –°–æ–∑–¥–∞—ë–º —Å–≤–æ–π—Å—Ç–≤–æ
    prop = property(field_property, field_setter)
    prop._validator = validator_func  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
    return prop

class Person(metaclass=ValidatedMeta):
    """–ö–ª–∞—Å—Å —Å –≤–∞–ª–∏–¥–∏—Ä—É–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏"""
    
    @validated_field
    def age(self):
        return lambda x: isinstance(x, int) and 0 <= x <= 150
    
    @validated_field
    def email(self):
        return lambda x: isinstance(x, str) and '@' in x
    
    def __init__(self, age: int, email: str):
        self.age = age  # –±—É–¥–µ—Ç –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å—Å—è
        self.email = email  # –±—É–¥–µ—Ç –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å—Å—è

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–µ—Ç–∞–∫–ª–∞—Å—Å–æ–≤
def demonstrate_metaclasses():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –º–µ—Ç–∞–∫–ª–∞—Å—Å–æ–≤"""
    
    print("üé™ –ú–µ—Ç–∞–∫–ª–∞—Å—Å Singleton:")
    
    # –°–æ–∑–¥–∞—ë–º –Ω–µ—Å–∫–æ–ª—å–∫–æ "—Ä–∞–∑–Ω—ã—Ö" –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
    db1 = DatabaseConnection()  # –ø–µ—Ä–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    db2 = DatabaseConnection()  # "–≤—Ç–æ—Ä–æ–µ" –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    db3 = DatabaseConnection()  # "—Ç—Ä–µ—Ç—å–µ" –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    
    print(f"db1 is db2: {db1 is db2}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç
    print(f"db1 is db3: {db1 is db3}")  # –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç
    
    print("\nüìù –ú–µ—Ç–∞–∫–ª–∞—Å—Å Registry:")
    
    # –°–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
    registered = RegistryMeta.get_registered_classes()
    for name, cls in registered.items():
        print(f"  {name}: {cls}")
    
    print("\n‚úÖ –ú–µ—Ç–∞–∫–ª–∞—Å—Å Validation:")
    
    try:
        person = Person(age=25, email="test@example.com")  # –≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        print("‚úÖ –°–æ–∑–¥–∞–Ω –≤–∞–ª–∏–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç Person")
        
        person.age = 30  # –≤–∞–ª–∏–¥–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
        print("‚úÖ –í–æ–∑—Ä–∞—Å—Ç —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω—ë–Ω")
        
        person.email = "invalid-email"  # –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π email
    except ValueError as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {e}")
    
    try:
        invalid_person = Person(age=-5, email="test@example.com")  # –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç
    except ValueError as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏: {e}")
```

### üéõÔ∏è –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã - –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞

```python
import weakref
from typing import Any, Dict, Optional

# –ü—Ä–æ—Å—Ç–æ–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
class LoggedAttribute:
    """–î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –∞—Ç—Ä–∏–±—É—Ç—É"""
    
    def __init__(self, name: str, initial_value: Any = None):
        self.name = name  # –∏–º—è –∞—Ç—Ä–∏–±—É—Ç–∞
        self.initial_value = initial_value  # –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º WeakKeyDictionary –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
        self.data: weakref.WeakKeyDictionary = weakref.WeakKeyDictionary()
    
    def __get__(self, obj: Any, objtype: Optional[type] = None) -> Any:
        """–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞"""
        if obj is None:  # –≤—ã–∑–æ–≤ –∏–∑ –∫–ª–∞—Å—Å–∞, –∞ –Ω–µ –∏–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
            return self
        
        value = self.data.get(obj, self.initial_value)  # –ø–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
        print(f"üìñ –ß—Ç–µ–Ω–∏–µ {self.name}: {value}")  # –ª–æ–≥–∏—Ä—É–µ–º —á—Ç–µ–Ω–∏–µ
        return value
    
    def __set__(self, obj: Any, value: Any) -> None:
        """–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞"""
        old_value = self.data.get(obj, self.initial_value)  # –ø–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        self.data[obj] = value  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        print(f"‚úèÔ∏è –ò–∑–º–µ–Ω–µ–Ω–∏–µ {self.name}: {old_value} ‚Üí {value}")  # –ª–æ–≥–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ
    
    def __delete__(self, obj: Any) -> None:
        """–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∞—Ç—Ä–∏–±—É—Ç–∞"""
        if obj in self.data:
            value = self.data[obj]  # –ø–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
            del self.data[obj]  # —É–¥–∞–ª—è–µ–º –∏–∑ —Å–ª–æ–≤–∞—Ä—è
            print(f"üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ {self.name}: {value}")  # –ª–æ–≥–∏—Ä—É–µ–º —É–¥–∞–ª–µ–Ω–∏–µ

# –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
class ValidatedDescriptor:
    """–î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∑–Ω–∞—á–µ–Ω–∏–π"""
    
    def __init__(self, name: str, validator_func, error_message: str = "–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"):
        self.name = name  # –∏–º—è –∞—Ç—Ä–∏–±—É—Ç–∞
        self.validator = validator_func  # —Ñ—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        self.error_message = error_message  # —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
        self.data: weakref.WeakKeyDictionary = weakref.WeakKeyDictionary()
    
    def __get__(self, obj: Any, objtype: Optional[type] = None) -> Any:
        if obj is None:
            return self
        return self.data.get(obj)
    
    def __set__(self, obj: Any, value: Any) -> None:
        if not self.validator(value):  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
            raise ValueError(f"{self.error_message}: {value}")
        self.data[obj] = value

# –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
class ReadOnlyDescriptor:
    """–î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏)"""
    
    def __init__(self, name: str):
        self.name = name
        self.data: weakref.WeakKeyDictionary = weakref.WeakKeyDictionary()
        self.initialized: weakref.WeakSet = weakref.WeakSet()
    
    def __get__(self, obj: Any, objtype: Optional[type] = None) -> Any:
        if obj is None:
            return self
        
        if obj not in self.data:
            raise AttributeError(f"–ê—Ç—Ä–∏–±—É—Ç {self.name} –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω")
        
        return self.data[obj]
    
    def __set__(self, obj: Any, value: Any) -> None:
        if obj in self.initialized:  # –µ—Å–ª–∏ —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
            raise AttributeError(f"–ê—Ç—Ä–∏–±—É—Ç {self.name} —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è")
        
        self.data[obj] = value  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
        self.initialized.add(obj)  # –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π

# –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
class TypedDescriptor:
    """–î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–∏–ø–æ–≤"""
    
    def __init__(self, name: str, expected_type: type):
        self.name = name
        self.expected_type = expected_type
        self.data: weakref.WeakKeyDictionary = weakref.WeakKeyDictionary()
    
    def __get__(self, obj: Any, objtype: Optional[type] = None) -> Any:
        if obj is None:
            return self
        return self.data.get(obj)
    
    def __set__(self, obj: Any, value: Any) -> None:
        if not isinstance(value, self.expected_type):  # –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø
            raise TypeError(
                f"–ê—Ç—Ä–∏–±—É—Ç {self.name} –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∏–ø–∞ {self.expected_type.__name__}, "
                f"–ø–æ–ª—É—á–µ–Ω {type(value).__name__}"
            )
        self.data[obj] = value

# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤
class BankAccount:
    """–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á—ë—Ç —Å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏"""
    
    # –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤
    account_id = ReadOnlyDescriptor("account_id")  # ID —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
    balance = ValidatedDescriptor(
        "balance", 
        lambda x: isinstance(x, (int, float)) and x >= 0,
        "–ë–∞–ª–∞–Ω—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º"
    )
    owner_name = TypedDescriptor("owner_name", str)  # –∏–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ - —Å—Ç—Ä–æ–∫–∞
    transaction_log = LoggedAttribute("transaction_log", [])  # –ª–æ–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
    
    def __init__(self, account_id: str, owner_name: str, initial_balance: float = 0.0):
        self.account_id = account_id  # ID —Å—á—ë—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è)
        self.owner_name = owner_name  # –∏–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
        self.balance = initial_balance  # –Ω–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
        self.transaction_log = []  # –ª–æ–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
    
    def deposit(self, amount: float):
        """–í–Ω–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞ —Å—á—ë—Ç"""
        if amount <= 0:
            raise ValueError("–°—É–º–º–∞ –¥–µ–ø–æ–∑–∏—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π")
        
        self.balance += amount  # —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –±–∞–ª–∞–Ω—Å
        self.transaction_log.append(f"–î–µ–ø–æ–∑–∏—Ç: +{amount}")  # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
    
    def withdraw(self, amount: float):
        """–°–Ω—è—Ç—å –¥–µ–Ω—å–≥–∏ —Å–æ —Å—á—ë—Ç–∞"""
        if amount <= 0:
            raise ValueError("–°—É–º–º–∞ —Å–Ω—è—Ç–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π")
        
        if self.balance < amount:
            raise ValueError("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤")
        
        self.balance -= amount  # —É–º–µ–Ω—å—à–∞–µ–º –±–∞–ª–∞–Ω—Å
        self.transaction_log.append(f"–°–Ω—è—Ç–∏–µ: -{amount}")  # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤
def demonstrate_descriptors():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤"""
    
    print("üè¶ –°–æ–∑–¥–∞—ë–º –±–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á—ë—Ç:")
    account = BankAccount("ACC-001", "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤", 1000.0)
    
    print(f"\nüí∞ –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: {account.balance}")
    
    print("\nüìà –í—ã–ø–æ–ª–Ω—è–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏:")
    account.deposit(500.0)  # –¥–µ–ø–æ–∑–∏—Ç
    account.withdraw(200.0)  # —Å–Ω—è—Ç–∏–µ
    
    print(f"\nüìä –ò—Ç–æ–≥–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: {account.balance}")
    
    print("\nüîí –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:")
    
    try:
        account.account_id = "NEW-ID"  # –ø–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å readonly –ø–æ–ª–µ
    except AttributeError as e:
        print(f"‚ùå {e}")
    
    try:
        account.balance = -100  # –ø–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
    except ValueError as e:
        print(f"‚ùå {e}")
    
    try:
        account.owner_name = 12345  # –ø–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø
    except TypeError as e:
        print(f"‚ùå {e}")
    
    print(f"\nüÜî ID —Å—á—ë—Ç–∞: {account.account_id}")  # —á–∏—Ç–∞–µ–º readonly –ø–æ–ª–µ

# –ó–∞–ø—É—Å–∫–∞–µ–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
if __name__ == "__main__":
    print("üß† –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–µ—Ç–∞–∫–ª–∞—Å—Å–æ–≤:")
    demonstrate_metaclasses()  # –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –º–µ—Ç–∞–∫–ª–∞—Å—Å—ã
    
    print("\n" + "="*60 + "\n")  # –±–æ–ª—å—à–æ–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    
    print("üéõÔ∏è –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤:")
    demonstrate_descriptors()  # –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã
```

## üèóÔ∏è 5. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã

### üö™ with –±–ª–æ–∫–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

```python
import os
import sqlite3
import threading
import time
from contextlib import contextmanager, ExitStack
from typing import Any, Iterator

# –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å
class FileManager:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏"""
    
    def __init__(self, filename: str, mode: str = 'r'):
        self.filename = filename  # –∏–º—è —Ñ–∞–π–ª–∞
        self.mode = mode  # —Ä–µ–∂–∏–º –æ—Ç–∫—Ä—ã—Ç–∏—è
        self.file = None  # —Ñ–∞–π–ª–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
    
    def __enter__(self):
        """–í—Ö–æ–¥–∏–º –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç"""
        print(f"üìÇ –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª: {self.filename}")
        self.file = open(self.filename, self.mode, encoding='utf-8')
        return self.file  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ–∞–π–ª–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
    
    def __exit__(self, exc_type, exc_value, traceback):
        """–í—ã—Ö–æ–¥–∏–º –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"""
        if self.file:
            print(f"üìÑ –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª: {self.filename}")
            self.file.close()
        
        # –ï—Å–ª–∏ –±—ã–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –ª–æ–≥–∏—Ä—É–µ–º –µ–≥–æ
        if exc_type is not None:
            print(f"‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {exc_type.__name__}: {exc_value}")
            return False  # –Ω–µ –ø–æ–¥–∞–≤–ª—è–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
        
        return True  # –≤—Å—ë –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ

# –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
class DatabaseManager:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SQLite –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö"""
    
    def __init__(self, db_path: str):
        self.db_path = db_path
        self.connection = None
        self.cursor = None
    
    def __enter__(self):
        """–í—Ö–æ–¥–∏–º –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç - –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ë–î"""
        print(f"üóÑÔ∏è –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ë–î: {self.db_path}")
        self.connection = sqlite3.connect(self.db_path)
        self.cursor = self.connection.cursor()
        return self.cursor  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫—É—Ä—Å–æ—Ä
    
    def __exit__(self, exc_type, exc_value, traceback):
        """–í—ã—Ö–æ–¥–∏–º –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"""
        if exc_type is None:
            # –ï—Å–ª–∏ –Ω–µ –±—ã–ª–æ –æ—à–∏–±–æ–∫, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
            print("üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î")
            self.connection.commit()
        else:
            # –ï—Å–ª–∏ –±—ã–ª–∞ –æ—à–∏–±–∫–∞, –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
            print("‚è™ –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é")
            self.connection.rollback()
        
        if self.connection:
            print("üîå –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î")
            self.connection.close()
        
        return False  # –Ω–µ –ø–æ–¥–∞–≤–ª—è–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è

# –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
class TimerManager:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"""
    
    def __init__(self, description: str = "–û–ø–µ—Ä–∞—Ü–∏—è"):
        self.description = description  # –æ–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
        self.start_time = None
        self.end_time = None
    
    def __enter__(self):
        print(f"‚è±Ô∏è –ù–∞—á–∏–Ω–∞–µ–º: {self.description}")
        self.start_time = time.time()  # –∑–∞—Å–µ–∫–∞–µ–º –≤—Ä–µ–º—è
        return self
    
    def __exit__(self, exc_type, exc_value, traceback):
        self.end_time = time.time()  # —Ñ–∏–∫—Å–∏—Ä—É–µ–º –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
        duration = self.end_time - self.start_time  # –≤—ã—á–∏—Å–ª—è–µ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        
        if exc_type is None:
            print(f"‚úÖ –ó–∞–≤–µ—Ä—à–∏–ª–∏: {self.description} –∑–∞ {duration:.3f} —Å–µ–∫—É–Ω–¥")
        else:
            print(f"‚ùå –ü—Ä–µ—Ä–≤–∞–ª–∏: {self.description} —á–µ—Ä–µ–∑ {duration:.3f} —Å–µ–∫—É–Ω–¥")
        
        return False  # –Ω–µ –ø–æ–¥–∞–≤–ª—è–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    
    @property
    def elapsed_time(self) -> float:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"""
        if self.start_time and self.end_time:
            return self.end_time - self.start_time
        return 0.0

# –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å –ø–æ–º–æ—â—å—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞
@contextmanager
def temporary_directory(base_path: str = "/tmp") -> Iterator[str]:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏"""
    import tempfile
    import shutil
    
    # –°–æ–∑–¥–∞—ë–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
    temp_dir = tempfile.mkdtemp(dir=base_path)
    print(f"üìÅ –°–æ–∑–¥–∞–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é: {temp_dir}")
    
    try:
        yield temp_dir  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
    finally:
        # –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
        if os.path.exists(temp_dir):
            shutil.rmtree(temp_dir)
            print(f"üóëÔ∏è –£–¥–∞–ª–∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é: {temp_dir}")

@contextmanager
def thread_lock_manager(lock: threading.Lock) -> Iterator[None]:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏"""
    print("üîí –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É")
    acquired = lock.acquire(timeout=5)  # –ø—ã—Ç–∞–µ–º—Å—è –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É
    
    if not acquired:
        raise RuntimeError("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É")
    
    try:
        print("‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞—Ö–≤–∞—á–µ–Ω–∞")
        yield  # –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–¥ –≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
    finally:
        print("üîì –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É")
        lock.release()

@contextmanager
def suppress_exceptions(*exception_types) -> Iterator[None]:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π"""
    try:
        yield
    except exception_types as e:
        print(f"üîá –ü–æ–¥–∞–≤–ª–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ: {type(e).__name__}: {e}")
    except Exception as e:
        # –î—Ä—É–≥–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–µ –ø–æ–¥–∞–≤–ª—è–µ–º
        print(f"‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ: {type(e).__name__}: {e}")
        raise

# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä —Å ExitStack
def demonstrate_exit_stack():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è ExitStack –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏"""
    
    print("üìö –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è ExitStack:")
    
    # –°–æ–∑–¥–∞—ë–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã
    filenames = ["file1.txt", "file2.txt", "file3.txt"]
    
    # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    for i, filename in enumerate(filenames):
        with open(filename, 'w', encoding='utf-8') as f:
            f.write(f"–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ {i + 1}\n")
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º ExitStack –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏
    with ExitStack() as stack:
        # –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã —Å –ø–æ–º–æ—â—å—é ExitStack
        files = []
        for filename in filenames:
            file = stack.enter_context(open(filename, 'r', encoding='utf-8'))
            files.append(file)
        
        # –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã
        timer = stack.enter_context(TimerManager("–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤"))
        
        # –†–∞–±–æ—Ç–∞–µ–º —Å —Ñ–∞–π–ª–∞–º–∏
        print("üìñ –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª—ã:")
        for i, file in enumerate(files):
            content = file.read().strip()
            print(f"  {filenames[i]}: {content}")
    
    # –í—Å–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è ExitStack
    print("‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–∫—Ä—ã—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏")
    
    # –£–¥–∞–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
    for filename in filenames:
        if os.path.exists(filename):
            os.remove(filename)

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
def demonstrate_context_managers():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤"""
    
    print("üìÇ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ñ–∞–π–ª–æ–≤:")
    
    # –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
    test_file = "test_context.txt"
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à FileManager
    with FileManager(test_file, 'w') as file:
        file.write("–ü—Ä–∏–≤–µ—Ç –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞!\n")
        file.write("–§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä–æ–µ—Ç—Å—è\n")
    
    # –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª –æ–±—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
    with FileManager(test_file, 'r') as file:
        content = file.read()
        print(f"–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:\n{content}")
    
    print("\n‚è±Ô∏è –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏:")
    
    # –ò–∑–º–µ—Ä—è–µ–º –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    with TimerManager("–°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è") as timer:
        # –ò–º–∏—Ç–∏—Ä—É–µ–º –¥–æ–ª–≥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
        total = 0
        for i in range(1000000):
            total += i ** 2
        print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π: {total}")
    
    print(f"–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {timer.elapsed_time:.3f} —Å–µ–∫—É–Ω–¥")
    
    print("\nüóÑÔ∏è –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:")
    
    db_file = "test.db"
    
    # –°–æ–∑–¥–∞—ë–º –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
    with DatabaseManager(db_file) as cursor:
        # –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY,
                name TEXT NOT NULL,
                age INTEGER
            )
        ''')
        
        # –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
        cursor.execute("INSERT INTO users (name, age) VALUES (?, ?)", ("–ê–ª–µ–∫—Å–µ–π", 30))
        cursor.execute("INSERT INTO users (name, age) VALUES (?, ?)", ("–ú–∞—Ä–∏—è", 25))
        
        # –ß–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ
        cursor.execute("SELECT * FROM users")
        users = cursor.fetchall()
        
        print("üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:")
        for user_id, name, age in users:
            print(f"  {user_id}: {name}, {age} –ª–µ—Ç")
    
    print("\nüìÅ –í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:")
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
    with temporary_directory() as temp_dir:
        # –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
        temp_file = os.path.join(temp_dir, "temp_file.txt")
        
        with open(temp_file, 'w', encoding='utf-8') as f:
            f.write("–í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª")
        
        print(f"–°–æ–∑–¥–∞–ª–∏ —Ñ–∞–π–ª: {temp_file}")
        print(f"–§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {os.path.exists(temp_file)}")
    
    # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç—Å—è
    print(f"–í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞: {not os.path.exists(temp_dir)}")
    
    print("\nüîá –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π:")
    
    # –ü–æ–¥–∞–≤–ª—è–µ–º –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    with suppress_exceptions(ValueError, TypeError):
        print("–í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å ValueError –∏–ª–∏ TypeError")
        # –≠—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–¥–∞–≤–ª–µ–Ω–æ
        raise ValueError("–¢–µ—Å—Ç–æ–≤–∞—è –æ—à–∏–±–∫–∞")
    
    print("–ö–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ –ø–æ–¥–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è")
    
    print("\nüîí –†–∞–±–æ—Ç–∞ —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏:")
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏
    lock = threading.Lock()
    
    def worker_with_lock(worker_id: int):
        """–†–∞–±–æ—á–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π"""
        with thread_lock_manager(lock):
            print(f"üõ†Ô∏è –†–∞–±–æ—á–∏–π {worker_id} –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é —Å–µ–∫—Ü–∏—é")
            time.sleep(1)  # –∏–º–∏—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É
            print(f"‚úÖ –†–∞–±–æ—á–∏–π {worker_id} –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É")
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤
    threads = []
    for i in range(3):
        thread = threading.Thread(target=worker_with_lock, args=(i + 1,))
        threads.append(thread)
        thread.start()
    
    # –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤
    for thread in threads:
        thread.join()
    
    # –£–¥–∞–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
    for filename in [test_file, db_file]:
        if os.path.exists(filename):
            os.remove(filename)

# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä: –∫–∞—Å—Ç–æ–º–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤
class ResourcePool:
    """–ü—É–ª —Ä–µ—Å—É—Ä—Å–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º"""
    
    def __init__(self, max_resources: int = 5):
        self.max_resources = max_resources  # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–æ–≤
        self.available_resources = list(range(max_resources))  # –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
        self.used_resources = set()  # –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã
        self.lock = threading.Lock()  # –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    
    @contextmanager
    def get_resource(self, timeout: float = 5.0) -> Iterator[int]:
        """–ü–æ–ª—É—á–∞–µ–º —Ä–µ—Å—É—Ä—Å –∏–∑ –ø—É–ª–∞"""
        resource_id = None
        start_time = time.time()
        
        # –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å
        while time.time() - start_time < timeout:
            with self.lock:
                if self.available_resources:  # –µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
                    resource_id = self.available_resources.pop()  # –±–µ—Ä—ë–º —Ä–µ—Å—É—Ä—Å
                    self.used_resources.add(resource_id)  # –æ—Ç–º–µ—á–∞–µ–º –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π
                    break
            
            # –ï—Å–ª–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–µ—Ç, –∂–¥—ë–º –Ω–µ–º–Ω–æ–≥–æ
            time.sleep(0.1)
        
        if resource_id is None:
            raise RuntimeError("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å –∏–∑ –ø—É–ª–∞")
        
        print(f"üéØ –ü–æ–ª—É—á–∏–ª–∏ —Ä–µ—Å—É—Ä—Å #{resource_id}")
        
        try:
            yield resource_id  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ—Å—É—Ä—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        finally:
            # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ—Å—É—Ä—Å –≤ –ø—É–ª
            with self.lock:
                if resource_id in self.used_resources:
                    self.used_resources.remove(resource_id)
                    self.available_resources.append(resource_id)
                    print(f"üîÑ –í–µ—Ä–Ω—É–ª–∏ —Ä–µ—Å—É—Ä—Å #{resource_id} –≤ –ø—É–ª")
    
    def get_stats(self) -> dict:
        """–ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—É–ª–∞"""
        with self.lock:
            return {
                'total': self.max_resources,
                'available': len(self.available_resources),
                'used': len(self.used_resources),
                'available_ids': sorted(self.available_resources),
                'used_ids': sorted(self.used_resources)
            }

def demonstrate_resource_pool():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—É–ª–∞ —Ä–µ—Å—É—Ä—Å–æ–≤"""
    
    print("üèä‚Äç‚ôÇÔ∏è –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—É–ª–∞ —Ä–µ—Å—É—Ä—Å–æ–≤:")
    
    # –°–æ–∑–¥–∞—ë–º –ø—É–ª –∏–∑ 3 —Ä–µ—Å—É—Ä—Å–æ–≤
    pool = ResourcePool(max_resources=3)
    
    def worker_with_pool(worker_id: int, work_duration: float):
        """–†–∞–±–æ—á–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è –ø—É–ª —Ä–µ—Å—É—Ä—Å–æ–≤"""
        try:
            with pool.get_resource() as resource_id:
                print(f"üõ†Ô∏è –†–∞–±–æ—á–∏–π {worker_id} –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ—Å—É—Ä—Å #{resource_id}")
                
                # –ò–º–∏—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É
                time.sleep(work_duration)
                
                print(f"‚úÖ –†–∞–±–æ—á–∏–π {worker_id} –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É —Å —Ä–µ—Å—É—Ä—Å–æ–º #{resource_id}")
        except RuntimeError as e:
            print(f"‚ùå –†–∞–±–æ—á–∏–π {worker_id} –Ω–µ —Å–º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å: {e}")
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    print(f"üìä –ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: {pool.get_stats()}")
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–±–æ—á–∏—Ö –ø–æ—Ç–æ–∫–æ–≤
    threads = []
    work_durations = [1.0, 1.5, 2.0, 0.5, 1.2]  # —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
    
    for i, duration in enumerate(work_durations):
        thread = threading.Thread(
            target=worker_with_pool,
            args=(i + 1, duration)
        )
        threads.append(thread)
        thread.start()
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞
        time.sleep(0.1)  # –Ω–µ–±–æ–ª—å—à–∞—è –ø–∞—É–∑–∞
        print(f"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ {i + 1}: {pool.get_stats()}")
    
    # –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤
    for thread in threads:
        thread.join()
    
    # –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    print(f"üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: {pool.get_stats()}")

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
if __name__ == "__main__":
    print("üèóÔ∏è –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤:")
    demonstrate_context_managers()  # –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã
    
    print("\n" + "="*60 + "\n")
    
    demonstrate_exit_stack()  # ExitStack
    
    print("\n" + "="*60 + "\n")
    
    demonstrate_resource_pool()  # –ø—É–ª —Ä–µ—Å—É—Ä—Å–æ–≤
```

## üõ†Ô∏è 6. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ä–∞–±–æ—Ç–∞ —Å –º–æ–¥—É–ª—è–º–∏ –∏ –ø–∞–∫–µ—Ç–∞–º–∏

### üì¶ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è

```python
import importlib
import importlib.util
import inspect
import sys
import types
from pathlib import Path
from typing import Any, Dict, List, Optional, Callable

# –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π
class DynamicModuleLoader:
    """–ö–ª–∞—Å—Å –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π"""
    
    def __init__(self):
        self.loaded_modules: Dict[str, types.ModuleType] = {}  # –∫—ç—à –º–æ–¥—É–ª–µ–π
    
    def load_module_from_path(self, module_name: str, file_path: str) -> types.ModuleType:
        """–ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª—å –∏–∑ —Ñ–∞–π–ª–∞"""
        
        if module_name in self.loaded_modules:
            print(f"üìã –ú–æ–¥—É–ª—å {module_name} —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ –∫—ç—à–∞")
            return self.loaded_modules[module_name]
        
        try:
            # –°–æ–∑–¥–∞—ë–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –º–æ–¥—É–ª—è
            spec = importlib.util.spec_from_file_location(module_name, file_path)
            if spec is None:
                raise ImportError(f"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è {file_path}")
            
            # –°–æ–∑–¥–∞—ë–º –º–æ–¥—É–ª—å
            module = importlib.util.module_from_spec(spec)
            
            # –î–æ–±–∞–≤–ª—è–µ–º –º–æ–¥—É–ª—å –≤ sys.modules –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏–º–ø–æ—Ä—Ç–æ–≤
            sys.modules[module_name] = module
            
            # –í—ã–ø–æ–ª–Ω—è–µ–º –º–æ–¥—É–ª—å
            spec.loader.exec_module(module)
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à–µ
            self.loaded_modules[module_name] = module
            
            print(f"‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω –º–æ–¥—É–ª—å {module_name} –∏–∑ {file_path}")
            return module
            
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è {module_name}: {e}")
            raise
    
    def load_module_by_name(self, module_name: str) -> types.ModuleType:
        """–ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª—å –ø–æ –∏–º–µ–Ω–∏"""
        
        if module_name in self.loaded_modules:
            return self.loaded_modules[module_name]
        
        try:
            module = importlib.import_module(module_name)
            self.loaded_modules[module_name] = module
            print(f"‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω –º–æ–¥—É–ª—å {module_name}")
            return module
            
        except ImportError as e:
            print(f"‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª—å {module_name}: {e}")
            raise
    
    def reload_module(self, module_name: str) -> types.ModuleType:
        """–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª—å"""
        
        if module_name in self.loaded_modules:
            module = self.loaded_modules[module_name]
            reloaded_module = importlib.reload(module)
            self.loaded_modules[module_name] = reloaded_module
            print(f"üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω –º–æ–¥—É–ª—å {module_name}")
            return reloaded_module
        else:
            raise ValueError(f"–ú–æ–¥—É–ª—å {module_name} –Ω–µ –±—ã–ª –∑–∞–≥—Ä—É–∂–µ–Ω —Ä–∞–Ω–µ–µ")
    
    def get_module_info(self, module: types.ModuleType) -> Dict[str, Any]:
        """–ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–æ–¥—É–ª–µ"""
        
        info = {
            'name': getattr(module, '__name__', 'Unknown'),
            'file': getattr(module, '__file__', 'Unknown'),
            'package': getattr(module, '__package__', 'Unknown'),
            'doc': getattr(module, '__doc__', 'No documentation'),
            'functions': [],
            'classes': [],
            'variables': []
        }
        
        # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥—É–ª—è
        for name in dir(module):
            if name.startswith('_'):  # –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
                continue
            
            obj = getattr(module, name)
            
            if inspect.isfunction(obj):
                info['functions'].append({
                    'name': name,
                    'doc': inspect.getdoc(obj),
                    'signature': str(inspect.signature(obj))
                })
            elif inspect.isclass(obj):
                info['classes'].append({
                    'name': name,
                    'doc': inspect.getdoc(obj),
                    'methods': [method for method in dir(obj) if not method.startswith('_')]
                })
            elif not inspect.ismodule(obj):
                info['variables'].append({
                    'name': name,
                    'type': type(obj).__name__,
                    'value': str(obj)[:100]  # –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É
                })
        
        return info

# –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
class PluginSystem:
    """–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º"""
    
    def __init__(self, plugin_directory: str):
        self.plugin_directory = Path(plugin_directory)
        self.plugins: Dict[str, types.ModuleType] = {}
        self.plugin_metadata: Dict[str, Dict[str, Any]] = {}
        self.loader = DynamicModuleLoader()
    
    def discover_plugins(self) -> List[str]:
        """–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏"""
        
        if not self.plugin_directory.exists():
            print(f"‚ùå –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {self.plugin_directory}")
            return []
        
        plugin_files = []
        
        # –ò—â–µ–º Python —Ñ–∞–π–ª—ã
        for file_path in self.plugin_directory.glob("*.py"):
            if file_path.name != "__init__.py":  # –ø—Ä–æ–ø—É—Å–∫–∞–µ–º __init__.py
                plugin_files.append(str(file_path))
        
        print(f"üîç –ù–∞–π–¥–µ–Ω–æ {len(plugin_files)} –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤")
        return plugin_files
    
    def load_plugin(self, plugin_path: str) -> Optional[types.ModuleType]:
        """–ó–∞–≥—Ä—É–∂–∞–µ–º –æ–¥–∏–Ω –ø–ª–∞–≥–∏–Ω"""
        
        plugin_name = Path(plugin_path).stem  # –∏–º—è —Ñ–∞–π–ª–∞ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
        
        try:
            # –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª—å
            plugin_module = self.loader.load_module_from_path(
                f"plugin_{plugin_name}", plugin_path
            )
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–ª–∞–≥–∏–Ω
            if not hasattr(plugin_module, 'plugin_info'):
                print(f"‚ö†Ô∏è {plugin_name} –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç plugin_info, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º")
                return None
            
            # –ü–æ–ª—É—á–∞–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω–∞
            plugin_info = plugin_module.plugin_info
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
            required_fields = ['name', 'version', 'description']
            for field in required_fields:
                if field not in plugin_info:
                    print(f"‚ö†Ô∏è {plugin_name} –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ '{field}'")
                    return None
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–ª–∞–≥–∏–Ω
            self.plugins[plugin_name] = plugin_module
            self.plugin_metadata[plugin_name] = plugin_info
            
            print(f"üéâ –ó–∞–≥—Ä—É–∂–µ–Ω –ø–ª–∞–≥–∏–Ω: {plugin_info['name']} v{plugin_info['version']}")
            return plugin_module
            
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–ª–∞–≥–∏–Ω–∞ {plugin_name}: {e}")
            return None
    
    def load_all_plugins(self):
        """–ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –ø–ª–∞–≥–∏–Ω—ã"""
        
        plugin_files = self.discover_plugins()
        
        for plugin_path in plugin_files:
            self.load_plugin(plugin_path)
    
    def get_plugin(self, plugin_name: str) -> Optional[types.ModuleType]:
        """–ü–æ–ª—É—á–∞–µ–º –ø–ª–∞–≥–∏–Ω –ø–æ –∏–º–µ–Ω–∏"""
        return self.plugins.get(plugin_name)
    
    def list_plugins(self) -> Dict[str, Dict[str, Any]]:
        """–ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤"""
        return self.plugin_metadata.copy()
    
    def execute_plugin_function(self, plugin_name: str, function_name: str, *args, **kwargs) -> Any:
        """–í—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø–ª–∞–≥–∏–Ω–∞"""
        
        plugin = self.get_plugin(plugin_name)
        if plugin is None:
            raise ValueError(f"–ü–ª–∞–≥–∏–Ω {plugin_name} –Ω–µ –Ω–∞–π–¥–µ–Ω")
        
        if not hasattr(plugin, function_name):
            raise ValueError(f"–§—É–Ω–∫—Ü–∏—è {function_name} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –ø–ª–∞–≥–∏–Ω–µ {plugin_name}")
        
        func = getattr(plugin, function_name)
        if not callable(func):
            raise ValueError(f"{function_name} –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π")
        
        print(f"üöÄ –í—ã–ø–æ–ª–Ω—è–µ–º {plugin_name}.{function_name}")
        return func(*args, **kwargs)

# –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –º–æ–¥—É–ª–µ–π
class ModuleAnalyzer:
    """–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –º–æ–¥—É–ª–µ–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"""
    
    @staticmethod
    def analyze_function(func: Callable) -> Dict[str, Any]:
        """–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é"""
        
        try:
            signature = inspect.signature(func)
            source_lines = inspect.getsourcelines(func)
            
            return {
                'name': func.__name__,
                'doc': inspect.getdoc(func),
                'signature': str(signature),
                'parameters': [
                    {
                        'name': param.name,
                        'default': param.default if param.default != param.empty else None,
                        'annotation': param.annotation if param.annotation != param.empty else None
                    }
                    for param in signature.parameters.values()
                ],
                'source_file': inspect.getfile(func),
                'source_lines': {
                    'start': source_lines[1],
                    'count': len(source_lines[0])
                },
                'is_coroutine': inspect.iscoroutinefunction(func),
                'is_generator': inspect.isgeneratorfunction(func)
            }
        except Exception as e:
            return {'name': func.__name__, 'error': str(e)}
    
    @staticmethod
    def analyze_class(cls: type) -> Dict[str, Any]:
        """–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–ª–∞—Å—Å"""
        
        try:
            return {
                'name': cls.__name__,
                'doc': inspect.getdoc(cls),
                'module': cls.__module__,
                'bases': [base.__name__ for base in cls.__bases__],
                'methods': [
                    ModuleAnalyzer.analyze_function(getattr(cls, method_name))
                    for method_name in dir(cls)
                    if not method_name.startswith('_') and 
                       callable(getattr(cls, method_name))
                ],
                'attributes': [
                    attr for attr in dir(cls)
                    if not attr.startswith('_') and 
                       not callable(getattr(cls, attr))
                ],
                'source_file': inspect.getfile(cls),
                'is_abstract': inspect.isabstract(cls)
            }
        except Exception as e:
            return {'name': cls.__name__, 'error': str(e)}
    
    @staticmethod
    def get_module_dependencies(module: types.ModuleType) -> List[str]:
        """–ü–æ–ª—É—á–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–¥—É–ª—è"""
        
        dependencies = []
        
        # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –≤ –º–æ–¥—É–ª–µ
        for name in dir(module):
            obj = getattr(module, name)
            
            if inspect.ismodule(obj):
                # –ï—Å–ª–∏ —ç—Ç–æ –º–æ–¥—É–ª—å –∏ –æ–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
                module_name = getattr(obj, '__name__', '')
                if module_name and not module_name.startswith('builtins'):
                    dependencies.append(module_name)
            elif hasattr(obj, '__module__'):
                # –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –∞—Ç—Ä–∏–±—É—Ç __module__
                obj_module = getattr(obj, '__module__')
                if obj_module and obj_module != module.__name__:
                    dependencies.append(obj_module)
        
        return list(set(dependencies))  # —É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥—É–ª—è–º–∏
def create_sample_plugins():
    """–°–æ–∑–¥–∞—ë–º –ø—Ä–∏–º–µ—Ä—ã –ø–ª–∞–≥–∏–Ω–æ–≤ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏"""
    
    # –°–æ–∑–¥–∞—ë–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤
    plugin_dir = Path("sample_plugins")
    plugin_dir.mkdir(exist_ok=True)
    
    # –ü–µ—Ä–≤—ã–π –ø–ª–∞–≥–∏–Ω - –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
    calculator_plugin = '''
# –ü–ª–∞–≥–∏–Ω –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
plugin_info = {
    "name": "Calculator Plugin",
    "version": "1.0.0",
    "description": "–ü—Ä–æ—Å—Ç–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –±–∞–∑–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏",
    "author": "AI Assistant"
}

def add(a, b):
    """–°–ª–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª"""
    return a + b

def multiply(a, b):
    """–£–º–Ω–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª"""
    return a * b

def calculate(expression):
    """–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è"""
    try:
        # –í–ù–ò–ú–ê–ù–ò–ï: –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ eval –æ–ø–∞—Å–µ–Ω!
        # –ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
        return eval(expression)
    except Exception as e:
        return f"–û—à–∏–±–∫–∞: {e}"

def get_operations():
    """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"""
    return ["add", "multiply", "calculate"]
'''
    
    # –í—Ç–æ—Ä–æ–π –ø–ª–∞–≥–∏–Ω - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Å—Ç—Ä–æ–∫
    string_plugin = '''
# –ü–ª–∞–≥–∏–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
plugin_info = {
    "name": "String Utils Plugin",
    "version": "2.1.0",
    "description": "–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏",
    "author": "AI Assistant"
}

def reverse_string(text):
    """–ü–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É"""
    return text[::-1]

def count_words(text):
    """–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤"""
    return len(text.split())

def to_title_case(text):
    """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ Title Case"""
    return text.title()

class StringAnalyzer:
    """–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å—Ç—Ä–æ–∫"""
    
    def __init__(self, text):
        self.text = text
    
    def analyze(self):
        """–ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä–æ–∫–∏"""
        return {
            "length": len(self.text),
            "words": count_words(self.text),
            "characters": len(self.text.replace(" ", "")),
            "uppercase": sum(1 for c in self.text if c.isupper()),
            "lowercase": sum(1 for c in self.text if c.islower())
        }
'''
    
    # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –ø–ª–∞–≥–∏–Ω—ã –≤ —Ñ–∞–π–ª—ã
    with open(plugin_dir / "calculator.py", "w", encoding="utf-8") as f:
        f.write(calculator_plugin)
    
    with open(plugin_dir / "string_utils.py", "w", encoding="utf-8") as f:
        f.write(string_plugin)
    
    print(f"‚úÖ –°–æ–∑–¥–∞–ª–∏ –ø—Ä–∏–º–µ—Ä—ã –ø–ª–∞–≥–∏–Ω–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ {plugin_dir}")

def demonstrate_dynamic_modules():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥—É–ª—è–º–∏"""
    
    print("üì¶ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π:")
    
    # –°–æ–∑–¥–∞—ë–º –ø—Ä–∏–º–µ—Ä—ã –ø–ª–∞–≥–∏–Ω–æ–≤
    create_sample_plugins()
    
    # –°–æ–∑–¥–∞—ë–º –∑–∞–≥—Ä—É–∑—á–∏–∫ –º–æ–¥—É–ª–µ–π
    loader = DynamicModuleLoader()
    
    # –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–æ–¥—É–ª—å
    math_module = loader.load_module_by_name("math")
    print(f"üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥—É–ª–µ math:")
    
    math_info = loader.get_module_info(math_module)
    print(f"  –§—É–Ω–∫—Ü–∏–∏: {len(math_info['functions'])}")
    print(f"  –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: {len(math_info['variables'])}")
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–≥–∏–Ω–æ–≤
    print("\nüîå –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤:")
    
    plugin_system = PluginSystem("sample_plugins")
    plugin_system.load_all_plugins()
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã
    plugins = plugin_system.list_plugins()
    print(f"\nüìã –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã:")
    for plugin_name, metadata in plugins.items():
        print(f"  ‚Ä¢ {metadata['name']} v{metadata['version']}")
        print(f"    {metadata['description']}")
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–ª–∞–≥–∏–Ω—ã
    print("\nüöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤:")
    
    # –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
    result = plugin_system.execute_plugin_function("calculator", "add", 5, 3)
    print(f"calculator.add(5, 3) = {result}")
    
    result = plugin_system.execute_plugin_function("calculator", "calculate", "2 ** 8")
    print(f"calculator.calculate('2 ** 8') = {result}")
    
    # –°—Ç—Ä–æ–∫–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
    result = plugin_system.execute_plugin_function("string_utils", "reverse_string", "Hello World!")
    print(f"string_utils.reverse_string('Hello World!') = '{result}'")
    
    result = plugin_system.execute_plugin_function("string_utils", "count_words", "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?")
    print(f"string_utils.count_words('–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?') = {result}")
    
    # –ê–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª–µ–π
    print("\nüîç –ê–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª–µ–π:")
    
    analyzer = ModuleAnalyzer()
    
    # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–¥–∏–Ω –∏–∑ –ø–ª–∞–≥–∏–Ω–æ–≤
    calculator_plugin = plugin_system.get_plugin("calculator")
    if calculator_plugin:
        dependencies = analyzer.get_module_dependencies(calculator_plugin)
        print(f"–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞: {dependencies}")
        
        # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é add
        if hasattr(calculator_plugin, 'add'):
            func_info = analyzer.analyze_function(calculator_plugin.add)
            print(f"–ê–Ω–∞–ª–∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ add:")
            print(f"  –°–∏–≥–Ω–∞—Ç—É—Ä–∞: {func_info['signature']}")
            print(f"  –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: {func_info['doc']}")

# –ó–∞–ø—É—Å–∫–∞–µ–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é
if __name__ == "__main__":
    demonstrate_dynamic_modules()
    
    # –û—á–∏—Å—Ç–∫–∞: —É–¥–∞–ª—è–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
    import shutil
    plugin_dir = Path("sample_plugins")
    if plugin_dir.exists():
        shutil.rmtree(plugin_dir)
        print(f"\nüßπ –û—á–∏—Å—Ç–∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é {plugin_dir}")
```

## ‚ö° 7. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### üèÉ‚Äç‚ôÇÔ∏è –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –±–µ–Ω—á–º–∞—Ä–∫–∏

```python
import cProfile
import time
import timeit
import functools
import sys
from typing import Callable, Any, List, Dict
from memory_profiler import profile
import tracemalloc

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
def timing_decorator(func: Callable) -> Callable:
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏"""
    
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.perf_counter()  # –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã–π —Å—á—ë—Ç—á–∏–∫
        result = func(*args, **kwargs)
        end_time = time.perf_counter()
        
        execution_time = end_time - start_time
        print(f"‚è±Ô∏è {func.__name__} –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –∑–∞ {execution_time:.6f} —Å–µ–∫—É–Ω–¥")
        
        return result
    return wrapper

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
def memory_profiler_decorator(func: Callable) -> Callable:
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏"""
    
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        tracemalloc.start()  # –Ω–∞—á–∏–Ω–∞–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
        
        result = func(*args, **kwargs)
        
        current, peak = tracemalloc.get_traced_memory()
        tracemalloc.stop()
        
        print(f"üíæ {func.__name__}:")
        print(f"  –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: {current / 1024 / 1024:.2f} MB")
        print(f"  –ü–∏–∫–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: {peak / 1024 / 1024:.2f} MB")
        
        return result
    return wrapper

# –ë–µ–Ω—á–º–∞—Ä–∫ –∫–ª–∞—Å—Å –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
class Benchmark:
    """–ö–ª–∞—Å—Å –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –±–µ–Ω—á–º–∞—Ä–∫–æ–≤"""
    
    def __init__(self, name: str):
        self.name = name
        self.results: Dict[str, Dict[str, float]] = {}
    
    def run_benchmark(self, func: Callable, name: str, *args, **kwargs) -> Dict[str, float]:
        """–ó–∞–ø—É—Å–∫–∞–µ–º –±–µ–Ω—á–º–∞—Ä–∫ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏"""
        
        print(f"üèÉ‚Äç‚ôÇÔ∏è –ë–µ–Ω—á–º–∞—Ä–∫: {name}")
        
        # –ò–∑–º–µ—Ä—è–µ–º –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        execution_times = []
        for i in range(5):  # –¥–µ–ª–∞–µ–º 5 –∑–∞–ø—É—Å–∫–æ–≤
            start_time = time.perf_counter()
            result = func(*args, **kwargs)
            end_time = time.perf_counter()
            execution_times.append(end_time - start_time)
        
        # –í—ã—á–∏—Å–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        avg_time = sum(execution_times) / len(execution_times)
        min_time = min(execution_times)
        max_time = max(execution_times)
        
        # –ò–∑–º–µ—Ä—è–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
        tracemalloc.start()
        result = func(*args, **kwargs)
        current, peak = tracemalloc.get_traced_memory()
        tracemalloc.stop()
        
        benchmark_result = {
            'avg_time': avg_time,
            'min_time': min_time,
            'max_time': max_time,
            'memory_current': current,
            'memory_peak': peak
        }
        
        self.results[name] = benchmark_result
        
        print(f"  –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: {avg_time:.6f}s")
        print(f"  –ü–∞–º—è—Ç—å (–ø–∏–∫): {peak / 1024 / 1024:.2f} MB")
        
        return benchmark_result
    
    def compare_results(self):
        """–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–Ω—á–º–∞—Ä–∫–æ–≤"""
        
        print(f"\nüìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±–µ–Ω—á–º–∞—Ä–∫–∞ '{self.name}':")
        print("="*60)
        
        # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        sorted_by_time = sorted(self.results.items(), key=lambda x: x[1]['avg_time'])
        sorted_by_memory = sorted(self.results.items(), key=lambda x: x[1]['memory_peak'])
        
        print(f"üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–æ—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –∫ –º–µ–¥–ª–µ–Ω–Ω–æ–º—É):")
        for i, (name, data) in enumerate(sorted_by_time, 1):
            print(f"{i}. {name}: {data['avg_time']:.6f}s (–ø–∞–º—è—Ç—å: {data['memory_peak'] / 1024 / 1024:.2f} MB)")
        
        print(f"\nüíæ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –ø–∞–º—è—Ç–∏ (–æ—Ç –º–µ–Ω—å—à–µ–≥–æ –∫ –±–æ–ª—å—à–µ–º—É):")
        for i, (name, data) in enumerate(sorted_by_memory, 1):
            print(f"{i}. {name}: {data['memory_peak'] / 1024 / 1024:.2f} MB (–≤—Ä–µ–º—è: {data['avg_time']:.6f}s)")
        
        # –ù–∞—Ö–æ–¥–∏–º –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        fastest = sorted_by_time[0]
        most_memory_efficient = sorted_by_memory[0]
        
        print(f"\nüèÜ –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π: {fastest[0]}")
        print(f"üèÜ –°–∞–º—ã–π —ç–∫–æ–Ω–æ–º–∏—á–Ω—ã–π –ø–æ –ø–∞–º—è—Ç–∏: {most_memory_efficient[0]}")

# –†–∞–∑–ª–∏—á–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
def bubble_sort(arr):
    """–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—É–∑—ã—Ä—å–∫–æ–º - –º–µ–¥–ª–µ–Ω–Ω–∞—è, –Ω–æ –ø—Ä–æ—Å—Ç–∞—è"""
    n = len(arr)
    for i in range(n):
        for j in range(0, n - i - 1):
            if arr[j] > arr[j + 1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
    return arr

def quick_sort(arr):
    """–ë—ã—Å—Ç—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞"""
    if len(arr) <= 1:
        return arr
    pivot = arr[len(arr) // 2]
    left = [x for x in arr if x < pivot]
    middle = [x for x in arr if x == pivot]
    right = [x for x in arr if x > pivot]
    return quick_sort(left) + middle + quick_sort(right)

def merge_sort(arr):
    """–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–∏—è–Ω–∏–µ–º"""
    if len(arr) <= 1:
        return arr
    
    mid = len(arr) // 2
    left = merge_sort(arr[:mid])
    right = merge_sort(arr[mid:])
    
    result = []
    i = j = 0
    
    while i < len(left) and j < len(right):
        if left[i] <= right[j]:
            result.append(left[i])
            i += 1
        else:
            result.append(right[j])
            j += 1
    
    result.extend(left[i:])
    result.extend(right[j:])
    return result

def insertion_sort(arr):
    """–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤—Å—Ç–∞–≤–∫–∞–º–∏"""
    for i in range(1, len(arr)):
        key = arr[i]
        j = i - 1
        while j >= 0 and arr[j] > key:
            arr[j + 1] = arr[j]
            j -= 1
        arr[j + 1] = key
    return arr

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –±–µ–Ω—á–º–∞—Ä–∫–æ–≤
def demonstrate_benchmarking():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –±–µ–Ω—á–º–∞—Ä–∫–æ–≤"""
    
    import random
    
    print("üéØ –ë–µ–Ω—á–º–∞—Ä–∫ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏")
    
    # –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    test_data = [random.randint(1, 1000) for _ in range(1000)]
    
    # –°–æ–∑–¥–∞–µ–º –±–µ–Ω—á–º–∞—Ä–∫
    benchmark = Benchmark("–ê–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏")
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
    benchmark.run_benchmark(bubble_sort, "Bubble Sort", test_data.copy())
    benchmark.run_benchmark(quick_sort, "Quick Sort", test_data.copy())
    benchmark.run_benchmark(merge_sort, "Merge Sort", test_data.copy())
    benchmark.run_benchmark(insertion_sort, "Insertion Sort", test_data.copy())
    benchmark.run_benchmark(sorted, "Built-in Sorted", test_data.copy())
    
    # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    benchmark.compare_results()

# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
def profile_function_example():
    """–ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è"""
    # –ò–º–∏—Ç–∏—Ä—É–µ–º —Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
    result = []
    for i in range(100000):
        result.append(i ** 2)
    
    # –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
    text = ""
    for i in range(1000):
        text += f"Number {i} "
    
    # –†–∞–±–æ—Ç–∞ —Å–æ —Å–ª–æ–≤–∞—Ä—è–º–∏
    data_dict = {}
    for i in range(10000):
        data_dict[f"key_{i}"] = i * 2
    
    return len(result), len(text), len(data_dict)

def run_cprofile_example():
    """–ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å cProfile"""
    
    print("üìä –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å cProfile:")
    print("="*50)
    
    # –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä
    profiler = cProfile.Profile()
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
    profiler.enable()
    result = profile_function_example()
    profiler.disable()
    
    # –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    import io
    import pstats
    
    s = io.StringIO()
    ps = pstats.Stats(profiler, stream=s)
    ps.sort_stats('cumulative')
    ps.print_stats(10)  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ø 10
    
    print(s.getvalue())
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {result}")

# –ü—Ä–∏–º–µ—Ä memory_profiler (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
@profile
def memory_intensive_function():
    """–§—É–Ω–∫—Ü–∏—è, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è –ø–∞–º—è—Ç—å"""
    # –°–æ–∑–¥–∞–µ–º –±–æ–ª—å—à–∏–µ —Å–ø–∏—Å–∫–∏
    big_list1 = [i for i in range(1000000)]
    big_list2 = [i ** 2 for i in range(1000000)]
    
    # –°–æ–∑–¥–∞–µ–º —Å–ª–æ–≤–∞—Ä—å
    big_dict = {i: i ** 3 for i in range(500000)}
    
    # –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º —á–∞—Å—Ç—å –ø–∞–º—è—Ç–∏
    del big_list1
    
    return len(big_list2), len(big_dict)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ timeit –¥–ª—è —Ç–æ—á–Ω—ã—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–π
def demonstrate_timeit():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è timeit"""
    
    print("‚è±Ô∏è –¢–æ—á–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Å timeit:")
    print("="*50)
    
    # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤
    
    # List comprehension
    time1 = timeit.timeit('[i for i in range(1000)]', number=10000)
    print(f"List comprehension: {time1:.6f} —Å–µ–∫—É–Ω–¥")
    
    # –¶–∏–∫–ª for —Å append
    setup = "result = []"
    code = """
for i in range(1000):
    result.append(i)
"""
    time2 = timeit.timeit(code, setup=setup, number=10000)
    print(f"–¶–∏–∫–ª for —Å append: {time2:.6f} —Å–µ–∫—É–Ω–¥")
    
    # map() —Å range
    time3 = timeit.timeit('list(map(lambda x: x, range(1000)))', number=10000)
    print(f"map() —Å lambda: {time3:.6f} —Å–µ–∫—É–Ω–¥")
    
    # –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è list()
    time4 = timeit.timeit('list(range(1000))', number=10000)
    print(f"–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è list(): {time4:.6f} —Å–µ–∫—É–Ω–¥")
    
    print(f"\n–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± –≤ {time1/time4:.2f} —Ä–∞–∑ –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ")

# –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
class SimpleProfiler:
    """–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞"""
    
    def __init__(self, name="–ë–ª–æ–∫ –∫–æ–¥–∞"):
        self.name = name
        self.start_time = None
        self.end_time = None
    
    def __enter__(self):
        print(f"üöÄ –ù–∞—á–∏–Ω–∞–µ–º –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: {self.name}")
        self.start_time = time.perf_counter()
        return self
    
    def __exit__(self, exc_type, exc_value, traceback):
        self.end_time = time.perf_counter()
        execution_time = self.end_time - self.start_time
        
        if exc_type is None:
            print(f"‚úÖ {self.name} –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞ {execution_time:.6f} —Å–µ–∫—É–Ω–¥")
        else:
            print(f"‚ùå {self.name} –ø—Ä–µ—Ä–≤–∞–Ω —á–µ—Ä–µ–∑ {execution_time:.6f} —Å–µ–∫—É–Ω–¥")
        
        return False
    
    @property
    def execution_time(self):
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"""
        if self.start_time and self.end_time:
            return self.end_time - self.start_time
        return 0

def demonstrate_custom_profiler():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä–∞"""
    
    print("üîß –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä:")
    
    with SimpleProfiler("–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è"):
        # –ò–º–∏—Ç–∏—Ä—É–µ–º —Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
        result = sum(i ** 2 for i in range(100000))
        print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π: {result}")
    
    with SimpleProfiler("–†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏"):
        # –°–æ–∑–¥–∞–µ–º –±–æ–ª—å—à—É—é —Å—Ç—Ä–æ–∫—É
        big_string = "".join(str(i) for i in range(50000))
        print(f"–°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –¥–ª–∏–Ω–æ–π: {len(big_string)} —Å–∏–º–≤–æ–ª–æ–≤")
    
    with SimpleProfiler("–†–∞–±–æ—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏"):
        # –°–æ–∑–¥–∞–µ–º –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–ø–∏—Å–æ–∫
        data = list(range(200000))
        filtered_data = [x for x in data if x % 2 == 0]
        print(f"–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ {len(filtered_data)} —á–µ—Ç–Ω—ã—Ö —á–∏—Å–µ–ª")

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
if __name__ == "__main__":
    print("üî• –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ Python:")
    
    print("\n" + "="*70 + "\n")
    
    demonstrate_benchmarking()
    
    print("\n" + "="*70 + "\n")
    
    run_cprofile_example()
    
    print("\n" + "="*70 + "\n")
    
    demonstrate_timeit()
    
    print("\n" + "="*70 + "\n")
    
    demonstrate_custom_profiler()
    
    print("\nüéâ –í—Å–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã!")
    print("üí° –ü–æ–º–Ω–∏—Ç–µ: –ø—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π!")
    print("üí° \"Premature optimization is the root of all evil\" - Donald Knuth")
```

–ï–±–∞—Ç—å, –≥–æ—Ç–æ–≤–æ! üöÄ  

–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –∞—Ä—Å–µ–Ω–∞–ª –∫—Ä—É—Ç—ã—Ö —Ç–µ—Ö–Ω–∏–∫:

**üí™ –¢–µ–ø–µ—Ä—å —Ç—ã –≥–æ—Ç–æ–≤ –∫:**
- Senior Python —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–∑–∏—Ü–∏—è–º
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è–º  
- –°–æ–∑–¥–∞–Ω–∏—é –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –†–∞–±–æ—Ç–µ —Å –ª—é–±—ã–º–∏ Python —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏




